<!DOCTYPE article
PUBLIC "-//NLM//DTD JATS (Z39.96) Journal Archiving and Interchange DTD with MathML3 v1.3 20210610//EN" "JATS-archivearticle1-3-mathml3.dtd">
<article xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink" dtd-version="1.3" xml:lang="en" article-type="research-article"><?properties open_access?><processing-meta base-tagset="archiving" mathml-version="3.0" table-model="xhtml" tagset-family="jats"><restricted-by>pmc</restricted-by></processing-meta><front><journal-meta><journal-id journal-id-type="nlm-ta">Sensors (Basel)</journal-id><journal-id journal-id-type="iso-abbrev">Sensors (Basel)</journal-id><journal-id journal-id-type="publisher-id">sensors</journal-id><journal-title-group><journal-title>Sensors (Basel, Switzerland)</journal-title></journal-title-group><issn pub-type="epub">1424-8220</issn><publisher><publisher-name>MDPI</publisher-name></publisher></journal-meta>
<article-meta><article-id pub-id-type="pmid">40006429</article-id><article-id pub-id-type="pmc">PMC11859736</article-id><article-id pub-id-type="doi">10.3390/s25041200</article-id><article-id pub-id-type="publisher-id">sensors-25-01200</article-id><article-categories><subj-group subj-group-type="heading"><subject>Article</subject></subj-group></article-categories><title-group><article-title>LoRaBB: An Algorithm for Parameter Selection in LoRa-Based Communication for the Amazon Rainforest</article-title></title-group><contrib-group><contrib contrib-type="author"><contrib-id contrib-id-type="orcid" authenticated="true">https://orcid.org/0000-0003-2331-6553</contrib-id><name><surname>Moreira</surname><given-names>Diogo Soares</given-names></name><role vocab="credit" vocab-identifier="https://credit.niso.org/" vocab-term="Conceptualization" vocab-term-identifier="https://credit.niso.org/contributor-roles/conceptualization/">Conceptualization</role><role vocab="credit" vocab-identifier="https://credit.niso.org/" vocab-term="Methodology" vocab-term-identifier="https://credit.niso.org/contributor-roles/methodology/">Methodology</role><role vocab="credit" vocab-identifier="https://credit.niso.org/" vocab-term="Validation" vocab-term-identifier="https://credit.niso.org/contributor-roles/validation/">Validation</role><role vocab="credit" vocab-identifier="https://credit.niso.org/" vocab-term="Investigation" vocab-term-identifier="https://credit.niso.org/contributor-roles/investigation/">Investigation</role><role vocab="credit" vocab-identifier="https://credit.niso.org/" vocab-term="Data curation" vocab-term-identifier="https://credit.niso.org/contributor-roles/data-curation/">Data curation</role><role vocab="credit" vocab-identifier="https://credit.niso.org/" vocab-term="Writing &#x02013; original draft" vocab-term-identifier="https://credit.niso.org/contributor-roles/writing-original-draft/">Writing &#x02013; original draft</role><role vocab="credit" vocab-identifier="https://credit.niso.org/" vocab-term="Writing &#x02013; review &#x00026; editing" vocab-term-identifier="https://credit.niso.org/contributor-roles/writing-review-editing/">Writing &#x02013; review &#x00026; editing</role><role vocab="credit" vocab-identifier="https://credit.niso.org/" vocab-term="Project administration" vocab-term-identifier="https://credit.niso.org/contributor-roles/project-administration/">Project administration</role><xref rid="af1-sensors-25-01200" ref-type="aff">1</xref><xref rid="c1-sensors-25-01200" ref-type="corresp">*</xref></contrib><contrib contrib-type="author"><contrib-id contrib-id-type="orcid" authenticated="true">https://orcid.org/0000-0001-8362-3024</contrib-id><name><surname>Santos</surname><given-names>Gilmara</given-names></name><role vocab="credit" vocab-identifier="https://credit.niso.org/" vocab-term="Validation" vocab-term-identifier="https://credit.niso.org/contributor-roles/validation/">Validation</role><role vocab="credit" vocab-identifier="https://credit.niso.org/" vocab-term="Data curation" vocab-term-identifier="https://credit.niso.org/contributor-roles/data-curation/">Data curation</role><role vocab="credit" vocab-identifier="https://credit.niso.org/" vocab-term="Writing &#x02013; review &#x00026; editing" vocab-term-identifier="https://credit.niso.org/contributor-roles/writing-review-editing/">Writing &#x02013; review &#x00026; editing</role><xref rid="af1-sensors-25-01200" ref-type="aff">1</xref></contrib><contrib contrib-type="author"><contrib-id contrib-id-type="orcid" authenticated="true">https://orcid.org/0000-0001-8691-8784</contrib-id><name><surname>Yanai</surname><given-names>Angela Emi</given-names></name><role vocab="credit" vocab-identifier="https://credit.niso.org/" vocab-term="Investigation" vocab-term-identifier="https://credit.niso.org/contributor-roles/investigation/">Investigation</role><role vocab="credit" vocab-identifier="https://credit.niso.org/" vocab-term="Data curation" vocab-term-identifier="https://credit.niso.org/contributor-roles/data-curation/">Data curation</role><role vocab="credit" vocab-identifier="https://credit.niso.org/" vocab-term="Writing &#x02013; review &#x00026; editing" vocab-term-identifier="https://credit.niso.org/contributor-roles/writing-review-editing/">Writing &#x02013; review &#x00026; editing</role><xref rid="af2-sensors-25-01200" ref-type="aff">2</xref></contrib><contrib contrib-type="author"><name><surname>de Souza</surname><given-names>Pedro Barreto</given-names></name><role vocab="credit" vocab-identifier="https://credit.niso.org/" vocab-term="Software" vocab-term-identifier="https://credit.niso.org/contributor-roles/software/">Software</role><role vocab="credit" vocab-identifier="https://credit.niso.org/" vocab-term="Investigation" vocab-term-identifier="https://credit.niso.org/contributor-roles/investigation/">Investigation</role><xref rid="af1-sensors-25-01200" ref-type="aff">1</xref></contrib><contrib contrib-type="author"><name><surname>de Melo</surname><given-names>Paulo Victor Fernandes</given-names></name><role vocab="credit" vocab-identifier="https://credit.niso.org/" vocab-term="Software" vocab-term-identifier="https://credit.niso.org/contributor-roles/software/">Software</role><role vocab="credit" vocab-identifier="https://credit.niso.org/" vocab-term="Investigation" vocab-term-identifier="https://credit.niso.org/contributor-roles/investigation/">Investigation</role><xref rid="af1-sensors-25-01200" ref-type="aff">1</xref></contrib><contrib contrib-type="author"><contrib-id contrib-id-type="orcid" authenticated="true">https://orcid.org/0000-0001-7411-0673</contrib-id><name><surname>Mota</surname><given-names>Edjair</given-names></name><role vocab="credit" vocab-identifier="https://credit.niso.org/" vocab-term="Conceptualization" vocab-term-identifier="https://credit.niso.org/contributor-roles/conceptualization/">Conceptualization</role><role vocab="credit" vocab-identifier="https://credit.niso.org/" vocab-term="Validation" vocab-term-identifier="https://credit.niso.org/contributor-roles/validation/">Validation</role><role vocab="credit" vocab-identifier="https://credit.niso.org/" vocab-term="Resources" vocab-term-identifier="https://credit.niso.org/contributor-roles/resources/">Resources</role><role vocab="credit" vocab-identifier="https://credit.niso.org/" vocab-term="Writing &#x02013; review &#x00026; editing" vocab-term-identifier="https://credit.niso.org/contributor-roles/writing-review-editing/">Writing &#x02013; review &#x00026; editing</role><role vocab="credit" vocab-identifier="https://credit.niso.org/" vocab-term="Supervision" vocab-term-identifier="https://credit.niso.org/contributor-roles/supervision/">Supervision</role><role vocab="credit" vocab-identifier="https://credit.niso.org/" vocab-term="Project administration" vocab-term-identifier="https://credit.niso.org/contributor-roles/project-administration/">Project administration</role><role vocab="credit" vocab-identifier="https://credit.niso.org/" vocab-term="Funding acquisition" vocab-term-identifier="https://credit.niso.org/contributor-roles/funding-acquisition/">Funding acquisition</role><xref rid="af1-sensors-25-01200" ref-type="aff">1</xref></contrib></contrib-group><contrib-group><contrib contrib-type="editor"><name><surname>Bruno</surname><given-names>Raffaele</given-names></name><role>Academic Editor</role></contrib><contrib contrib-type="editor"><name><surname>Yu</surname><given-names>Guanding</given-names></name><role>Academic Editor</role></contrib></contrib-group><aff id="af1-sensors-25-01200"><label>1</label>Institute of Computing (IComp), Federal University of Amazonas, Manaus 69080-900, Brazil; <email>gilmara@icomp.ufam.edu.br</email> (G.S.); <email>pedro.souza@icomp.ufam.edu.br</email> (P.B.d.S.); <email>paulo.fernandes@icomp.ufam.edu.br</email> (P.V.F.d.M.); <email>edjair@icomp.ufam.edu.br</email> (E.M.)</aff><aff id="af2-sensors-25-01200"><label>2</label>Biblioteca Central (BC), Federal University of Amazonas, Manaus 69080-900, Brazil; <email>angela_yanai@ufam.edu.br</email></aff><author-notes><corresp id="c1-sensors-25-01200"><label>*</label>Correspondence: <email>diogosoaresm@ufam.edu.br</email></corresp></author-notes><pub-date pub-type="epub"><day>16</day><month>2</month><year>2025</year></pub-date><pub-date pub-type="collection"><month>2</month><year>2025</year></pub-date><volume>25</volume><issue>4</issue><elocation-id>1200</elocation-id><history><date date-type="received"><day>21</day><month>10</month><year>2024</year></date><date date-type="rev-recd"><day>08</day><month>1</month><year>2025</year></date><date date-type="accepted"><day>24</day><month>1</month><year>2025</year></date></history><permissions><copyright-statement>&#x000a9; 2025 by the authors.</copyright-statement><copyright-year>2025</copyright-year><license><ali:license_ref xmlns:ali="http://www.niso.org/schemas/ali/1.0/" specific-use="textmining" content-type="ccbylicense">https://creativecommons.org/licenses/by/4.0/</ali:license_ref><license-p>Licensee MDPI, Basel, Switzerland. This article is an open access article distributed under the terms and conditions of the Creative Commons Attribution (CC BY) license (<ext-link ext-link-type="uri" xlink:href="https://creativecommons.org/licenses/by/4.0/">https://creativecommons.org/licenses/by/4.0/</ext-link>).</license-p></license></permissions><abstract><p>The interference of human activities in water bodies has contributed to a deterioration in water quality. With the advancement of the Internet of Things (IoT), aided by transmission technologies such as LoRa (Long Range), low-cost solutions have emerged for long-distance environment monitoring scenarios. One key challenge in such IoT-based systems is selecting LoRa transmission parameters to ensure efficient data exchange among nodes, adapting to varying network conditions. Well-known strategies adapt transmission parameters according to network context through information exchange among nodes and LoRa gateway(s). In this work, we introduce a novel LoRa parameter selection algorithm by incorporating three major LoRa metrics (RSSI, SNR, and PDR) and conducting a comprehensive characterization and validation in the forest environment to build a set of reference values of transmission quality, which are employed in a binary search methodology, utilizing the <italic toggle="yes">R</italic>-array, representing the transmission quality according to LoRa parameters. The experimental results indicate that the proposed algorithm achieves a 16.20% reduction in Time on Air (ToA). Furthermore, our algorithm optimized the transmission power (TP) selection, achieving at least 38% lower energy consumption than ADR TP parameters. These results highlight that our proposed algorithm can enhance the transmissions in a rainforest environment.</p></abstract><kwd-group><kwd>LoRa</kwd><kwd>LoRa transmission parameter selection</kwd><kwd>Internet of Things</kwd><kwd>single-channel LoRa gateways</kwd></kwd-group><funding-group><award-group><funding-source>Samsung Electronics of Amazonia Ltda.</funding-source><award-id>001/2020</award-id></award-group><funding-statement>This research, carried out within the scope of the Samsung-UFAM Project for Education and Research (SUPER), according to Article 39 of Decree n&#x000b0;10.521/2020, was funded by Samsung Electronics of Amazonia Ltda., under the terms of Federal Law n&#x000b0;8.387/1991 through agreement 001/2020, signed with UFAM and FAEPI, Brazil.</funding-statement></funding-group></article-meta></front><body><sec sec-type="intro" id="sec1-sensors-25-01200"><title>1. Introduction</title><p>Water bodies support social and economic activities, such as human consumption, agriculture, industry, and wildlife preservation. However, these resources face increasing restrictions due to pollution caused by natural and human activities. Thus, water usage is subject to significant restrictions for purposes such as human supply [<xref rid="B1-sensors-25-01200" ref-type="bibr">1</xref>]. Rapid population growth and urbanization has resulted in elevated pollution levels in regions&#x02019; waters [<xref rid="B2-sensors-25-01200" ref-type="bibr">2</xref>,<xref rid="B3-sensors-25-01200" ref-type="bibr">3</xref>]. Consequently, remote and continuous sensor-based monitoring has become essential.</p><p>In traditional water monitoring, samples are collected manually and sent to laboratories for analysis using chemical methods, consuming human, time and financial resources [<xref rid="B4-sensors-25-01200" ref-type="bibr">4</xref>]. However, those techniques do not provide real-time insights or low-cost solutions. In contrast, low-cost sensors, integrated into microcontrollers such as Esp32, can be deployed to collect data such as pH, turbidity, temperature, and others, from water bodies in a cost-effective solution for a data collection device [<xref rid="B5-sensors-25-01200" ref-type="bibr">5</xref>].</p><p>In addressing these challenges, deploying Internet of Things (IoT) technology has emerged as a promising solution for real-time environmental monitoring. Among IoT communication technologies, LoRa (Long Range) and NB-IoT (Narrowband-IoT) have emerged as transmission technologies for IoT systems. While NB-IoT is designed to extend the functionalities of the cellular network to IoT device networks, LoRa uses proprietary modulation to enable low data rates and low-power communication. Although NB-IoT outperforms LoRa in several scenarios&#x02014;particularly in coverage area due to better utilization of the directional antennas of cellular networks [<xref rid="B6-sensors-25-01200" ref-type="bibr">6</xref>]&#x02014;LoRa offers advantages over NB-IoT in terms of energy consumption during data transmission [<xref rid="B7-sensors-25-01200" ref-type="bibr">7</xref>] and reduced development costs for IoT deployments [<xref rid="B8-sensors-25-01200" ref-type="bibr">8</xref>]. These factors make LoRa a more suitable transmission option for IoT systems within the environment scope of this project.</p><p>Additionally, LoRa offers the possibility of long-distance communication, low power consumption, and cost-effective solutions to the aforementioned IoT scenarios [<xref rid="B9-sensors-25-01200" ref-type="bibr">9</xref>]. For these, LoRa utilizes a modulation technique to transmit information using chirp signals on the physical layer [<xref rid="B10-sensors-25-01200" ref-type="bibr">10</xref>,<xref rid="B11-sensors-25-01200" ref-type="bibr">11</xref>]. Additionally, it provides specific physical parameters to ensure proper communication. These parameters include the folowing:<list list-type="bullet"><list-item><p>Bandwidth (BW): This refers to the communication channel&#x02019;s capacity to transmit data within a specific time frame. BW significantly influences data transmission speed and sensitivity to noise. For instance, increasing bandwidth enhances data transmission speed but may reduce sensitivity [<xref rid="B11-sensors-25-01200" ref-type="bibr">11</xref>].</p></list-item><list-item><p>Spreading factor (SF): This determines the trade-off between data rate and range in LoRa. Lower SF values provide higher data rates and shorter ranges, suitable for nodes closer to gateways. In contrast, higher SF values are preferable for nodes situated at a greater distance. LoRa defines six SF values (7 to 12) that influence the chirp bit count and directly influence energy consumption and data rate [<xref rid="B11-sensors-25-01200" ref-type="bibr">11</xref>,<xref rid="B12-sensors-25-01200" ref-type="bibr">12</xref>].</p></list-item><list-item><p>Coding rate (CR): This determines the bits allocated for error-checking transmission redundancy. In summary, a higher CR value implies a greater degree of redundancy, which contributes to an improvement in the error-correction capabilities of the transmitted data.</p></list-item><list-item><p>Transmission power (TP): TP represents the transmission power used by the transmitter. Lower TP values contribute to reduced battery consumption, while higher values increase the probability of successful communication and extend the communication range.</p></list-item></list></p><p>Given the potential combinations of these parameters&#x02014;over 6720 in total [<xref rid="B12-sensors-25-01200" ref-type="bibr">12</xref>]&#x02014;the proper selection of LoRa communication settings is crucial to optimize network performance, minimize packet collisions, and extend the battery life of sensor nodes [<xref rid="B12-sensors-25-01200" ref-type="bibr">12</xref>,<xref rid="B13-sensors-25-01200" ref-type="bibr">13</xref>,<xref rid="B14-sensors-25-01200" ref-type="bibr">14</xref>]. Further, energy consumption can vary&#x02014;by factors of more than 100 [<xref rid="B14-sensors-25-01200" ref-type="bibr">14</xref>]&#x02014;depending on the selected parameters, highlighting the requirement for careful configuration to ensure the longevity of battery-powered nodes, which could be useful for remote monitoring scenarios.</p><p>Deploying LoRa-based sensors in remote regions, including the challenging Amazon region, offers a cost-effective alternative, despite the geographical and environmental challenges, including non-line-of-sight (LoS) communication and dense forest cover [<xref rid="B15-sensors-25-01200" ref-type="bibr">15</xref>].</p><p>These geographical features and communication through forests contribute to distinct interference levels. For instance, <xref rid="sensors-25-01200-f001" ref-type="fig">Figure 1</xref>A illustrates an example of LoRa communication among devices when the LoRa parameters are set to the optimal values for communication with gateways, represented by red triangles. At the same time, in <xref rid="sensors-25-01200-f001" ref-type="fig">Figure 1</xref>B, incorrect parameter selection can lead to suboptimal configurations and waste of energy resources [<xref rid="B12-sensors-25-01200" ref-type="bibr">12</xref>,<xref rid="B14-sensors-25-01200" ref-type="bibr">14</xref>].</p><p>Despite the recent literature about the usage of LoRa in IoT scenarios [<xref rid="B16-sensors-25-01200" ref-type="bibr">16</xref>], we have found a lack of research studies on LoRa parameter selection, such as the absence of combining multiple LoRa parameters and the need for experimentation in real and challenging environments such as remote areas or forest areas [<xref rid="B17-sensors-25-01200" ref-type="bibr">17</xref>]. On the other hand, Ballerine et al. [<xref rid="B8-sensors-25-01200" ref-type="bibr">8</xref>] describe that LoRa parameter selection strategies such as ADR are relevant for mitigating deployment costs and energy consumption in comparison to NB-IoT systems. These research gaps highlight the requirement for researchers to consider non-line-of-sight (LoS) conditions typically found in forest environments.</p><p>In response to these challenges, this paper offers the following major contributions: (a) it proposes a novel algorithm as one of the first works in the literature to incorporate the three major LoRa metrics (received signal strength indicator (RSSI), signal-to-noise ratio (SNR), and packet delivery ratio (PDR)) in the parameter selection algorithm design; (b) it presents an <italic toggle="yes">in situ</italic> rainforest transmission characterization and validation conducted in a real and challenging Amazon rainforest scenario; and (c) it proposes an algorithm for selecting LoRa parameters using the traditional binary search methodology. This approach provides an accurate representation of LoRa transmission in a challenging scenario such as that experienced in the Amazon region.</p><p>The proposed algorithm, entitled LoRaBB (Lora Parameter Selection via Binary Search), utilizes an <italic toggle="yes">R</italic>-array of reference values from key LoRa metrics&#x02014;RSSI, SNR, and PDR&#x02014;by combining the following LoRa parameters: SF, BW, and PT. The <italic toggle="yes">R</italic>-array, embedded in the source code of each deployed node, serves as a benchmark. During the LoRa parameter selection phase, each node compares its current communication metrics with these reference values to identify feasible arrangements for the parameters selected. Finally, the proposed algorithm compares parameters and metrics, employing a binary search methodology, fully described in <xref rid="sec3dot1-sensors-25-01200" ref-type="sec">Section 3.1</xref>, until they are appropriately adjusted to optimal values.</p><p>To validate and test the LoRaBB algorithm, we conducted characterization experiments to evaluate LoRa transmission in a forest scenario, with low- or non-line-of-sight (LoS) conditions. The results were evaluated to verify if the strategy of a <italic toggle="yes">built-in R</italic>-array is suitable for representing, in a numerical form, the combination of selected parameters in a LoRa transmission between nodes.</p><p>The results demonstrate that the LoRaBB algorithm can fit into a real-world forest communication scenario, encompassing different distances and levels of interference based on the LoRa parameter combination. In addition, the results show that LoRa is more suitable for forest scenarios when compared to the ADR algorithm used in LoRaWAN, achieving a Time on Air (ToA) 16.20% lower, and lower theoretical energy consumption during transmission.</p><p>The rest of this paper is organized as follows: <xref rid="sec2-sensors-25-01200" ref-type="sec">Section 2</xref> presents the related work found in the literature, while <xref rid="sec3-sensors-25-01200" ref-type="sec">Section 3</xref> presents a general overview of the architecture that supports the solution proposed, as well as the proposed algorithm. <xref rid="sec4-sensors-25-01200" ref-type="sec">Section 4</xref> presents the design of the experiment to validate the proposed algorithm. Finally, <xref rid="sec5-sensors-25-01200" ref-type="sec">Section 5</xref> and <xref rid="sec6-sensors-25-01200" ref-type="sec">Section 6</xref> present the major results and discussion, as well as the conclusions and future work.</p></sec><sec id="sec2-sensors-25-01200"><title>2. Related Work</title><p>Previous studies on LoRa have focused predominantly on the applicability of LoRa in IoT scenarios and applications, particularly in contexts such as smart cities, animal tracking, environment monitoring, and other scenarios [<xref rid="B18-sensors-25-01200" ref-type="bibr">18</xref>,<xref rid="B19-sensors-25-01200" ref-type="bibr">19</xref>].</p><p>In LoRa transmissions, several parameters must be adjusted to ensure the link transmission quality between nodes or between nodes and gateways, optimize energy consumption, and improve network performance. Thus, these parameters must be used for (i) link estimation quality: when the nodes estimate the communication quality based on LoRa metrics such as RSSI, SNR, and PDR; and (ii) parameter selection: when nodes adjust transmission parameters based on the assessed communication quality [<xref rid="B20-sensors-25-01200" ref-type="bibr">20</xref>].</p><p>LoRa devices can be configured with different values of SF, BW, CR, and TP from 0 dBm to 14 dBm (or 20 dBm in some devices) [<xref rid="B16-sensors-25-01200" ref-type="bibr">16</xref>]. Li et al. describe that parameter selection can be influenced by environmental factors, necessitating consideration of trade-offs between packet delivery ratio and energy consumption [<xref rid="B16-sensors-25-01200" ref-type="bibr">16</xref>]. These insights align with other research findings, indicating the need to adapt transmission parameters according to deployment scenarios [<xref rid="B16-sensors-25-01200" ref-type="bibr">16</xref>,<xref rid="B21-sensors-25-01200" ref-type="bibr">21</xref>,<xref rid="B22-sensors-25-01200" ref-type="bibr">22</xref>,<xref rid="B23-sensors-25-01200" ref-type="bibr">23</xref>].</p><p>For instance, Gao et al. [<xref rid="B24-sensors-25-01200" ref-type="bibr">24</xref>] demonstrate that the distance between the transmitter and receiver should lead LoRa parameter selection to achieve a low data rate and increase the chances of delivery, particularly over greater distances. Moreover, Angrisani et al. [<xref rid="B25-sensors-25-01200" ref-type="bibr">25</xref>] evaluated that, although LoRa is highly robust to high noise levels, the variations in the parameters can impact packet losses over different values of SF, CR, and BW. Cattani et al. further concluded that the packet delivery ratio and the parameter selected are on a narrow boundary, where the packet delivery ratio was only 10% lower than that of the slowest LoRa parameter selected when a node was distanced from the gateway [<xref rid="B23-sensors-25-01200" ref-type="bibr">23</xref>].</p><p>Another notable LoRa parameter selection strategy is the Adaptive Data Rate (ADR) strategy, initially implemented by The Things Network (TTN) according to Semtech&#x02019;s development recommendations [<xref rid="B26-sensors-25-01200" ref-type="bibr">26</xref>]. The ADR adjusts LoRa parameters based on the SNR values from the most recent packets received during the algorithm&#x02019;s execution. To address it, the gateway listens for frames transmitted in multiple frequency channels. However, as highlighted by Wang et al. [<xref rid="B20-sensors-25-01200" ref-type="bibr">20</xref>], the ADR adds computational complexity to the gateway&#x02019;s processes. In a low-cost system, as discussed in this paper, increased computational complexity can lead to a costly gateway build process.</p><p>To automate the selection of LoRa parameters, Serati et al. [<xref rid="B27-sensors-25-01200" ref-type="bibr">27</xref>] have developed an algorithm, entitled ADR-Lite, which employs a binary search methodology. The ADR-Lite considers four parameters, SF, TP, carrier frequency (CF), and CR, using the packet delivery ratio as the query key, to identify the most suitable setting to achieve improved PDR values. Moreover, an upper bound for energy consumption values is considered, specifying that the parameter chosen must adhere to this criterion to be considered as the optimal choice. However, the strategy design did not consider RSSI and SNR factors in the algorithm design, and even the BW parameter, which plays an important role in energy consumption, was not incorporated into its combination of parameters.</p><p>Following a similar approach, de Jesus et al. proposed the algorithm ADR-X [<xref rid="B28-sensors-25-01200" ref-type="bibr">28</xref>] by slightly modifying the classic ADR, incorporating an adaptive threshold representing the acceptable SNR level to compensate inaccurate estimation of the transmission quality, such as found in lossy channels. Unlike the traditional ADR, this threshold is automatically adjusted for each node.</p><p>The research by Khalifeh, Shefaa, and Darabkh [<xref rid="B29-sensors-25-01200" ref-type="bibr">29</xref>] presented an algorithm that enables the dynamic exchange of channels to select the option with the least traffic and choose the most appropriate SF to support the data rate demand in LoRa communications. Moreover, the aforementioned research presented a need for experimentation in real environments; it is a centralized solution, not suitable for some IoT scenarios. Further, the details of the algorithm design were not fully given.</p><p>Moreover, a recent trend, widely disseminated in the literature, involves the application of machine learning (ML) techniques to select smart LoRa parameters. In the research referenced [<xref rid="B30-sensors-25-01200" ref-type="bibr">30</xref>,<xref rid="B31-sensors-25-01200" ref-type="bibr">31</xref>], the authors investigated this methodology that prioritizes energy efficiency and improves the PDR using conventional ML approaches. Similarly, Ilahi et al. [<xref rid="B32-sensors-25-01200" ref-type="bibr">32</xref>] applied a deep learning algorithm formulated as a Markov decision process to optimize the PDR in the ADR process.</p><p>Finally, as evidenced in the related works analyzed, the current research focuses on performance evaluation within simulated environments. In addition, there is a gap concerning the study of parameter selection in wooded contexts, particularly in scenarios such as Amazonian rainforest regions. <xref rid="sensors-25-01200-t001" ref-type="table">Table 1</xref> presents a summary of the main literature research analyzed, the LoRa parameters used in their research, and their scenario conditions.</p></sec><sec id="sec3-sensors-25-01200"><title>3. Architecture Overview</title><p>The architecture and all the protocols and algorithms presented in this work were developed using ESP32 Heltec V2 devices (as End-node devices) and V3 devices (as gateways). Each one of these devices was equipped with SX1276 and SX1262 modules, respectively. To enhance signal quality, Steelbras AP3900 antennas with 5 dBi gain were utilized. Furthermore, the data generated during samplings were stored using a Raspberry Pi 4 Model B and a Pi 3 Model B+ in gateway and end-node devices, respectively. To clarify, in the context of this paper, each end-node device is integrated into a water sensor and transmits a C-style structure payload of 20 bytes over LoRa. Considering that only packets with information about data collected are sent, there is no reasonable reason to explore higher payloads sizes.</p><p>Further, it is important to highlight that LoRaWAN capabilities such as LoRaWAN gateways were not deployed due to the unavailability of LoRaWAN gateways in the Amazonas region. Further, using microcontrollers and shields to deploy LoRaWAN gateways could have increased the costs of the project contextualized in this paper up to 10 times.</p><p>The following subsections detail the establishment of LoRa parameters between end nodes and gateways, providing an overview of ADR algorithm, and describing the operational process of the proposed LoRaBB algorithm.</p><sec id="sec3dot1-sensors-25-01200"><title>3.1. Overview of Technique Requirements</title><p>The communication protocol is designed based on the requirements that both LoRaBB and ADR must fulfill. In addition, this research focuses on two components of a LoRa network, as described by LoRa Alliance [<xref rid="B33-sensors-25-01200" ref-type="bibr">33</xref>]: End devices and LoRa gateways. The following assumptions guided the system architecture and the experiments.</p><list list-type="bullet"><list-item><p>Stationary end nodes: The end nodes, also known as end devices, contain a LoRa transceiver and transmit data to gateways using LoRa modulation [<xref rid="B33-sensors-25-01200" ref-type="bibr">33</xref>]. Each node deployed remains stationary, serving as a communication network endpoint. However, we have considered that its initial location is initially unknown to both nodes.</p></list-item><list-item><p>Node-gateway discovery: Gateways are nodes with Internet connectivity, consisting of a transmitter and a microprocessor [<xref rid="B33-sensors-25-01200" ref-type="bibr">33</xref>]. Further, the gateway is designed to attempt to initiate the LoRa parameter selection by using a set of default parameters, facilitating the node discovery phase.</p></list-item></list><p>We assume that algorithms can be triggered to initiate when gateways and end nodes have the same set of default parameters (DPs), enabling a three-way handshake.</p><p>A three-way handshake was employed to establish the device connection and initiate the algorithm steps. To establish the initial exchange of messages, the DPs were adopted, as summarized in <xref rid="sensors-25-01200-t002" ref-type="table">Table 2</xref>, as they theoretically provide a more robust setting for data transmission. This handshake mechanism allows devices to verify compatibility and ensures the synchronized adjustment of their parameters during communication. <xref rid="sensors-25-01200-f002" ref-type="fig">Figure 2</xref> presents this whole process, concisely describing the preliminary algorithmic steps.</p><p>Moreover, each gateway is designed to retain information about LoRa parameters to facilitate the communication with other nodes, periodically adjusting its settings for data transmission and new node discovery.</p></sec><sec id="sec3dot2-sensors-25-01200"><title>3.2. ADR LoRaWAN</title><p>The Adaptive Data Rate (ADR) algorithm from The Things Stack is a widely known strategy for optimizing communication in LoRaWAN networks. The ADR analyzes the SNR to determine the most appropriate data rate and transmission power settings for the network devices [<xref rid="B34-sensors-25-01200" ref-type="bibr">34</xref>].</p><p>Equation (<xref rid="FD1-sensors-25-01200" ref-type="disp-formula">1</xref>), in the first phase of ADR execution, determines the number of steps performed in the algorithm, as illustrated in <xref rid="sensors-25-01200-f003" ref-type="fig">Figure 3</xref>. Thus, the gateway estimates the maximum SNR value (<inline-formula><mml:math id="mm1" overflow="scroll"><mml:mrow><mml:msub><mml:mi>SNR</mml:mi><mml:mi>max</mml:mi></mml:msub></mml:mrow></mml:math></inline-formula>) of the last <italic toggle="yes">N</italic> transmissions, while the value of <inline-formula><mml:math id="mm2" overflow="scroll"><mml:mrow><mml:msub><mml:mi>Margin</mml:mi><mml:mi>db</mml:mi></mml:msub></mml:mrow></mml:math></inline-formula> varies between 5 and <inline-formula><mml:math id="mm3" overflow="scroll"><mml:mrow><mml:msub><mml:mn>15</mml:mn><mml:mi>db</mml:mi></mml:msub></mml:mrow></mml:math></inline-formula> [<xref rid="B34-sensors-25-01200" ref-type="bibr">34</xref>]. In our implementation of the algorithm, we set this to <inline-formula><mml:math id="mm4" overflow="scroll"><mml:mrow><mml:msub><mml:mn>15</mml:mn><mml:mi>db</mml:mi></mml:msub></mml:mrow></mml:math></inline-formula>. The <inline-formula><mml:math id="mm5" overflow="scroll"><mml:mrow><mml:msub><mml:mi>SNR</mml:mi><mml:mi>sf</mml:mi></mml:msub></mml:mrow></mml:math></inline-formula> represents the SNR required for successful demodulation.<disp-formula id="FD1-sensors-25-01200"><label>(1)</label><mml:math id="mm6" display="block" overflow="scroll"><mml:mrow><mml:mrow><mml:msub><mml:mi>N</mml:mi><mml:mi>step</mml:mi></mml:msub><mml:mo>=</mml:mo><mml:mstyle scriptlevel="0" displaystyle="true"><mml:mfrac><mml:mrow><mml:msub><mml:mi>SNR</mml:mi><mml:mi>max</mml:mi></mml:msub><mml:mo>&#x02212;</mml:mo><mml:msub><mml:mi>SNR</mml:mi><mml:mi>SF</mml:mi></mml:msub><mml:mo>&#x02212;</mml:mo><mml:msub><mml:mi>margin</mml:mi><mml:mi>dB</mml:mi></mml:msub></mml:mrow><mml:mrow><mml:mn>2.5</mml:mn></mml:mrow></mml:mfrac></mml:mstyle></mml:mrow></mml:mrow></mml:math></disp-formula></p></sec><sec id="sec3dot3-sensors-25-01200"><title>3.3. The Proposed LoRaBB Parameter Selection Algorithm</title><p>Optimizing the trade-off between convergence time toward the optimal configuration and parameter selection drove the decision to employ the binary search methodology in our proposed algorithm. Therefore, we designed the proposed algorithm in two main phases:<list list-type="simple"><list-item><label>1.</label><p><inline-formula><mml:math id="mm7" overflow="scroll"><mml:mrow><mml:mi mathvariant="bold-italic">R</mml:mi></mml:mrow></mml:math></inline-formula>-array building: In this phase the communication in the forest scenario is characterized and evaluated in order to create the <italic toggle="yes">R</italic>-array, a structure that defines the mean expected performance of the LoRa communication in our scenario. The main aspects of the scenario characterization and the details of the <italic toggle="yes">R</italic>-array building are described in <xref rid="sec3dot3dot1-sensors-25-01200" ref-type="sec">Section 3.3.1</xref>.</p></list-item><list-item><label>2.</label><p>Algorithm design: In this phase, the algorithm is fully described, as well as how each end node uses the <italic toggle="yes">R</italic>-array loaded in its firmware to run the algorithm logic during the life cycle of the network. The details of how the binary search approach was utilized is described in <xref rid="sec3dot3dot2-sensors-25-01200" ref-type="sec">Section 3.3.2</xref>.</p></list-item></list></p><sec id="sec3dot3dot1-sensors-25-01200"><title>3.3.1. The <italic toggle="yes">R</italic>-Array Building</title><p>Initially, we built an <italic toggle="yes">R</italic>-array using data collected from practical experiments conducted in a forest environment. This array is an instrument to evaluate the relationships between RSSI, SNR, and PDR relating to SF, BW, and PT values in our forest scenario. In summary, it is a method of representing the expected communication performance over different parameter combinations in a scenario. Moreover, we followed some consolidated LoRa theories to build the <italic toggle="yes">R</italic>-array: (a) higher SF produces higher reliability, resulting in lower receiver sensitivity and increasing the probability of packet delivery [<xref rid="B35-sensors-25-01200" ref-type="bibr">35</xref>,<xref rid="B36-sensors-25-01200" ref-type="bibr">36</xref>]; and (b) Time on Air doubles the transmission duration at each increase in SF [<xref rid="B36-sensors-25-01200" ref-type="bibr">36</xref>]. Therefore, LoRaBB represents these affirmations in a single value for each parameter combination, called <italic toggle="yes">R</italic>.</p><p>Each <italic toggle="yes">R</italic> entry in the <italic toggle="yes">R</italic>-array represents a value derived from a reward equation called <italic toggle="yes">R</italic> (Equation (<xref rid="FD2-sensors-25-01200" ref-type="disp-formula">2</xref>)). Assigning weights (<inline-formula><mml:math id="mm8" overflow="scroll"><mml:mrow><mml:mrow><mml:mi mathvariant="normal">W</mml:mi><mml:mn>1</mml:mn></mml:mrow></mml:mrow></mml:math></inline-formula>, <inline-formula><mml:math id="mm9" overflow="scroll"><mml:mrow><mml:mrow><mml:mi mathvariant="normal">W</mml:mi><mml:mn>2</mml:mn></mml:mrow></mml:mrow></mml:math></inline-formula>, <inline-formula><mml:math id="mm10" overflow="scroll"><mml:mrow><mml:mrow><mml:mi mathvariant="normal">W</mml:mi><mml:mn>3</mml:mn></mml:mrow></mml:mrow></mml:math></inline-formula>) to each metric, so, RSSI, SNR, and PDR exhibit distinct patterns for specific parameter combinations. Additionally, RSSI, SNR, and PDR values used in both the <italic toggle="yes">R</italic>-array and algorithm design undergo normalization, ensuring a standardized range of 0 to 1, using the formula <inline-formula><mml:math id="mm11" overflow="scroll"><mml:mrow><mml:mstyle scriptlevel="0" displaystyle="true"><mml:mfrac><mml:mrow><mml:msub><mml:mi>V</mml:mi><mml:mrow><mml:mi>v</mml:mi><mml:mi>a</mml:mi><mml:mi>l</mml:mi><mml:mi>u</mml:mi><mml:mi>e</mml:mi></mml:mrow></mml:msub><mml:mo>&#x02212;</mml:mo><mml:msub><mml:mi>V</mml:mi><mml:mrow><mml:mi>m</mml:mi><mml:mi>a</mml:mi><mml:mi>x</mml:mi></mml:mrow></mml:msub></mml:mrow><mml:mrow><mml:msub><mml:mi>V</mml:mi><mml:mrow><mml:mi>m</mml:mi><mml:mi>i</mml:mi><mml:mi>n</mml:mi></mml:mrow></mml:msub><mml:mo>&#x02212;</mml:mo><mml:msub><mml:mi>V</mml:mi><mml:mrow><mml:mi>m</mml:mi><mml:mi>a</mml:mi><mml:mi>x</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfrac></mml:mstyle></mml:mrow></mml:math></inline-formula>, such that <inline-formula><mml:math id="mm12" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>V</mml:mi><mml:mo>=</mml:mo></mml:mrow></mml:mrow></mml:math></inline-formula> {RSSI, SNR, PDR}. Finally, it is worth highlighting that the computation of the <italic toggle="yes">R</italic> value for each parameter combination during this phase is performed using the average of the RSSI, SNR, and PDR values found in the experiments. In the equation, this is represented by the overbar symbol.<disp-formula id="FD2-sensors-25-01200"><label>(2)</label><mml:math id="mm13" display="block" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>R</mml:mi><mml:mo>=</mml:mo><mml:msub><mml:mi>W</mml:mi><mml:mn>1</mml:mn></mml:msub><mml:mo>&#x000b7;</mml:mo><mml:mover><mml:mrow><mml:mi>R</mml:mi><mml:mi>S</mml:mi><mml:mi>S</mml:mi><mml:mi>I</mml:mi></mml:mrow><mml:mo>&#x000af;</mml:mo></mml:mover><mml:mo>+</mml:mo><mml:msub><mml:mi>W</mml:mi><mml:mn>2</mml:mn></mml:msub><mml:mo>&#x000b7;</mml:mo><mml:mrow><mml:mo>(</mml:mo><mml:mover><mml:mrow><mml:msub><mml:mi>SNR</mml:mi><mml:mi>i</mml:mi></mml:msub><mml:mo>+</mml:mo><mml:mn>20</mml:mn></mml:mrow><mml:mo>&#x000af;</mml:mo></mml:mover><mml:mo>)</mml:mo></mml:mrow><mml:mo>+</mml:mo><mml:msub><mml:mi>W</mml:mi><mml:mn>3</mml:mn></mml:msub><mml:mo>&#x000b7;</mml:mo><mml:mover><mml:mrow><mml:mi>P</mml:mi><mml:mi>D</mml:mi><mml:mi>R</mml:mi></mml:mrow><mml:mo>&#x000af;</mml:mo></mml:mover></mml:mrow></mml:mrow></mml:math></disp-formula></p><p>To build the <italic toggle="yes">R</italic>-array, two ESP32s were placed within the campus of the Federal University of Amazonas (UFAM) to generate the results of data communication within the forest. As stated in <xref rid="sec1-sensors-25-01200" ref-type="sec">Section 1</xref>, the UFAM campus is one of the largest urban forest environments, which is suitable for any characterization and further validation in this project&#x02019;s context. The data collected characterized the Amazon rainforest environment and established the base <italic toggle="yes">R</italic>-array used as a parameter for LoRaBB.</p><p>The ESP32 modules, designed as transmitter and receiver (similarly to the end node and gateway behaviors, respectively), were placed at different locations and separated by significant distances to exchange data through an area of vegetation typical of the Amazon rainforest. These characterization experiments occurred in sunny conditions; the detailed parameter values are provided in <xref rid="sensors-25-01200-t003" ref-type="table">Table 3</xref>.</p><p>In the initial experiment, the transmitter was situated at a height of approximately 12 m, on the third floor of the Institute of Computing (IComp) building (<italic toggle="yes">Salas de Aula Icomp</italic> on the map), while the receiver was positioned at a height of approximately 8 m, on the second floor of the Analytical Chemistry building. Twenty packets were transmitted for each parameter combination, covering approx. 72 m during this stage. Subsequently, the transmitter device was relocated to the IComp2 (<italic toggle="yes">Instituto de Computa&#x000e7;&#x000e3;o&#x02014;IComp</italic> on the map) building for a subsequent experiment, extending the distance to approx. 150 m. The experimental placements are illustrated in <xref rid="sensors-25-01200-f004" ref-type="fig">Figure 4</xref> (the full dataset of the characterization experiments is available at <uri xlink:href="https://doi.org/10.48472/deposita/FRRQ8R">https://doi.org/10.48472/deposita/FRRQ8R</uri>, accessed on 8 January 2025).</p><p>The results from practical experiments illustrate that the behavior of the evaluated metrics (RSSI, SNR, and PDR) can be influenced by the values of SF, BW, and PT, as shown in <xref rid="sensors-25-01200-f005" ref-type="fig">Figure 5</xref>a. In addition, another value was added, named the &#x02211; of the outputs, a straightforward summation of the normalized RSSI, SNR, and PDR values. This underscores the appropriateness of our <italic toggle="yes">R</italic> characterization methodology in modeling the parameter selection algorithm.</p><p>At this point, we highlight specific aspects of the characterization, particularly the case where PT = 18. For some anomalous reason, most cases where PDR was below 50% or equal to 0% occurred when PT = 18 for both characterized distances. At first, we hypothesized that this might be due to experimental errors in the first experiment, but we also found five cases where PDR &#x0003c; 50% and PT = 18 in the second experiment (longer distance). In the first characterization experiment, we found 17 cases where the LoRa parameter combination with PT = 18 had PDR = 0%.</p><p>As shown in <xref rid="sensors-25-01200-f005" ref-type="fig">Figure 5</xref>a, this result challenged common sense and contradicted the theoretical expectations of LoRa communication assumptions between the following target metrics and parameters: the positive correlation between PDR and distance, and the negative correlation between PDR and PT. To address this anomaly, we investigate the dataset excluding the parameter combinations where PT = 18.</p><p>As illustrated in <xref rid="sensors-25-01200-f005" ref-type="fig">Figure 5</xref>b, without this scenario, the correlation between PDR and PT, as well as PDR and distance, aligns with LoRa theory. Specifically, we observe a negative correlation of &#x02212;0.40 between PDR and distance, alongside a reduction in the negative correlation between PDR and PT, with a negligible correlation showing that varying PT in our scenarios does not impact the results, unlike when varying SF or BW. This is probably due to the fact the overall mean PDR was approximately 85% across all PT values, except for PT = 18, where the PDR dropped significantly to around 40%.</p><p>Since this behavior was observed across both distance scenarios where PT = 18, we consider two possible hypotheses: the influence of small-scale fading caused by multipath phenomena and near-point obstacles [<xref rid="B37-sensors-25-01200" ref-type="bibr">37</xref>], or a compatibility issue between the ESP32 modules and the C library used in the experiments.</p><p>On the other hand, SF and BW are aligned with the expected performance observed in other LoRa studies. Applying a one-way ANOVA test, we confirmed that the null hypothesis can be rejected for the means observed, with a <italic toggle="yes">p</italic>-value = <inline-formula><mml:math id="mm14" overflow="scroll"><mml:mrow><mml:mrow><mml:mn>1</mml:mn><mml:mo>.</mml:mo><mml:msup><mml:mn>560</mml:mn><mml:mrow><mml:mo>&#x02212;</mml:mo><mml:mn>219</mml:mn></mml:mrow></mml:msup></mml:mrow></mml:mrow></mml:math></inline-formula> for the SF&#x02013;PDR relationship and <italic toggle="yes">p</italic>-value = <inline-formula><mml:math id="mm15" overflow="scroll"><mml:mrow><mml:mrow><mml:mn>3</mml:mn><mml:mo>.</mml:mo><mml:msup><mml:mn>994</mml:mn><mml:mrow><mml:mo>&#x02212;</mml:mo><mml:mn>74</mml:mn></mml:mrow></mml:msup></mml:mrow></mml:mrow></mml:math></inline-formula> for the BW&#x02013;PDR relationship.</p><p>While factors such as distance negatively affect RSSI and SNR, these metrics can be directly influenced by the choices of SF and BW. To better visualize this, <xref rid="sensors-25-01200-f006" ref-type="fig">Figure 6</xref> presents the impact of parameter selection on the <italic toggle="yes">R</italic> value, where each parameter combination on the x-axis is represented by a concatenated string of the SF value, BW value (e.g., 125.00 MHz), and PT. The corresponding <italic toggle="yes">R</italic> values are plotted on the y-axis.</p><p>Moreover, since PT was identified to have a low correlation with RSSI, SNR, and PDR, the chosen PT values for each parameter combination are spread over <xref rid="sensors-25-01200-f006" ref-type="fig">Figure 6</xref>. Furthermore, to clarify, the left values on the plot where <inline-formula><mml:math id="mm16" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>R</mml:mi><mml:mo>&#x02264;</mml:mo><mml:mn>0.4</mml:mn></mml:mrow></mml:mrow></mml:math></inline-formula> result in close to 100% packet losses and they represent the worst expected scenarios. These results corroborate our hypothesis that ADR is not the most suitable strategy for LoRa parameter selection since transmission power is one of the parameters used in the strategy.</p><p><xref rid="sensors-25-01200-f006" ref-type="fig">Figure 6</xref> also demonstrates that parameter choices yield different <italic toggle="yes">R</italic> values, which can have implications, such as in energy consumption or PDR. For instance, suppose a parameter combination that generates an <italic toggle="yes">R</italic> value close to 1 is chosen for a specific communication. When analyzed, it becomes evident that this parameter selection tends to favor values that could maximize delivery possibilities, especially with higher SF and lower BW values, which directly impact PDR and energy consumption, for example.</p><p>Subsequently, the <italic toggle="yes">R</italic>-array is sorted based on the value of <italic toggle="yes">R</italic> entry and deployed into the firmware code of each deployed end node. It is important to highlight that the first step of this work demonstrated that the values in the <italic toggle="yes">R</italic>-array could not follow the usual distribution of a LoRa parameter combination. This irregular pattern may be attributed to signal attenuation and environmental factors such as dense foliage, which can affect certain SF values, especially when SF is between 8 and 11, as stated in the aforementioned <italic toggle="yes">R</italic> -value chart, where it can be observed that SF combinations are spread over the middle part of the <italic toggle="yes">R</italic>-value chart.</p><p>Although this behavior may seem unusual, it has been observed in previous studies with forest environments, e.g., by Ansah et al. [<xref rid="B36-sensors-25-01200" ref-type="bibr">36</xref>], where the authors found higher SF (SF = 11 and 12) values produced less ToA and extended range than lower SF values from 7 to 9. Our findings corroborate this, as demonstrated in <xref rid="sensors-25-01200-f007" ref-type="fig">Figure 7</xref>, which presents the average RSSI values found for each parameter in all characterization runs. The characterization results demonstrate SF values of 9 and 10 produced the best sensitivity values in the forest environment, while transmission power had a low impact at the distances tested in the experiments.</p><p>Furthermore, our results align with the findings of Ferreira et al. [<xref rid="B37-sensors-25-01200" ref-type="bibr">37</xref>]. The authors could not explain the behavior of PDR and its relationship with RSSI and SNR depending on the SF parameter in forest environments. They attributed this fact to small-scale fading due to multipath phenomena and near-point obstacles.</p><p>This anomalous behavior was also observed in the correlation between <bold>distance</bold> and <bold>PDR</bold>, in relation to SF and BW values. As shown in <xref rid="sensors-25-01200-f008" ref-type="fig">Figure 8</xref>, the PDR was unexpectedly lower in almost all cases at a distance of 72 m. These results further support the positive correlation found between <bold>distance</bold> and <bold>PDR</bold>. Additionally, it was observed that deviations in PDR values increase at longer distances. This result is consistent with the RSSI deviation described in <xref rid="sensors-25-01200-f007" ref-type="fig">Figure 7</xref>, where the RSSI variation led to outliers found in the PDR results.</p></sec><sec id="sec3dot3dot2-sensors-25-01200"><title>3.3.2. The Binary Search Phase</title><p>The algorithm execution comprises three primary steps: the initial step, the <italic toggle="yes">R</italic> evaluation step, and the optimal LoRa parameter selection step.</p><p>In the initial step, the algorithm initiates its process with the DP configuration, as detailed in <xref rid="sec3dot1-sensors-25-01200" ref-type="sec">Section 3.1</xref>. Notably, communication is established before testing the parameter selection. Further, it is worth highlighting that gateways overhear the DP configuration, initiating the LoRa parameter selection binary search algorithm for each newly deployed node.</p><p>During the <italic toggle="yes">R</italic> evaluation step, the algorithm transmits <italic toggle="yes">N</italic> packets from the node to the gateway. It then employs Equation (<xref rid="FD2-sensors-25-01200" ref-type="disp-formula">2</xref>) to compare the calculated R to the <italic toggle="yes">R</italic>-array. The comparative analysis determines whether the calculated <italic toggle="yes">R</italic> for the current parameter combination aligns with empirical results or if parameter modifications are necessary to test and identify a more suitable combination. When adjustments are needed, the configuration is adjusted to the left or right side of the <italic toggle="yes">R</italic>-array, using the classic binary search methodology, iterating through packet transmission and assessment until convergence on the appropriate configuration is achieved.</p><p><xref rid="sensors-25-01200-f009" ref-type="fig">Figure 9</xref> illustrates an instance of the algorithm&#x02019;s R evaluation step. To simplify, assume the parameter combination <inline-formula><mml:math id="mm17" overflow="scroll"><mml:mrow><mml:msub><mml:mi>C</mml:mi><mml:mn>5</mml:mn></mml:msub></mml:mrow></mml:math></inline-formula> is tested first (in the LoRaBB algorithm, the first combination is typically represented by the DP configuration).</p><p>The <italic toggle="yes">R</italic> value for <inline-formula><mml:math id="mm18" overflow="scroll"><mml:mrow><mml:msub><mml:mi>C</mml:mi><mml:mn>5</mml:mn></mml:msub></mml:mrow></mml:math></inline-formula> follows the <italic toggle="yes">R</italic> evaluation step by using the LoRa parameters SF, BW, and PT. This value, denoted as <inline-formula><mml:math id="mm19" overflow="scroll"><mml:mrow><mml:mrow><mml:msup><mml:mi>R</mml:mi><mml:mo>&#x02032;</mml:mo></mml:msup><mml:mo>=</mml:mo><mml:msub><mml:mi>R</mml:mi><mml:mn>5</mml:mn></mml:msub><mml:mo>=</mml:mo><mml:mn>0.5</mml:mn></mml:mrow></mml:mrow></mml:math></inline-formula>, is compared to <inline-formula><mml:math id="mm20" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>R</mml:mi><mml:mo>=</mml:mo><mml:mn>0.3</mml:mn></mml:mrow></mml:mrow></mml:math></inline-formula>, the current calculated <italic toggle="yes">R</italic>. If the absolute difference <inline-formula><mml:math id="mm21" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>R</mml:mi><mml:mo>&#x02212;</mml:mo><mml:msup><mml:mi>R</mml:mi><mml:mo>&#x02032;</mml:mo></mml:msup></mml:mrow></mml:mrow></mml:math></inline-formula>, where <inline-formula><mml:math id="mm22" overflow="scroll"><mml:mrow><mml:mrow><mml:msup><mml:mi>R</mml:mi><mml:mo>&#x02032;</mml:mo></mml:msup><mml:mo>&#x02208;</mml:mo><mml:mi>R</mml:mi></mml:mrow></mml:mrow></mml:math></inline-formula>-array and <inline-formula><mml:math id="mm23" overflow="scroll"><mml:mrow><mml:mrow><mml:msup><mml:mi>R</mml:mi><mml:mo>&#x02032;</mml:mo></mml:msup><mml:mo>=</mml:mo><mml:msub><mml:mi>R</mml:mi><mml:mn>5</mml:mn></mml:msub><mml:mo>=</mml:mo><mml:mn>0.5</mml:mn></mml:mrow></mml:mrow></mml:math></inline-formula>, exceeds the threshold <inline-formula><mml:math id="mm24" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>&#x003b4;</mml:mi><mml:mo>=</mml:mo><mml:mn>0.1</mml:mn></mml:mrow></mml:mrow></mml:math></inline-formula>, the algorithm determines the next step:<list list-type="order"><list-item><p>Initially, when <inline-formula><mml:math id="mm25" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>R</mml:mi><mml:mo>&#x0003c;</mml:mo><mml:msup><mml:mi>R</mml:mi><mml:mo>&#x02032;</mml:mo></mml:msup></mml:mrow></mml:mrow></mml:math></inline-formula>: In this condition, the algorithm detected suboptimal network performance, since <inline-formula><mml:math id="mm26" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>R</mml:mi><mml:mo>&#x0003c;</mml:mo><mml:msup><mml:mi>R</mml:mi><mml:mo>&#x02032;</mml:mo></mml:msup></mml:mrow></mml:mrow></mml:math></inline-formula>. Thus, LoRaBB indicates that it might be a more suitable LoRa parameter combination for the end node, by improving LoRa parameters such as increasing SF or PT, or decreasing BW. Consequently, it shifts to the right side of the <italic toggle="yes">R</italic>-array using the binary strategy.</p></list-item><list-item><p>Next evaluation: Following the shift step, the LoRaBB calculates the new <italic toggle="yes">R</italic> value for the combination represented by <inline-formula><mml:math id="mm27" overflow="scroll"><mml:mrow><mml:msub><mml:mi>C</mml:mi><mml:mn>8</mml:mn></mml:msub></mml:mrow></mml:math></inline-formula> in the <italic toggle="yes">R</italic>-array, yielding <inline-formula><mml:math id="mm28" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>R</mml:mi><mml:mo>=</mml:mo><mml:mn>0.95</mml:mn></mml:mrow></mml:mrow></mml:math></inline-formula>.</p><p>Comparing it to the updated <inline-formula><mml:math id="mm29" overflow="scroll"><mml:mrow><mml:mrow><mml:msup><mml:mi>R</mml:mi><mml:mo>&#x02032;</mml:mo></mml:msup><mml:mo>=</mml:mo><mml:msub><mml:mi>R</mml:mi><mml:mn>8</mml:mn></mml:msub><mml:mo>=</mml:mo><mml:mn>0.8</mml:mn></mml:mrow></mml:mrow></mml:math></inline-formula>, if the absolute difference is lower than the <inline-formula><mml:math id="mm30" overflow="scroll"><mml:mrow><mml:mi>&#x003b4;</mml:mi></mml:mrow></mml:math></inline-formula>, the algorithm will shift to the left side to search for a more suitable parameter combination since <italic toggle="yes">R</italic> is greater than <inline-formula><mml:math id="mm31" overflow="scroll"><mml:mrow><mml:msup><mml:mi>R</mml:mi><mml:mo>&#x02032;</mml:mo></mml:msup></mml:mrow></mml:math></inline-formula>, so the parameters can still be optimized.</p></list-item><list-item><p>Stopping conditions: The search phase concludes when either the absolute difference between <italic toggle="yes">R</italic> and <inline-formula><mml:math id="mm32" overflow="scroll"><mml:mrow><mml:msup><mml:mi>R</mml:mi><mml:mo>&#x02032;</mml:mo></mml:msup></mml:mrow></mml:math></inline-formula> is lower than <inline-formula><mml:math id="mm33" overflow="scroll"><mml:mrow><mml:mi>&#x003b4;</mml:mi></mml:mrow></mml:math></inline-formula> or no further binary steps are available.</p></list-item></list></p><p>To clarify, this example can be expanded to include more details about how LoRaBB works by considering the following assumptions: (a) <inline-formula><mml:math id="mm34" overflow="scroll"><mml:mrow><mml:msub><mml:mi>C</mml:mi><mml:mn>5</mml:mn></mml:msub></mml:mrow></mml:math></inline-formula> is the first combination parameter to be tested and it represents the following parameters in this example: SF = 8, BW = <inline-formula><mml:math id="mm35" overflow="scroll"><mml:mrow><mml:mrow><mml:mn>500.00</mml:mn></mml:mrow></mml:mrow></mml:math></inline-formula>, and PT = 20; (b) consider the distances between nodes are short enough to choose an energy-efficient parameter configuration; (c) these parameters yield an initial calculated <inline-formula><mml:math id="mm36" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>R</mml:mi><mml:mo>=</mml:mo><mml:mn>0.3</mml:mn></mml:mrow></mml:mrow></mml:math></inline-formula>, due to low PDR; (d) based on the <inline-formula><mml:math id="mm37" overflow="scroll"><mml:mrow><mml:mrow><mml:mrow><mml:mo>|</mml:mo><mml:mi>R</mml:mi><mml:mo>&#x02212;</mml:mo></mml:mrow><mml:msup><mml:mi>R</mml:mi><mml:mo>&#x02032;</mml:mo></mml:msup><mml:mrow><mml:mo>|</mml:mo><mml:mo>&#x02265;</mml:mo><mml:mi>&#x003b4;</mml:mi></mml:mrow></mml:mrow></mml:mrow></mml:math></inline-formula> condition, it tries to estimate if the binary search will move to the left, to the right, or if the parameter will be accepted. Therefore, consider the three steps of execution for this instance, presented in <xref rid="sensors-25-01200-t004" ref-type="table">Table 4</xref>.</p><p>Considering the aforementioned step-by-step example shown in <xref rid="sensors-25-01200-t004" ref-type="table">Table 4</xref>, the process begins with parameter combination <inline-formula><mml:math id="mm38" overflow="scroll"><mml:mrow><mml:msub><mml:mi>C</mml:mi><mml:mn>5</mml:mn></mml:msub></mml:mrow></mml:math></inline-formula>, using SF = 8 and BW = 500 kHz. During operation, these parameters yield a calculated <italic toggle="yes">R</italic> value of <inline-formula><mml:math id="mm39" overflow="scroll"><mml:mrow><mml:mrow><mml:mn>0.30</mml:mn></mml:mrow></mml:mrow></mml:math></inline-formula>, which differs significantly from the expected <italic toggle="yes">R</italic>-array value of <inline-formula><mml:math id="mm40" overflow="scroll"><mml:mrow><mml:mrow><mml:mn>0.50</mml:mn></mml:mrow></mml:mrow></mml:math></inline-formula>. Since <inline-formula><mml:math id="mm41" overflow="scroll"><mml:mrow><mml:mrow><mml:mo>|</mml:mo><mml:mn>0.30</mml:mn><mml:mo>&#x02212;</mml:mo><mml:mn>0.50</mml:mn><mml:mo>|</mml:mo><mml:mo>=</mml:mo><mml:mn>0.20</mml:mn></mml:mrow></mml:mrow></mml:math></inline-formula> exceeds the threshold <inline-formula><mml:math id="mm42" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>&#x003b4;</mml:mi><mml:mo>=</mml:mo><mml:mn>0.1</mml:mn></mml:mrow></mml:mrow></mml:math></inline-formula>, the algorithm moves to the right in the <italic toggle="yes">R</italic>-array to test the new middle <inline-formula><mml:math id="mm43" overflow="scroll"><mml:mrow><mml:msub><mml:mi>C</mml:mi><mml:mn>8</mml:mn></mml:msub></mml:mrow></mml:math></inline-formula>.</p><p>Therefore, the second step evaluates <inline-formula><mml:math id="mm44" overflow="scroll"><mml:mrow><mml:msub><mml:mi>C</mml:mi><mml:mn>8</mml:mn></mml:msub></mml:mrow></mml:math></inline-formula> with SF = 12 and BW = 125 kHz, resulting in a calculated <italic toggle="yes">R</italic> of <inline-formula><mml:math id="mm45" overflow="scroll"><mml:mrow><mml:mrow><mml:mn>0.95</mml:mn></mml:mrow></mml:mrow></mml:math></inline-formula>, compared to the <italic toggle="yes">R</italic>-array value of <inline-formula><mml:math id="mm46" overflow="scroll"><mml:mrow><mml:mrow><mml:mn>0.80</mml:mn></mml:mrow></mml:mrow></mml:math></inline-formula>. While this indicates better performance than expected, the difference still exceeds <inline-formula><mml:math id="mm47" overflow="scroll"><mml:mrow><mml:mi>&#x003b4;</mml:mi></mml:mrow></mml:math></inline-formula>, prompting the algorithm to move left to <inline-formula><mml:math id="mm48" overflow="scroll"><mml:mrow><mml:msub><mml:mi>C</mml:mi><mml:mn>6</mml:mn></mml:msub></mml:mrow></mml:math></inline-formula> to look for a more energy-efficient parameter combination. The final test, with SF = 10 and BW = 500 kHz, yields a calculated <italic toggle="yes">R</italic> of <inline-formula><mml:math id="mm49" overflow="scroll"><mml:mrow><mml:mrow><mml:mn>0.75</mml:mn></mml:mrow></mml:mrow></mml:math></inline-formula>, closely matching the <italic toggle="yes">R</italic>-array value of <inline-formula><mml:math id="mm50" overflow="scroll"><mml:mrow><mml:mrow><mml:mn>0.70</mml:mn></mml:mrow></mml:mrow></mml:math></inline-formula>. Since <inline-formula><mml:math id="mm51" overflow="scroll"><mml:mrow><mml:mrow><mml:mo>|</mml:mo><mml:mn>0.75</mml:mn><mml:mo>&#x02212;</mml:mo><mml:mn>0.70</mml:mn><mml:mo>|</mml:mo><mml:mo>=</mml:mo><mml:mn>0.05</mml:mn><mml:mo>&#x02264;</mml:mo><mml:mi>&#x003b4;</mml:mi></mml:mrow></mml:mrow></mml:math></inline-formula>, these parameters are accepted as suboptimal for the current deployment conditions.</p><p>This example demonstrates how LoRaBB adjusts parameters until finding a combination where the actual performance aligns with the characterized expectations, rather than simply maximizing the <italic toggle="yes">R</italic> value, which could set a non-energy-efficient parameter combination. The timeline visualization in <xref rid="sensors-25-01200-f010" ref-type="fig">Figure 10</xref> provides an additional perspective on the temporal progression of the parameter selection process.</p><p>At this point, it is highlighted the primary objective of the LoRaBB is to select the parameter combination that most aligns with the average performance across the scenario characterization of the end-node deployment based on the evaluation of the <italic toggle="yes">R</italic> value. The selection of the most appropriate parameters is determined by comparing <italic toggle="yes">R</italic> values, which can influence the network performance. It is highlighted that the weights <inline-formula><mml:math id="mm52" overflow="scroll"><mml:mrow><mml:msub><mml:mi>W</mml:mi><mml:mi>k</mml:mi></mml:msub></mml:mrow></mml:math></inline-formula> can impact both the characterization and the evaluation of LoRaBB. Since PDR is the most critical metric for the context of this project, PDR was assigned a greater weight value of 60%. These values were determined after characterization results involving the building of the <italic toggle="yes">R</italic>-array.</p><p><xref rid="sensors-25-01200-f011" ref-type="fig">Figure 11</xref> compares the <italic toggle="yes">R</italic> when weights <inline-formula><mml:math id="mm53" overflow="scroll"><mml:mrow><mml:mrow><mml:msub><mml:mi>W</mml:mi><mml:mi>k</mml:mi></mml:msub><mml:mo>=</mml:mo><mml:mn>0.33</mml:mn></mml:mrow></mml:mrow></mml:math></inline-formula> were applied in <italic toggle="yes">R</italic>-array construction, as described in Equation (<xref rid="FD2-sensors-25-01200" ref-type="disp-formula">2</xref>). These results were extracted from network characterization experiments and were analyzed to define the most appropriate weight values. As observed, PDR presents the strongest correlation with <italic toggle="yes">R</italic> when the weights are equal. The primary objective of LoRaBB is to select the combinations that align with the average performance presented in the characterization. Further, PDR is the primary metric requirement considered for this project, so these weights were tested prior to choosing the values used in the design of experiments.</p><p>Following the analysis of <italic toggle="yes">R</italic> values, the weights <inline-formula><mml:math id="mm54" overflow="scroll"><mml:mrow><mml:mrow><mml:msub><mml:mi>W</mml:mi><mml:mn>1</mml:mn></mml:msub><mml:mo>=</mml:mo><mml:msub><mml:mi>W</mml:mi><mml:mn>2</mml:mn></mml:msub><mml:mo>=</mml:mo><mml:mn>0.2</mml:mn></mml:mrow></mml:mrow></mml:math></inline-formula> and <inline-formula><mml:math id="mm55" overflow="scroll"><mml:mrow><mml:mrow><mml:msub><mml:mi>W</mml:mi><mml:mn>3</mml:mn></mml:msub><mml:mo>=</mml:mo><mml:mn>0.6</mml:mn></mml:mrow></mml:mrow></mml:math></inline-formula> were considered for algorithm design and design of experiments, as they provide the most appropriate condition to estimate <italic toggle="yes">R</italic> in the characterized scenario. This condition is illustrated in <xref rid="sensors-25-01200-f012" ref-type="fig">Figure 12</xref>. Similar to the case with equal weights, the slope and the regression of <italic toggle="yes">R</italic>, compared to PDR, are higher, and the coefficient of determination <inline-formula><mml:math id="mm56" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>R</mml:mi></mml:mrow></mml:mrow></mml:math></inline-formula> demonstrates a stronger correlation with <italic toggle="yes">R</italic>. In practice, when nodes choose different parameter combinations, the LoRaBB strategy in this phase will try to overfit the parameter selection process based on <italic toggle="yes">R</italic> values, especially when using PDR as the main metric.</p><p>Finally, the complete and detailed algorithm of the binary search proposed can be seen in Algorithm 1.</p><array><tbody><tr><td align="left" valign="middle" style="border-top:solid thin;border-bottom:solid thin" rowspan="1" colspan="1"><bold>Algorithm 1:</bold> Binary Search LoRa Parameter Selection.</td></tr><tr><td align="left" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">
<inline-graphic xlink:href="sensors-25-01200-i001.jpg"/>
</td></tr></tbody></array></sec></sec></sec><sec id="sec4-sensors-25-01200"><title>4. Design of Experiments</title><p>In the context of this project, it is relevant to highlight that the communication must include transmission across forested environments. <xref rid="sensors-25-01200-f013" ref-type="fig">Figure 13</xref>a illustrates an example of the line-of-sight communication used in this work&#x02019;s experiments. The image was taken on the campus of the Federal University of Amazonas (UFAM), located in Manaus, Amazonas, Brazil (03&#x000ba;04&#x02032;34&#x02032;&#x02032; S, 59&#x000ba;57&#x02032;30&#x02032;&#x02032; W; datum = WGS84). Despite being situated on a university campus, this environment likewise illustrates the same conditions of real-world experiments in the Amazon rainforest. UFAM hosts one of the largest urban forest fragments of the planet, a 776 ha campus mainly composed of primary and secondary forest, as well as anthropic areas and water bodies, as illustrated in <xref rid="sensors-25-01200-f013" ref-type="fig">Figure 13</xref>b, taken from [<xref rid="B38-sensors-25-01200" ref-type="bibr">38</xref>].</p><p>To test the effectiveness of our proposed algorithm, we experimented to compare its performance with the traditional ADR approach. The experiments were conducted in vegetation and climate conditions similar to the experiments used to build the <italic toggle="yes">R</italic>-array, described in <xref rid="sec3dot3dot1-sensors-25-01200" ref-type="sec">Section 3.3.1</xref>, except the distances of 187 and 200 m, respectively. Moreover, each experiment consisted of the initial stage described in <xref rid="sec3dot1-sensors-25-01200" ref-type="sec">Section 3.1</xref>. The decision to use similar scenarios was motivated by the familiarity with the potential outcomes of the characterization experiments. This familiarity facilitated the subjective qualitative analysis concerning the suitability and comprehensibility of the potential results employed in the phase of <italic toggle="yes">R</italic>-array building. The detailed location of the validation experiments is illustrated in <xref rid="sensors-25-01200-f014" ref-type="fig">Figure 14</xref>.</p><p>The metrics evaluated were (a) convergence time, representing the duration for the algorithms to select optimal parameters; (b) packet delivery ratio, representing the number of packets delivered in a communication after LoRa parameters was selected by the proposed algorithm and ADR; and (c) qualitative analysis of the chosen parameters.</p><p>Weight values were assigned based on the results obtained from the characterization experiments. The weights used for the calculation of <italic toggle="yes">R</italic> were 0.2 for RSSI and SNR and 0.6 for PDR in Equation (<xref rid="FD2-sensors-25-01200" ref-type="disp-formula">2</xref>). The weight choices aim to substantially elevate the significance of PDR by choosing a parameter combination focused on minimizing packet loss.</p></sec><sec sec-type="results" id="sec5-sensors-25-01200"><title>5. Results</title><p>The results evaluated LoRaBB compared to ADR LoRaWAN for the aforementioned devices set up in forest transmission conditions. In the following charts, the numbers following the names ADR and LoRaBB represent the location of the experiment, as described in the previous section.</p><p>The results for convergence time are illustrated in <xref rid="sensors-25-01200-f015" ref-type="fig">Figure 15</xref>, where the convergence time to execution of ADR and LoRaBB in each scenario evaluated is illustrated. We observed a minimal difference in convergence time, primarily influenced by the LoRaBB processing time, as we can observe in the convergence time for approximately 20 packets transmitted by ADR and 8 packets for LoRaBB. Therefore, the total convergence time of the proposed algorithm was slightly more than double compared to the ADR result due to the number of packets transmitted by LoRaBB, which was slightly more than 40 packets due to the iterations of the binary search.</p><p>On the other hand, in the qualitative analysis, the LoRaBB algorithm consistently chose parameters SF = 11, BW = 250, and TP = 14 in both experiments, contrasting with ADR, which assigned SF = 10, BW = 125, and TP = 20. We highlight that in both experiments ADR did not decrease the TP value. Due to foliage across the forest, the SNR value, used in ADR, is usually poorer in these environments, which leads the ADR to keep higher TP values.</p><p>LoRaBB held an advantage by selecting specific parameters which resulted in a ToA, compared to the ADR result, 206.84 ms and 247.80 ms, respectively (results extracted with LoRa calc: <uri xlink:href="https://www.semtech.com/design-support/lora-calculator">https://www.semtech.com/design-support/lora-calculator</uri>, accessed on 1 July 2024). As stated by Kri&#x0017e;anovi&#x00107; et al. [<xref rid="B39-sensors-25-01200" ref-type="bibr">39</xref>], ToA is fully related to device energy consumption, where higher ToA implies more energy consumption by the transmitter device.</p><p>The performance evaluation shows LoRaBB can perform similarly to ADR in terms of SF parameter selection. Since higher SF can handle more information on its chirp and consume more device energy, it also can lead to fewer messages sent by day (considering the fair use policies and regulated duty cycle limits) [<xref rid="B39-sensors-25-01200" ref-type="bibr">39</xref>]. Although communication operations involving SF are quite exponential, we believe this does not significantly impact operations related to remote monitoring systems, such as sensor-based monitoring of water quality&#x02014;the main use case of this research&#x02014;since there is no requirement for devices to send a large volume of messages daily in such environments.</p><p>In addition, as expected, the LoRaBB reached a lower TP when compared to the ADR result. While ADR is not properly indicated for TP parameter selection due to the algorithm and scenario properties, LoRaBB can handle TP selection, choosing TP <inline-formula><mml:math id="mm104" overflow="scroll"><mml:mrow><mml:mrow><mml:mo>=</mml:mo><mml:mn>14</mml:mn></mml:mrow></mml:mrow></mml:math></inline-formula> in both experiments evaluated. It is worth mentioning that, as stated in [<xref rid="B40-sensors-25-01200" ref-type="bibr">40</xref>], the energy consumption can increase more than 340% when TP goes from 13 to 20 dB considering the Semtech chip datasheet and 38% when TP goes from 17 to 20. The differences between the literature and the chip datasheet support our findings that LoRaBB can lead to a minimum device energy consumption.</p><p>Further, analyzing packet delivery performance, as illustrated in <xref rid="sensors-25-01200-f016" ref-type="fig">Figure 16</xref>, the ADR had the worst performance on experiment 2, reaching 100% and 80% for each experiment scenario, while LoRaBB reached a 100% PDR in such cases. Even in a scenario of a relevant short distance for LoRa communication, ADR did not reach a 100% PDR.</p><p>One of our hypotheses is that, as ADR uses the SNR as the basis of its algorithm, the SNR was verified to be a metric of minor applicability in forest scenarios, which is corroborated by the investigation by Ansah et al. [<xref rid="B36-sensors-25-01200" ref-type="bibr">36</xref>]. where the authors found the received signal power deviated due to scattering caused by tree trunks and the canopy. Moreover, our results follow the theory that higher values of SF had longer ToA and lower minimum receiver sensitivity, as LoRaBB achieved SF <inline-formula><mml:math id="mm105" overflow="scroll"><mml:mrow><mml:mrow><mml:mo>=</mml:mo><mml:mn>11</mml:mn></mml:mrow></mml:mrow></mml:math></inline-formula>, while ADR <inline-formula><mml:math id="mm106" overflow="scroll"><mml:mrow><mml:mrow><mml:mo>=</mml:mo><mml:mn>10</mml:mn></mml:mrow></mml:mrow></mml:math></inline-formula>, which could result in the high variance in the received signal power found in [<xref rid="B36-sensors-25-01200" ref-type="bibr">36</xref>], impacting the PDR.</p><p>Although minimizing the TP value selected for cost-effective deployment in non-critical and non-real-time applications, LoRaBB&#x02019;s chosen parameters are preferred due to device energy constraints.</p></sec><sec sec-type="conclusions" id="sec6-sensors-25-01200"><title>6. Conclusions and Future Work</title><p>This work introduced a novel algorithm for LoRa parameter selection based on the binary search methodology entitled LoRaBB. LoRaBB aims to adapt the LoRa parameter selection to the deployment scenario based on the previous scenario characterization. Further, the conditions of the deployment considered an end node-to-gateway communication in a star network topology.</p><p>Using a pre-built <italic toggle="yes">R</italic>-array, LoRaBB can identify the relationship between key parameters (SF, BW, and TP) used in LoRa communication and the major metrics evaluated by LoRa for transmission quality: RSSI, SNR, and packet delivery ratio (PDR) for each deployment scenario. Further, this characterization was applied and evaluated in forest scenarios to support environmental monitoring systems used in the context supported by this project.</p><p>We therefore conclude that our approach can reduce other device-related expenses due to the self-healing and self-configuration settings. LoRaBB chose more energy-efficient parameters than the traditional ADR algorithm, resulting in a lower Time on Air and a lower TP, despite taking a longer time to find the suitable parameter combination. It also selected more feasible parameters for LoRa communication in forest environments, such as the Amazon rainforest, extending the device&#x02019;s lifespan in monitoring scenarios in forest environments.</p><p>On the other hand, the long-range capabilities and gateway configurations for managing multiple devices with different LoRa parameters emerge as a new issue in this context. As a next methodological step, we intend to analyze other environmental factors and climate change and how LoRaBB and other LoRa parameter selection algorithms can handle these situations dynamically. Additionally, to show how gateways handle the parameter changing, we consider testing over different window parameter selections or based on recent packet losses.</p><p>In future work, we might adapt LoRaBB considering different climate conditions, such as the rainy periods in the Amazon rainforest. Since this work was evaluated in the summer, the rainy period did not impact the characterization and results. Finally, we highlight that the LoRaBB must be compared to novel machine learning approaches for LoRa parameter selection. Since it is related to other parameters, such as energy spent by the method and algorithm complexity, this study did not address these techniques.</p></sec></body><back><fn-group><fn><p><bold>Disclaimer/Publisher&#x02019;s Note:</bold> The statements, opinions and data contained in all publications are solely those of the individual author(s) and contributor(s) and not of MDPI and/or the editor(s). MDPI and/or the editor(s) disclaim responsibility for any injury to people or property resulting from any ideas, methods, instructions or products referred to in the content.</p></fn></fn-group><notes><title>Author Contributions</title><p>Conceptualization, D.S.M. and E.M.; methodology, D.S.M.; software, P.B.d.S. and P.V.F.d.M.; validation, D.S.M., G.S. and E.M.; formal analysis, A.E.Y.; investigation, D.S.M. and A.E.Y.; resources, E.M.; data curation, D.S.M., G.S. and A.E.Y.; writing&#x02014;original draft preparation, D.S.M.; writing&#x02014;review and editing, D.S.M., G.S., A.E.Y. and E.M.; supervision, E.M.; project administration, D.S.M. and E.M.; funding acquisition, E.M. All authors have read and agreed to the published version of the manuscript.</p></notes><notes><title>Institutional Review Board Statement</title><p>Not applicable.</p></notes><notes><title>Informed Consent Statement</title><p>Not applicable.</p></notes><notes notes-type="data-availability"><title>Data Availability Statement</title><p>Data are contained within the article.</p></notes><notes notes-type="COI-statement"><title>Conflicts of Interest</title><p>The authors declare no conflicts of interest.</p></notes><glossary><title>Abbreviations</title><p>The following abbreviations are used in this manuscript:
<array><tbody><tr><td align="left" valign="middle" rowspan="1" colspan="1">LoRa</td><td align="left" valign="middle" rowspan="1" colspan="1">Long Range</td></tr><tr><td align="left" valign="middle" rowspan="1" colspan="1">TP</td><td align="left" valign="middle" rowspan="1" colspan="1">Transmission power</td></tr><tr><td align="left" valign="middle" rowspan="1" colspan="1">BW</td><td align="left" valign="middle" rowspan="1" colspan="1">Bandwidth</td></tr><tr><td align="left" valign="middle" rowspan="1" colspan="1">SF</td><td align="left" valign="middle" rowspan="1" colspan="1">Spreading factor</td></tr><tr><td align="left" valign="middle" rowspan="1" colspan="1">CR</td><td align="left" valign="middle" rowspan="1" colspan="1">Coding rate</td></tr><tr><td align="left" valign="middle" rowspan="1" colspan="1">ADR</td><td align="left" valign="middle" rowspan="1" colspan="1">Adaptive Data Rate</td></tr><tr><td align="left" valign="middle" rowspan="1" colspan="1">ToA</td><td align="left" valign="middle" rowspan="1" colspan="1">Time on Air</td></tr><tr><td align="left" valign="middle" rowspan="1" colspan="1">RSSI</td><td align="left" valign="middle" rowspan="1" colspan="1">Received signal strength indicator</td></tr><tr><td align="left" valign="middle" rowspan="1" colspan="1">SNR</td><td align="left" valign="middle" rowspan="1" colspan="1">Signal-to-noise ratio</td></tr><tr><td align="left" valign="middle" rowspan="1" colspan="1">PDR</td><td align="left" valign="middle" rowspan="1" colspan="1">Packet delivery ratio</td></tr></tbody></array></p></glossary><ref-list><title>References</title><ref id="B1-sensors-25-01200"><label>1.</label><element-citation publication-type="journal"><person-group person-group-type="author">
<name><surname>de Souza</surname><given-names>J.R.</given-names></name>
<name><surname>de Moraes</surname><given-names>M.E.B.</given-names></name>
<name><surname>Sonoda</surname><given-names>S.L.</given-names></name>
<name><surname>Santos</surname><given-names>H.C.R.G.</given-names></name>
</person-group><article-title>A import&#x000e2;ncia da qualidade da &#x000e1;gua e os seus m&#x000fa;ltiplos usos: Caso Rio Almada, sul da Bahia, Brasil</article-title><source>REDE-Rev. Eletr&#x000f4;nica Prodema</source><year>2014</year><volume>8</volume><comment>Available online: <ext-link xlink:href="http://www.revistarede.ufc.br/rede/article/view/217" ext-link-type="uri">http://www.revistarede.ufc.br/rede/article/view/217</ext-link></comment><date-in-citation content-type="access-date" iso-8601-date="2025-01-07">(accessed on 7 January 2025)</date-in-citation></element-citation></ref><ref id="B2-sensors-25-01200"><label>2.</label><element-citation publication-type="journal"><person-group person-group-type="author">
<name><surname>Rico</surname><given-names>A.</given-names></name>
<name><surname>de Oliveira</surname><given-names>R.</given-names></name>
<name><surname>de Souza Nunes</surname><given-names>G.S.</given-names></name>
<name><surname>Rizzi</surname><given-names>C.</given-names></name>
<name><surname>Villa</surname><given-names>S.</given-names></name>
<name><surname>L&#x000f3;pez-Heras</surname><given-names>I.</given-names></name>
<name><surname>Vighi</surname><given-names>M.</given-names></name>
<name><surname>Waichman</surname><given-names>A.V.</given-names></name>
</person-group><article-title>Pharmaceuticals and other urban contaminants threaten Amazonian freshwater ecosystems</article-title><source>Environ. Int.</source><year>2021</year><volume>155</volume><fpage>106702</fpage><pub-id pub-id-type="doi">10.1016/j.envint.2021.106702</pub-id><pub-id pub-id-type="pmid">34139589</pub-id>
</element-citation></ref><ref id="B3-sensors-25-01200"><label>3.</label><element-citation publication-type="journal"><person-group person-group-type="author">
<name><surname>de Souza Filho</surname><given-names>E.A.</given-names></name>
<name><surname>Alves</surname><given-names>S.B.d.S.M.</given-names></name>
<name><surname>Neves</surname><given-names>R.K.R.</given-names></name>
<name><surname>Batista</surname><given-names>I.H.</given-names></name>
<name><surname>de Albuquerque</surname><given-names>C.C.</given-names></name>
<name><surname>Damasceno</surname><given-names>S.B.</given-names></name>
<name><surname>do Nascimento</surname><given-names>D.A.</given-names></name>
</person-group><article-title>Estudo comparativo de aspectos f&#x000ed;sico-qu&#x000ed;micos entre &#x000e1;guas da microbacia do mindu e igarap&#x000e9;s sob influ&#x000ea;ncia antr&#x000f3;pica na cidade de Manaus-AM/Comparative study of physicochemical aspects between mindu microbacy waters and igarapes under anthropic influence in Manaus-AM city</article-title><source>Braz. J. Dev.</source><year>2020</year><volume>6</volume><fpage>2419</fpage><lpage>2433</lpage></element-citation></ref><ref id="B4-sensors-25-01200"><label>4.</label><element-citation publication-type="confproc"><person-group person-group-type="author">
<name><surname>Das</surname><given-names>B.</given-names></name>
<name><surname>Jain</surname><given-names>P.</given-names></name>
</person-group><article-title>Real-time water quality monitoring system using Internet of Things</article-title><source>Proceedings of the 2017 International Conference on Computer, Communications and Electronics (Comptelix)</source><conf-loc>Jaipur, India</conf-loc><conf-date>1&#x02013;2 July 2017</conf-date><fpage>78</fpage><lpage>82</lpage></element-citation></ref><ref id="B5-sensors-25-01200"><label>5.</label><element-citation publication-type="journal"><person-group person-group-type="author">
<name><surname>Pasika</surname><given-names>S.</given-names></name>
<name><surname>Gandla</surname><given-names>S.T.</given-names></name>
</person-group><article-title>Smart water quality monitoring system with cost-effective using IoT</article-title><source>Heliyon</source><year>2020</year><volume>6</volume><fpage>e04096</fpage><pub-id pub-id-type="doi">10.1016/j.heliyon.2020.e04096</pub-id><pub-id pub-id-type="pmid">32642574</pub-id>
</element-citation></ref><ref id="B6-sensors-25-01200"><label>6.</label><element-citation publication-type="journal"><person-group person-group-type="author">
<name><surname>Ribeiro</surname><given-names>L.E.</given-names></name>
<name><surname>Tokikawa</surname><given-names>D.W.</given-names></name>
<name><surname>Rebelatto</surname><given-names>J.L.</given-names></name>
<name><surname>Brante</surname><given-names>G.</given-names></name>
</person-group><article-title>Comparison between LoRa and NB-IoT coverage in urban and rural Southern Brazil regions</article-title><source>Ann. Telecommun.</source><year>2020</year><volume>75</volume><fpage>755</fpage><lpage>766</lpage><pub-id pub-id-type="doi">10.1007/s12243-020-00774-3</pub-id></element-citation></ref><ref id="B7-sensors-25-01200"><label>7.</label><element-citation publication-type="journal"><person-group person-group-type="author">
<name><surname>Marini</surname><given-names>R.</given-names></name>
<name><surname>Mikhaylov</surname><given-names>K.</given-names></name>
<name><surname>Pasolini</surname><given-names>G.</given-names></name>
<name><surname>Buratti</surname><given-names>C.</given-names></name>
</person-group><article-title>Low-power wide-area networks: Comparison of LoRaWAN and NB-IoT performance</article-title><source>IEEE Internet Things J.</source><year>2022</year><volume>9</volume><fpage>21051</fpage><lpage>21063</lpage><pub-id pub-id-type="doi">10.1109/JIOT.2022.3176394</pub-id></element-citation></ref><ref id="B8-sensors-25-01200"><label>8.</label><element-citation publication-type="journal"><person-group person-group-type="author">
<name><surname>Ballerini</surname><given-names>M.</given-names></name>
<name><surname>Polonelli</surname><given-names>T.</given-names></name>
<name><surname>Brunelli</surname><given-names>D.</given-names></name>
<name><surname>Magno</surname><given-names>M.</given-names></name>
<name><surname>Benini</surname><given-names>L.</given-names></name>
</person-group><article-title>NB-IoT versus LoRaWAN: An experimental evaluation for industrial applications</article-title><source>IEEE Trans. Ind. Inform.</source><year>2020</year><volume>16</volume><fpage>7802</fpage><lpage>7811</lpage><pub-id pub-id-type="doi">10.1109/TII.2020.2987423</pub-id></element-citation></ref><ref id="B9-sensors-25-01200"><label>9.</label><element-citation publication-type="journal"><person-group person-group-type="author">
<name><surname>Chen</surname><given-names>W.</given-names></name>
<name><surname>Hao</surname><given-names>X.</given-names></name>
<name><surname>Lu</surname><given-names>J.</given-names></name>
<name><surname>Yan</surname><given-names>K.</given-names></name>
<name><surname>Liu</surname><given-names>J.</given-names></name>
<name><surname>He</surname><given-names>C.</given-names></name>
<name><surname>Xu</surname><given-names>X.</given-names></name>
</person-group><article-title>Research and design of distributed IoT water environment monitoring system based on LoRa</article-title><source>Wirel. Commun. Mob. Comput.</source><year>2021</year><volume>2021</volume><fpage>9403963</fpage><pub-id pub-id-type="doi">10.1155/2021/9403963</pub-id></element-citation></ref><ref id="B10-sensors-25-01200"><label>10.</label><element-citation publication-type="journal"><person-group person-group-type="author">
<name><surname>Almuhaya</surname><given-names>M.A.M.</given-names></name>
<name><surname>Jabbar</surname><given-names>W.A.</given-names></name>
<name><surname>Sulaiman</surname><given-names>N.</given-names></name>
<name><surname>Abdulmalek</surname><given-names>S.</given-names></name>
</person-group><article-title>A Survey on LoRaWAN Technology: Recent Trends, Opportunities, Simulation Tools and Future Directions</article-title><source>Electronics</source><year>2022</year><volume>11</volume><elocation-id>164</elocation-id><pub-id pub-id-type="doi">10.3390/electronics11010164</pub-id></element-citation></ref><ref id="B11-sensors-25-01200"><label>11.</label><element-citation publication-type="webpage"><article-title>LoRa Modulation Basics, 2015</article-title><comment>Available online: <ext-link xlink:href="https://www.frugalprototype.com/wp-content/uploads/2016/08/an1200.22.pdf" ext-link-type="uri">https://www.frugalprototype.com/wp-content/uploads/2016/08/an1200.22.pdf</ext-link></comment><date-in-citation content-type="access-date" iso-8601-date="2023-12-01">(accessed on 1 December 2023)</date-in-citation></element-citation></ref><ref id="B12-sensors-25-01200"><label>12.</label><element-citation publication-type="confproc"><person-group person-group-type="author">
<name><surname>Bor</surname><given-names>M.</given-names></name>
<name><surname>Roedig</surname><given-names>U.</given-names></name>
</person-group><article-title>LoRa transmission parameter selection</article-title><source>Proceedings of the 2017 13th International Conference on Distributed Computing in Sensor Systems (DCOSS)</source><conf-loc>Ottawa, ON, Canada</conf-loc><conf-date>5&#x02013;7 June 2017</conf-date><fpage>27</fpage><lpage>34</lpage></element-citation></ref><ref id="B13-sensors-25-01200"><label>13.</label><element-citation publication-type="confproc"><person-group person-group-type="author">
<name><surname>Sugiyama</surname><given-names>S.</given-names></name>
<name><surname>Makizoe</surname><given-names>K.</given-names></name>
<name><surname>Arai</surname><given-names>M.</given-names></name>
<name><surname>Hasegawa</surname><given-names>M.</given-names></name>
<name><surname>Otsuki</surname><given-names>T.</given-names></name>
<name><surname>Li</surname><given-names>A.</given-names></name>
</person-group><article-title>Fully Autonomous Distributed Transmission Parameter Selection Method for Mobile IoT Applications Using Deep Reinforcement Learning</article-title><source>Proceedings of the 2024 IEEE 99th Vehicular Technology Conference (VTC2024-Spring)</source><conf-loc>Washington, DC, USA</conf-loc><conf-date>24&#x02013;27 June 2024</conf-date><fpage>1</fpage><lpage>5</lpage></element-citation></ref><ref id="B14-sensors-25-01200"><label>14.</label><element-citation publication-type="confproc"><person-group person-group-type="author">
<name><surname>Ra&#x00161;i&#x00107;</surname><given-names>T.</given-names></name>
<name><surname>Simon</surname><given-names>J.L.E.</given-names></name>
<name><surname>Zori&#x00107;</surname><given-names>N.</given-names></name>
<name><surname>Simi&#x00107;</surname><given-names>M.</given-names></name>
</person-group><article-title>The Impact of LoRa Transmission Parameters on Packet Delivery and Dissipation Power</article-title><source>Proceedings of the 2021 International Balkan Conference on Communications and Networking (BalkanCom)</source><conf-loc>Novi Sad, Serbia</conf-loc><conf-date>20&#x02013;22 September 2021</conf-date><fpage>11</fpage><lpage>15</lpage></element-citation></ref><ref id="B15-sensors-25-01200"><label>15.</label><element-citation publication-type="journal"><person-group person-group-type="author">
<name><surname>Polidori</surname><given-names>L.</given-names></name>
<name><surname>Caldeira</surname><given-names>C.R.T.</given-names></name>
<name><surname>Smessaert</surname><given-names>M.</given-names></name>
<name><surname>Hage</surname><given-names>M.E.</given-names></name>
</person-group><article-title>Digital elevation modeling through forests: The challenge of the Amazon</article-title><source>Acta Amaz.</source><year>2022</year><volume>52</volume><fpage>69</fpage><lpage>80</lpage><pub-id pub-id-type="doi">10.1590/1809-4392202103091</pub-id></element-citation></ref><ref id="B16-sensors-25-01200"><label>16.</label><element-citation publication-type="journal"><person-group person-group-type="author">
<name><surname>Li</surname><given-names>C.</given-names></name>
<name><surname>Cao</surname><given-names>Z.</given-names></name>
</person-group><article-title>Lora networking techniques for large-scale and long-term iot: A down-to-top survey</article-title><source>ACM Comput. Surv. CSUR</source><year>2022</year><volume>55</volume><fpage>1</fpage><lpage>36</lpage><pub-id pub-id-type="doi">10.1145/3494673</pub-id></element-citation></ref><ref id="B17-sensors-25-01200"><label>17.</label><element-citation publication-type="confproc"><person-group person-group-type="author">
<name><surname>Carlsson</surname><given-names>A.</given-names></name>
<name><surname>Kuzminykh</surname><given-names>I.</given-names></name>
<name><surname>Franksson</surname><given-names>R.</given-names></name>
<name><surname>Liljegren</surname><given-names>A.</given-names></name>
</person-group><article-title>Measuring a LoRa network: Performance, possibilities and limitations</article-title><source>Proceedings of the Internet of Things, Smart Spaces, and Next Generation Networks and Systems: 18th International Conference, NEW2AN 2018, and 11th Conference, ruSMART 2018</source><conf-loc>St. Petersburg, Russia</conf-loc><conf-date>27&#x02013;29 August 2018</conf-date><publisher-name>Springer</publisher-name><publisher-loc>Berlin/Heidelberg, Germany</publisher-loc><year>2018</year><fpage>116</fpage><lpage>128</lpage></element-citation></ref><ref id="B18-sensors-25-01200"><label>18.</label><element-citation publication-type="confproc"><person-group person-group-type="author">
<name><surname>Sarker</surname><given-names>V.K.</given-names></name>
<name><surname>Queralta</surname><given-names>J.P.</given-names></name>
<name><surname>Gia</surname><given-names>T.N.</given-names></name>
<name><surname>Tenhunen</surname><given-names>H.</given-names></name>
<name><surname>Westerlund</surname><given-names>T.</given-names></name>
</person-group><article-title>A survey on LoRa for IoT: Integrating edge computing</article-title><source>Proceedings of the 2019 Fourth International Conference on Fog and Mobile Edge Computing (FMEC)</source><conf-loc>Rome, Italy</conf-loc><conf-date>10&#x02013;13 June 2019</conf-date><fpage>295</fpage><lpage>300</lpage></element-citation></ref><ref id="B19-sensors-25-01200"><label>19.</label><element-citation publication-type="journal"><person-group person-group-type="author">
<name><surname>Ojo</surname><given-names>M.O.</given-names></name>
<name><surname>Adami</surname><given-names>D.</given-names></name>
<name><surname>Giordano</surname><given-names>S.</given-names></name>
</person-group><article-title>Experimental evaluation of a LoRa wildlife monitoring network in a forest vegetation area</article-title><source>Future Internet</source><year>2021</year><volume>13</volume><elocation-id>115</elocation-id><pub-id pub-id-type="doi">10.3390/fi13050115</pub-id></element-citation></ref><ref id="B20-sensors-25-01200"><label>20.</label><element-citation publication-type="journal"><person-group person-group-type="author">
<name><surname>Wang</surname><given-names>H.</given-names></name>
<name><surname>Pei</surname><given-names>P.</given-names></name>
<name><surname>Pan</surname><given-names>R.</given-names></name>
<name><surname>Wu</surname><given-names>K.</given-names></name>
<name><surname>Zhang</surname><given-names>Y.</given-names></name>
<name><surname>Xiao</surname><given-names>J.</given-names></name>
<name><surname>Yang</surname><given-names>J.</given-names></name>
</person-group><article-title>A collision reduction adaptive data rate algorithm based on the fsvm for a low-cost lora gateway</article-title><source>Mathematics</source><year>2022</year><volume>10</volume><elocation-id>3920</elocation-id><pub-id pub-id-type="doi">10.3390/math10213920</pub-id></element-citation></ref><ref id="B21-sensors-25-01200"><label>21.</label><element-citation publication-type="confproc"><person-group person-group-type="author">
<name><surname>Neumann</surname><given-names>P.</given-names></name>
<name><surname>Montavont</surname><given-names>J.</given-names></name>
<name><surname>Noel</surname><given-names>T.</given-names></name>
</person-group><article-title>Indoor deployment of low-power wide area networks (LPWAN): A LoRaWAN case study</article-title><source>Proceedings of the 2016 IEEE 12th International Conference on Wireless and Mobile Computing, Networking and Communications (WiMob)</source><conf-loc>New York, NY, USA</conf-loc><conf-date>17&#x02013;19 October 2016</conf-date><fpage>1</fpage><lpage>8</lpage></element-citation></ref><ref id="B22-sensors-25-01200"><label>22.</label><element-citation publication-type="confproc"><person-group person-group-type="author">
<name><surname>Kartakis</surname><given-names>S.</given-names></name>
<name><surname>Choudhary</surname><given-names>B.D.</given-names></name>
<name><surname>Gluhak</surname><given-names>A.D.</given-names></name>
<name><surname>Lambrinos</surname><given-names>L.</given-names></name>
<name><surname>McCann</surname><given-names>J.A.</given-names></name>
</person-group><article-title>Demystifying low-power wide-area communications for city IoT applications</article-title><source>Proceedings of the Tenth ACM International Workshop on Wireless Network Testbeds, Experimental Evaluation, and Characterization</source><conf-loc>New York, NY, USA</conf-loc><conf-date>3&#x02013;7 October 2016</conf-date><fpage>2</fpage><lpage>8</lpage></element-citation></ref><ref id="B23-sensors-25-01200"><label>23.</label><element-citation publication-type="journal"><person-group person-group-type="author">
<name><surname>Cattani</surname><given-names>M.</given-names></name>
<name><surname>Boano</surname><given-names>C.A.</given-names></name>
<name><surname>R&#x000f6;mer</surname><given-names>K.</given-names></name>
</person-group><article-title>An experimental evaluation of the reliability of lora long-range low-power wireless communication</article-title><source>J. Sens. Actuator Netw.</source><year>2017</year><volume>6</volume><elocation-id>7</elocation-id><pub-id pub-id-type="doi">10.3390/jsan6020007</pub-id></element-citation></ref><ref id="B24-sensors-25-01200"><label>24.</label><element-citation publication-type="confproc"><person-group person-group-type="author">
<name><surname>Gao</surname><given-names>W.</given-names></name>
<name><surname>Du</surname><given-names>W.</given-names></name>
<name><surname>Zhao</surname><given-names>Z.</given-names></name>
<name><surname>Min</surname><given-names>G.</given-names></name>
<name><surname>Singhal</surname><given-names>M.</given-names></name>
</person-group><article-title>Towards energy-fairness in lora networks</article-title><source>Proceedings of the 2019 IEEE 39th International Conference on Distributed Computing Systems (ICDCS)</source><conf-loc>Dallas, TX, USA</conf-loc><conf-date>7&#x02013;10 July 2019</conf-date><fpage>788</fpage><lpage>798</lpage></element-citation></ref><ref id="B25-sensors-25-01200"><label>25.</label><element-citation publication-type="confproc"><person-group person-group-type="author">
<name><surname>Angrisani</surname><given-names>L.</given-names></name>
<name><surname>Arpaia</surname><given-names>P.</given-names></name>
<name><surname>Bonavolont&#x000e0;</surname><given-names>F.</given-names></name>
<name><surname>Conti</surname><given-names>M.</given-names></name>
<name><surname>Liccardo</surname><given-names>A.</given-names></name>
</person-group><article-title>LoRa protocol performance assessment in critical noise conditions</article-title><source>Proceedings of the 2017 IEEE 3rd International Forum on Research and Technologies for Society and Industry (RTSI)</source><conf-loc>Modena, Italy</conf-loc><conf-date>11&#x02013;13 September 2017</conf-date><fpage>1</fpage><lpage>5</lpage><pub-id pub-id-type="doi">10.1109/RTSI.2017.8065952</pub-id></element-citation></ref><ref id="B26-sensors-25-01200"><label>26.</label><element-citation publication-type="webpage"><person-group person-group-type="author">
<collab>The Things Network</collab>
</person-group><article-title>LoRaWAN Adaptive Data Rate; 2016</article-title><comment>Available online: <ext-link xlink:href="https://www.thethingsnetwork.org/docs/lorawan/adaptive-data-rate/" ext-link-type="uri">https://www.thethingsnetwork.org/docs/lorawan/adaptive-data-rate/</ext-link></comment><date-in-citation content-type="access-date" iso-8601-date="2025-01-07">(accessed on 7 January 2025)</date-in-citation></element-citation></ref><ref id="B27-sensors-25-01200"><label>27.</label><element-citation publication-type="confproc"><person-group person-group-type="author">
<name><surname>Serati</surname><given-names>R.</given-names></name>
<name><surname>Teymuri</surname><given-names>B.</given-names></name>
<name><surname>Anagnostopoulos</surname><given-names>N.A.</given-names></name>
<name><surname>Rasti</surname><given-names>M.</given-names></name>
</person-group><article-title>ADR-Lite: A Low-Complexity Adaptive Data Rate Scheme for the LoRa Network</article-title><source>Proceedings of the 2022 18th International Conference on Wireless and Mobile Computing, Networking and Communications (WiMob)</source><conf-loc>Thessaloniki, Greece</conf-loc><conf-date>10&#x02013;12 October 2022</conf-date><fpage>296</fpage><lpage>301</lpage><pub-id pub-id-type="doi">10.1109/WiMob55322.2022.9941614</pub-id></element-citation></ref><ref id="B28-sensors-25-01200"><label>28.</label><element-citation publication-type="journal"><person-group person-group-type="author">
<name><surname>de Jesus</surname><given-names>G.G.M.</given-names></name>
<name><surname>Souza</surname><given-names>R.D.</given-names></name>
<name><surname>Montez</surname><given-names>C.</given-names></name>
<name><surname>Hoeller</surname><given-names>A.</given-names></name>
</person-group><article-title>LoRaWAN Adaptive Data Rate With Flexible Link Margin</article-title><source>IEEE Internet Things J.</source><year>2021</year><volume>8</volume><fpage>6053</fpage><lpage>6061</lpage><pub-id pub-id-type="doi">10.1109/JIOT.2020.3033797</pub-id></element-citation></ref><ref id="B29-sensors-25-01200"><label>29.</label><element-citation publication-type="confproc"><person-group person-group-type="author">
<name><surname>Khalifeh</surname><given-names>A.</given-names></name>
<name><surname>Shraideh</surname><given-names>S.</given-names></name>
<name><surname>Darabkh</surname><given-names>K.A.</given-names></name>
</person-group><article-title>Joint Channel and Spreading Factor Selection Algorithm for LoRaWAN Based Networks</article-title><source>Proceedings of the 2020 International Conference on UK-China Emerging Technologies (UCET)</source><conf-loc>Glasgow, UK</conf-loc><conf-date>20&#x02013;21 August 2020</conf-date><fpage>1</fpage><lpage>4</lpage><pub-id pub-id-type="doi">10.1109/UCET51115.2020.9205428</pub-id></element-citation></ref><ref id="B30-sensors-25-01200"><label>30.</label><element-citation publication-type="confproc"><person-group person-group-type="author">
<name><surname>Filho</surname><given-names>M.C.</given-names></name>
<name><surname>Campista</surname><given-names>M.</given-names></name>
</person-group><article-title>Economia de Energia atrav&#x000e9;s da Configura&#x000e7;&#x000e3;o Inteligente de Par&#x000e2;metros de Camada F&#x000ed;sica em Redes LoRa</article-title><source>Proceedings of the Anais do XL Simp&#x000f3;sio Brasileiro de Redes de Computadores e Sistemas Distribu&#x000ed;dos</source><conf-loc>Porto Alegre, RS, Brasil</conf-loc><conf-date>24&#x02013;25 April 2022</conf-date><fpage>559</fpage><lpage>572</lpage><pub-id pub-id-type="doi">10.5753/sbrc.2022.222376</pub-id></element-citation></ref><ref id="B31-sensors-25-01200"><label>31.</label><element-citation publication-type="confproc"><person-group person-group-type="author">
<name><surname>Yatagan</surname><given-names>T.</given-names></name>
<name><surname>Oktug</surname><given-names>S.</given-names></name>
</person-group><article-title>Smart Spreading Factor Assignment for LoRaWANs</article-title><source>Proceedings of the 2019 IEEE Symposium on Computers and Communications (ISCC)</source><conf-loc>Barcelona, Spain</conf-loc><conf-date>29 June&#x02013;3 July 2019</conf-date><fpage>1</fpage><lpage>7</lpage><pub-id pub-id-type="doi">10.1109/ISCC47284.2019.8969608</pub-id></element-citation></ref><ref id="B32-sensors-25-01200"><label>32.</label><element-citation publication-type="confproc"><person-group person-group-type="author">
<name><surname>Ilahi</surname><given-names>I.</given-names></name>
<name><surname>Usama</surname><given-names>M.</given-names></name>
<name><surname>Farooq</surname><given-names>M.O.</given-names></name>
<name><surname>Umar Janjua</surname><given-names>M.</given-names></name>
<name><surname>Qadir</surname><given-names>J.</given-names></name>
</person-group><article-title>LoRaDRL: Deep Reinforcement Learning Based Adaptive PHY Layer Transmission Parameters Selection for LoRaWAN</article-title><source>Proceedings of the 2020 IEEE 45th Conference on Local Computer Networks (LCN)</source><conf-loc>Sydney, Australia</conf-loc><conf-date>16&#x02013;19 November 2020</conf-date><fpage>457</fpage><lpage>460</lpage><pub-id pub-id-type="doi">10.1109/LCN48667.2020.9314772</pub-id></element-citation></ref><ref id="B33-sensors-25-01200"><label>33.</label><element-citation publication-type="webpage"><person-group person-group-type="author">
<name><surname>Alliance</surname><given-names>L.</given-names></name>
</person-group><article-title>Lora and Lorawan&#x02014;A Technical Overview; White Paper; 2019</article-title><comment>Available online: <ext-link xlink:href="https://www.semtech.com/uploads/technology/LoRa/lora-and-lorawan.pdf" ext-link-type="uri">https://www.semtech.com/uploads/technology/LoRa/lora-and-lorawan.pdf</ext-link></comment><date-in-citation content-type="access-date" iso-8601-date="2025-01-07">(accessed on 7 January 2025)</date-in-citation></element-citation></ref><ref id="B34-sensors-25-01200"><label>34.</label><element-citation publication-type="webpage"><person-group person-group-type="author">
<collab>Semtech Corporation</collab>
</person-group><article-title>LoRaWAN&#x02014;Simple Rate Adaptation Recommended Algorithm; 2016</article-title><comment>Available online: <ext-link xlink:href="https://www.thethingsnetwork.org/forum/uploads/default/original/2X/7/7480e044aa93a54a910dab8ef0adfb5f515d14a1.pdf" ext-link-type="uri">https://www.thethingsnetwork.org/forum/uploads/default/original/2X/7/7480e044aa93a54a910dab8ef0adfb5f515d14a1.pdf</ext-link></comment><date-in-citation content-type="access-date" iso-8601-date="2025-01-07">(accessed on 7 January 2025)</date-in-citation></element-citation></ref><ref id="B35-sensors-25-01200"><label>35.</label><element-citation publication-type="confproc"><person-group person-group-type="author">
<name><surname>Demetri</surname><given-names>S.</given-names></name>
<name><surname>Z&#x000fa;&#x000f1;iga</surname><given-names>M.</given-names></name>
<name><surname>Picco</surname><given-names>G.P.</given-names></name>
<name><surname>Kuipers</surname><given-names>F.</given-names></name>
<name><surname>Bruzzone</surname><given-names>L.</given-names></name>
<name><surname>Telkamp</surname><given-names>T.</given-names></name>
</person-group><article-title>Automated estimation of link quality for LoRa: A remote sensing approach</article-title><source>Proceedings of the 18th International Conference on Information Processing in Sensor Networks</source><conf-loc>Montreal, QC, Canada</conf-loc><conf-date>16&#x02013;18 April 2019</conf-date><fpage>145</fpage><lpage>156</lpage></element-citation></ref><ref id="B36-sensors-25-01200"><label>36.</label><element-citation publication-type="journal"><person-group person-group-type="author">
<name><surname>Richardson Ansah</surname><given-names>M.</given-names></name>
<name><surname>Sowah</surname><given-names>R.A.</given-names></name>
<name><surname>Meli&#x000e0;-Segu&#x000ed;</surname><given-names>J.</given-names></name>
<name><surname>Katsriku</surname><given-names>F.A.</given-names></name>
<name><surname>Vilajosana</surname><given-names>X.</given-names></name>
<name><surname>Owusu Banahene</surname><given-names>W.</given-names></name>
</person-group><article-title>Characterising foliage influence on LoRaWAN pathloss in a tropical vegetative environment</article-title><source>IET Wirel. Sens. Syst.</source><year>2020</year><volume>10</volume><fpage>198</fpage><lpage>207</lpage><pub-id pub-id-type="doi">10.1049/iet-wss.2019.0201</pub-id></element-citation></ref><ref id="B37-sensors-25-01200"><label>37.</label><element-citation publication-type="journal"><person-group person-group-type="author">
<name><surname>Ferreira</surname><given-names>A.E.</given-names></name>
<name><surname>Ortiz</surname><given-names>F.M.</given-names></name>
<name><surname>Costa</surname><given-names>L.H.M.</given-names></name>
<name><surname>Foubert</surname><given-names>B.</given-names></name>
<name><surname>Amadou</surname><given-names>I.</given-names></name>
<name><surname>Mitton</surname><given-names>N.</given-names></name>
</person-group><article-title>A study of the LoRa signal propagation in forest, urban, and suburban environments</article-title><source>Ann. Telecommun.</source><year>2020</year><volume>75</volume><fpage>333</fpage><lpage>351</lpage><pub-id pub-id-type="doi">10.1007/s12243-020-00789-w</pub-id></element-citation></ref><ref id="B38-sensors-25-01200"><label>38.</label><element-citation publication-type="journal"><person-group person-group-type="author">
<name><surname>Almeida-Correa</surname><given-names>T.</given-names></name>
<name><surname>Frazao</surname><given-names>L.</given-names></name>
<name><surname>Costa</surname><given-names>D.M.</given-names></name>
<name><surname>Menin</surname><given-names>M.</given-names></name>
<name><surname>Kaefer</surname><given-names>I.L.</given-names></name>
</person-group><article-title>Effect of environmental parameters on squamate reptiles in an urban forest fragment in central Amazonia</article-title><source>Acta Amaz.</source><year>2020</year><volume>50</volume><fpage>239</fpage><lpage>245</lpage><pub-id pub-id-type="doi">10.1590/1809-4392201904423</pub-id></element-citation></ref><ref id="B39-sensors-25-01200"><label>39.</label><element-citation publication-type="journal"><person-group person-group-type="author">
<name><surname>Kri&#x0017e;anovi&#x00107;</surname><given-names>V.</given-names></name>
<name><surname>Grgi&#x00107;</surname><given-names>K.</given-names></name>
<name><surname>Spi&#x00161;i&#x00107;</surname><given-names>J.</given-names></name>
<name><surname>&#x0017d;agar</surname><given-names>D.</given-names></name>
</person-group><article-title>An Advanced Energy-Efficient Environmental Monitoring in Precision Agriculture Using Lora-Based Wireless Sensor Networks</article-title><source>Sensors</source><year>2023</year><volume>23</volume><elocation-id>6332</elocation-id><pub-id pub-id-type="doi">10.3390/s23146332</pub-id><pub-id pub-id-type="pmid">37514629</pub-id>
</element-citation></ref><ref id="B40-sensors-25-01200"><label>40.</label><element-citation publication-type="journal"><person-group person-group-type="author">
<name><surname>Bouguera</surname><given-names>T.</given-names></name>
<name><surname>Diouris</surname><given-names>J.F.</given-names></name>
<name><surname>Chaillout</surname><given-names>J.J.</given-names></name>
<name><surname>Jaouadi</surname><given-names>R.</given-names></name>
<name><surname>Andrieux</surname><given-names>G.</given-names></name>
</person-group><article-title>Energy Consumption Model for Sensor Nodes Based on LoRa and LoRaWAN</article-title><source>Sensors</source><year>2018</year><volume>18</volume><elocation-id>2104</elocation-id><pub-id pub-id-type="doi">10.3390/s18072104</pub-id><pub-id pub-id-type="pmid">29966354</pub-id>
</element-citation></ref></ref-list></back><floats-group><fig position="float" id="sensors-25-01200-f001"><label>Figure 1</label><caption><p>LoRa parameter selection: (<bold>A</bold>) illustrates optimal parameters, while (<bold>B</bold>) depicts suboptimal choices. Each smaller circle represents a node, while the larger circle denotes the communication range determined by the selected LoRa parameters. Triangles represent gateways. Communication can occur between nodes and gateways that are within or on the border of the larger circle.</p></caption><graphic xlink:href="sensors-25-01200-g001" position="float"/></fig><fig position="float" id="sensors-25-01200-f002"><label>Figure 2</label><caption><p>Three-way handshake to establish first contact between an end node and a gateway.</p></caption><graphic xlink:href="sensors-25-01200-g002" position="float"/></fig><fig position="float" id="sensors-25-01200-f003"><label>Figure 3</label><caption><p>ADR algorithm flowchart [<xref rid="B34-sensors-25-01200" ref-type="bibr">34</xref>].</p></caption><graphic xlink:href="sensors-25-01200-g003" position="float"/></fig><fig position="float" id="sensors-25-01200-f004"><label>Figure 4</label><caption><p>Location of experiments for <italic toggle="yes">R</italic>-array building.</p></caption><graphic xlink:href="sensors-25-01200-g004" position="float"/></fig><fig position="float" id="sensors-25-01200-f005"><label>Figure 5</label><caption><p>Correlation matrices illustrating the relationship between parameters and target metrics in the R-array characterization process. (<bold>a</bold>) Correlation matrix including the PT = 18 scenario; (<bold>b</bold>) correlation matrix excluding the PT = 18 scenario.</p></caption><graphic xlink:href="sensors-25-01200-g005" position="float"/></fig><fig position="float" id="sensors-25-01200-f006"><label>Figure 6</label><caption><p>R values found in characterization experiments for each parameter combination. A very high resolution version of the R chart is available at: <uri xlink:href="https://tede.ufam.edu.br/image/R_values_characterization.jpg">https://tede.ufam.edu.br/image/R_values_characterization.jpg</uri>, accessed on 15 December 2024).</p></caption><graphic xlink:href="sensors-25-01200-g006" position="float"/></fig><fig position="float" id="sensors-25-01200-f007"><label>Figure 7</label><caption><p>RSSI results in the <italic toggle="yes">R</italic>-array build characterization experiment for each LoRa parameter.</p></caption><graphic xlink:href="sensors-25-01200-g007" position="float"/></fig><fig position="float" id="sensors-25-01200-f008"><label>Figure 8</label><caption><p>PDR results in the R&#x02013;array build characterization experiment for each combination of SF and BW parameters at varying distances.</p></caption><graphic xlink:href="sensors-25-01200-g008" position="float"/></fig><fig position="float" id="sensors-25-01200-f009"><label>Figure 9</label><caption><p>Example of binary search algorithm proposed using <italic toggle="yes">R</italic> values in sorted <italic toggle="yes">R</italic>-array for the calculated <inline-formula><mml:math id="mm109" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>R</mml:mi><mml:mo>=</mml:mo><mml:mn>0.3</mml:mn></mml:mrow></mml:mrow></mml:math></inline-formula>, by comparing them in the green <italic toggle="yes">R</italic>-array using <inline-formula><mml:math id="mm110" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>&#x003b4;</mml:mi><mml:mo>=</mml:mo><mml:mn>0.1</mml:mn></mml:mrow></mml:mrow></mml:math></inline-formula>. In the red <italic toggle="yes">R</italic>-array, the old parameter combination (<inline-formula><mml:math id="mm111" overflow="scroll"><mml:mrow><mml:msub><mml:mi>C</mml:mi><mml:mn>5</mml:mn></mml:msub></mml:mrow></mml:math></inline-formula>) has shifted to the right side of the array to use the new parameter combination (<inline-formula><mml:math id="mm112" overflow="scroll"><mml:mrow><mml:mrow><mml:msub><mml:mi>C</mml:mi><mml:mn>8</mml:mn></mml:msub><mml:mrow><mml:mo>)</mml:mo></mml:mrow></mml:mrow></mml:mrow></mml:math></inline-formula>, and comparing it to the newly calculated <italic toggle="yes">R</italic>, re-applying the <italic toggle="yes">R</italic> evaluation step using <inline-formula><mml:math id="mm113" overflow="scroll"><mml:mrow><mml:msub><mml:mi>R</mml:mi><mml:mn>8</mml:mn></mml:msub></mml:mrow></mml:math></inline-formula>.</p></caption><graphic xlink:href="sensors-25-01200-g009" position="float"/></fig><fig position="float" id="sensors-25-01200-f010"><label>Figure 10</label><caption><p>Timeline visualization of the LoRaBB binary search phase process, showing the progression and decisions at each step.</p></caption><graphic xlink:href="sensors-25-01200-g010" position="float"/></fig><fig position="float" id="sensors-25-01200-f011"><label>Figure 11</label><caption><p>Linear regression analysis of <italic toggle="yes">R</italic> values compared to the means of SNR, RSSI, and PDR for each combination/distance during the characterization experiments, considering <inline-formula><mml:math id="mm114" overflow="scroll"><mml:mrow><mml:mrow><mml:msub><mml:mi>W</mml:mi><mml:mi>k</mml:mi></mml:msub><mml:mo>=</mml:mo><mml:mn>0.33</mml:mn></mml:mrow></mml:mrow></mml:math></inline-formula>.</p></caption><graphic xlink:href="sensors-25-01200-g011" position="float"/></fig><fig position="float" id="sensors-25-01200-f012"><label>Figure 12</label><caption><p>Linear regression analysis of <italic toggle="yes">R</italic> values compared to the means of SNR, RSSI, and PDR for each combination/distance during the characterization experiments, considering <inline-formula><mml:math id="mm115" overflow="scroll"><mml:mrow><mml:mrow><mml:msub><mml:mi>W</mml:mi><mml:mn>1</mml:mn></mml:msub><mml:mo>=</mml:mo><mml:msub><mml:mi>W</mml:mi><mml:mn>2</mml:mn></mml:msub><mml:mo>=</mml:mo><mml:mn>0.2</mml:mn></mml:mrow></mml:mrow></mml:math></inline-formula> and <inline-formula><mml:math id="mm116" overflow="scroll"><mml:mrow><mml:mrow><mml:msub><mml:mi>W</mml:mi><mml:mn>3</mml:mn></mml:msub><mml:mo>=</mml:mo><mml:mn>0.6</mml:mn></mml:mrow></mml:mrow></mml:math></inline-formula>.</p></caption><graphic xlink:href="sensors-25-01200-g012" position="float"/></fig><fig position="float" id="sensors-25-01200-f013"><label>Figure 13</label><caption><p>Illustrations about the scenarios used in this research on the campus of UFAM. (<bold>a</bold>) The view of line-of-sight transmission across the forest at UFAM campus. (<bold>b</bold>) UFAM campus, one of the world largest urban forests, in the middle of Manaus City [<xref rid="B38-sensors-25-01200" ref-type="bibr">38</xref>].</p></caption><graphic xlink:href="sensors-25-01200-g013" position="float"/></fig><fig position="float" id="sensors-25-01200-f014"><label>Figure 14</label><caption><p>Location of validation experiments for proposed algorithm effectiveness.</p></caption><graphic xlink:href="sensors-25-01200-g014" position="float"/></fig><fig position="float" id="sensors-25-01200-f015"><label>Figure 15</label><caption><p>Convergence time for select LoRa parameters.</p></caption><graphic xlink:href="sensors-25-01200-g015" position="float"/></fig><fig position="float" id="sensors-25-01200-f016"><label>Figure 16</label><caption><p>Packet delivery ratio.</p></caption><graphic xlink:href="sensors-25-01200-g016" position="float"/></fig><table-wrap position="float" id="sensors-25-01200-t001"><object-id pub-id-type="pii">sensors-25-01200-t001_Table 1</object-id><label>Table 1</label><caption><p>Summary of research studies on LoRa parameter selection.</p></caption><table frame="hsides" rules="groups"><thead><tr><th align="left" valign="middle" style="border-bottom:solid thin;border-top:solid thin" rowspan="1" colspan="1">Authors</th><th align="left" valign="middle" style="border-bottom:solid thin;border-top:solid thin" rowspan="1" colspan="1">LoRa Parameters Used</th><th align="left" valign="middle" style="border-bottom:solid thin;border-top:solid thin" rowspan="1" colspan="1">Scenario</th><th align="left" valign="middle" style="border-bottom:solid thin;border-top:solid thin" rowspan="1" colspan="1">Missing Points</th></tr></thead><tbody><tr><td align="left" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">Gao et al. [<xref rid="B24-sensors-25-01200" ref-type="bibr">24</xref>]</td><td align="left" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">SF, CR, BW</td><td align="left" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">Simulated</td><td align="left" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">The authors presented a mathematical model to achieve max&#x02013;min fairness of energy efficiency based on LoRa parameter selection considering free-space path loss. Nevertheless, the authors did not consider any impact of the environment on signal attenuation in the mathematical modeling.</td></tr><tr><td align="left" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">Angrisani et al. [<xref rid="B25-sensors-25-01200" ref-type="bibr">25</xref>]</td><td align="left" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">SF, CR, BW</td><td align="left" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">Real Scenario</td><td align="left" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">The authors verified the robustness of the LoRa communication protocol versus different levels of white Gaussian noise based on SF, CR, and BW values. Despite demonstrating the robustness of LoRa in different noise scenarios, the impact of environment attenuation factors were not fully evaluated.</td></tr><tr><td align="left" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">The Things Network (TTN) [<xref rid="B26-sensors-25-01200" ref-type="bibr">26</xref>]</td><td align="left" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">SF</td><td align="left" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">Simulated</td><td align="left" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">In the ADR TTN white paper, the ADR is based on the link budget capacity to update SF. In addition, many aspects of algorithm design and parameter values were not fully addressed, and even the details of the mathematical modeling were not.</td></tr><tr><td align="left" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">Serati et al. [<xref rid="B27-sensors-25-01200" ref-type="bibr">27</xref>]</td><td align="left" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">SF, TP, CF, CR</td><td align="left" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">Simulated</td><td align="left" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">The authors applied simulations using the Oulu Lora Path Loss model based on real urban scenarios. Their modified ADR version considered mobile and static end devices. Thus, the path loss model used in their experiments may not be suitable for performance evaluation considering communication within vegetation and forests.</td></tr><tr><td align="left" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">de Jesus et al. [<xref rid="B28-sensors-25-01200" ref-type="bibr">28</xref>]</td><td align="left" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">SF, SNR</td><td align="left" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">Simulated</td><td align="left" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">The authors evaluated their experiments by comparing SF and SNR performance using free-space path loss, which may not be suitable for reflecting behavior in forest communications.</td></tr><tr><td align="left" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">Khalifeh, Shefaa, and Darabkh [<xref rid="B29-sensors-25-01200" ref-type="bibr">29</xref>]</td><td align="left" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">SF</td><td align="left" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">Simulated</td><td align="left" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">The authors presented an algorithm to select SF parameters based on rate demand. In their simulations, they applied a white Gaussian noise in path loss to simulate lossy urban environments. Other attenuation factors were not addressed in the algorithm design.</td></tr><tr><td align="left" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">ML techniques [<xref rid="B13-sensors-25-01200" ref-type="bibr">13</xref>,<xref rid="B32-sensors-25-01200" ref-type="bibr">32</xref>]</td><td align="left" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">SF, CR, BW</td><td align="left" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">Simulated</td><td align="left" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">The machine learning-based algorithms proposed by [<xref rid="B13-sensors-25-01200" ref-type="bibr">13</xref>,<xref rid="B32-sensors-25-01200" ref-type="bibr">32</xref>] lack a detailed specification of the path loss model used in their simulations. While these studies considered multi-device communication channel interference, they did not comprehensively evaluate environmental attenuation factors.</td></tr></tbody></table></table-wrap><table-wrap position="float" id="sensors-25-01200-t002"><object-id pub-id-type="pii">sensors-25-01200-t002_Table 2</object-id><label>Table 2</label><caption><p>Default parameters (DPs) used in LoRa transmission in first node&#x02013;gateway interaction.</p></caption><table frame="hsides" rules="groups"><thead><tr><th align="left" valign="middle" style="border-bottom:solid thin;border-top:solid thin" rowspan="1" colspan="1">Parameter</th><th align="left" valign="middle" style="border-bottom:solid thin;border-top:solid thin" rowspan="1" colspan="1">Value</th></tr></thead><tbody><tr><td align="left" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">Spreading Factor</td><td align="left" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">12</td></tr><tr><td align="left" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">Bandwidth</td><td align="left" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">125 kHz</td></tr><tr><td align="left" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">Transmission Power</td><td align="left" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">20 dBm</td></tr><tr><td align="left" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">Code Rate</td><td align="left" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">4/5</td></tr></tbody></table></table-wrap><table-wrap position="float" id="sensors-25-01200-t003"><object-id pub-id-type="pii">sensors-25-01200-t003_Table 3</object-id><label>Table 3</label><caption><p>Characterization experiment settings.</p></caption><table frame="hsides" rules="groups"><thead><tr><th align="left" valign="middle" style="border-bottom:solid thin;border-top:solid thin" rowspan="1" colspan="1">Parameter</th><th align="center" valign="middle" style="border-bottom:solid thin;border-top:solid thin" rowspan="1" colspan="1">Values</th></tr></thead><tbody><tr><td align="left" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">Spreading Factor</td><td align="center" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">
<inline-formula>
<mml:math id="mm117" overflow="scroll"><mml:mrow><mml:mfenced separators="" open="[" close="]"><mml:mn>7</mml:mn><mml:mo>,</mml:mo><mml:mn>8</mml:mn><mml:mo>,</mml:mo><mml:mn>9</mml:mn><mml:mo>,</mml:mo><mml:mn>10</mml:mn><mml:mo>,</mml:mo><mml:mn>11</mml:mn><mml:mo>,</mml:mo><mml:mn>12</mml:mn></mml:mfenced></mml:mrow></mml:math>
</inline-formula>
</td></tr><tr><td align="left" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">Bandwidth</td><td align="center" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1"><inline-formula><mml:math id="mm118" overflow="scroll"><mml:mrow><mml:mfenced separators="" open="[" close="]"><mml:mn>125.00</mml:mn><mml:mo>,</mml:mo><mml:mn>250.00</mml:mn><mml:mo>,</mml:mo><mml:mn>500.00</mml:mn></mml:mfenced></mml:mrow></mml:math></inline-formula> kHz</td></tr><tr><td align="left" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">Transmission Power</td><td align="center" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1"><inline-formula><mml:math id="mm119" overflow="scroll"><mml:mrow><mml:mfenced separators="" open="[" close="]"><mml:mn>10</mml:mn><mml:mo>,</mml:mo><mml:mn>12</mml:mn><mml:mo>,</mml:mo><mml:mn>14</mml:mn><mml:mo>,</mml:mo><mml:mn>16</mml:mn><mml:mo>,</mml:mo><mml:mn>18</mml:mn><mml:mo>,</mml:mo><mml:mn>20</mml:mn></mml:mfenced></mml:mrow></mml:math></inline-formula> dBm</td></tr><tr><td align="left" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">Coding Rate</td><td align="center" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">
<inline-formula>
<mml:math id="mm120" overflow="scroll"><mml:mrow><mml:mrow><mml:mn>4</mml:mn><mml:mo>/</mml:mo><mml:mn>5</mml:mn></mml:mrow></mml:mrow></mml:math>
</inline-formula>
</td></tr></tbody></table></table-wrap><table-wrap position="float" id="sensors-25-01200-t004"><object-id pub-id-type="pii">sensors-25-01200-t004_Table 4</object-id><label>Table 4</label><caption><p>Detailed example of LoRaBB binary search phase. Each step shows the parameter combination in each test with the calculated <italic toggle="yes">R</italic> value, the expected <italic toggle="yes">R</italic>-array value for the current parameter combination, and the binary search step.</p></caption><table frame="hsides" rules="groups"><thead><tr><th align="center" valign="middle" style="border-bottom:solid thin;border-top:solid thin" rowspan="1" colspan="1">Step</th><th align="center" valign="middle" style="border-bottom:solid thin;border-top:solid thin" rowspan="1" colspan="1">Combination</th><th align="center" valign="middle" style="border-bottom:solid thin;border-top:solid thin" rowspan="1" colspan="1">SF</th><th align="center" valign="middle" style="border-bottom:solid thin;border-top:solid thin" rowspan="1" colspan="1">BW</th><th align="center" valign="middle" style="border-bottom:solid thin;border-top:solid thin" rowspan="1" colspan="1">PT</th><th align="center" valign="middle" style="border-bottom:solid thin;border-top:solid thin" rowspan="1" colspan="1">Calculated <italic toggle="yes">R</italic></th><th align="center" valign="middle" style="border-bottom:solid thin;border-top:solid thin" rowspan="1" colspan="1">
<inline-formula>
<mml:math id="mm121" overflow="scroll"><mml:mrow><mml:mstyle mathvariant="bold"><mml:mrow><mml:mi mathvariant="bold-italic">R</mml:mi><mml:mo>[</mml:mo><mml:msub><mml:mi mathvariant="bold-italic">C</mml:mi><mml:mi mathvariant="bold-italic">k</mml:mi></mml:msub><mml:mo>]</mml:mo></mml:mrow></mml:mstyle></mml:mrow></mml:math>
</inline-formula>
</th><th align="center" valign="middle" style="border-bottom:solid thin;border-top:solid thin" rowspan="1" colspan="1">Move</th></tr></thead><tbody><tr><td align="center" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">1</td><td align="center" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">
<inline-formula>
<mml:math id="mm122" overflow="scroll"><mml:mrow><mml:msub><mml:mi>C</mml:mi><mml:mn>5</mml:mn></mml:msub></mml:mrow></mml:math>
</inline-formula>
</td><td align="center" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">8</td><td align="center" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">500</td><td align="center" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">20</td><td align="center" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">0.30</td><td align="center" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">0.50</td><td align="center" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">Move Right</td></tr><tr><td align="center" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">2</td><td align="center" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">
<inline-formula>
<mml:math id="mm123" overflow="scroll"><mml:mrow><mml:msub><mml:mi>C</mml:mi><mml:mn>8</mml:mn></mml:msub></mml:mrow></mml:math>
</inline-formula>
</td><td align="center" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">12</td><td align="center" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">125</td><td align="center" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">20</td><td align="center" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">0.95</td><td align="center" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">0.80</td><td align="center" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">Move Left</td></tr><tr><td align="center" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">3</td><td align="center" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">
<inline-formula>
<mml:math id="mm124" overflow="scroll"><mml:mrow><mml:msub><mml:mi>C</mml:mi><mml:mn>6</mml:mn></mml:msub></mml:mrow></mml:math>
</inline-formula>
</td><td align="center" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">10</td><td align="center" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">500</td><td align="center" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">20</td><td align="center" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">0.75</td><td align="center" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">0.70</td><td align="center" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">Accept</td></tr></tbody></table></table-wrap></floats-group></article>