<!DOCTYPE article
PUBLIC "-//NLM//DTD JATS (Z39.96) Journal Archiving and Interchange DTD with MathML3 v1.3 20210610//EN" "JATS-archivearticle1-3-mathml3.dtd">
<article xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink" dtd-version="1.3" xml:lang="en" article-type="research-article"><?properties open_access?><processing-meta base-tagset="archiving" mathml-version="3.0" table-model="xhtml" tagset-family="jats"><restricted-by>pmc</restricted-by></processing-meta><front><journal-meta><journal-id journal-id-type="nlm-ta">Sensors (Basel)</journal-id><journal-id journal-id-type="iso-abbrev">Sensors (Basel)</journal-id><journal-id journal-id-type="publisher-id">sensors</journal-id><journal-title-group><journal-title>Sensors (Basel, Switzerland)</journal-title></journal-title-group><issn pub-type="epub">1424-8220</issn><publisher><publisher-name>MDPI</publisher-name></publisher></journal-meta>
<article-meta><article-id pub-id-type="pmid">40006461</article-id><article-id pub-id-type="pmc">PMC11861639</article-id><article-id pub-id-type="doi">10.3390/s25041232</article-id><article-id pub-id-type="publisher-id">sensors-25-01232</article-id><article-categories><subj-group subj-group-type="heading"><subject>Article</subject></subj-group></article-categories><title-group><article-title>Deep Reinforcement Learning-Based Routing Method for Low Earth Orbit Mega-Constellation Satellite Networks with Service Function Constraints</article-title></title-group><contrib-group><contrib contrib-type="author"><contrib-id contrib-id-type="orcid" authenticated="true">https://orcid.org/0009-0006-1233-3357</contrib-id><name><surname>Chen</surname><given-names>Yan</given-names></name><role vocab="credit" vocab-identifier="https://credit.niso.org/" vocab-term="Methodology" vocab-term-identifier="https://credit.niso.org/contributor-roles/methodology/">Methodology</role><role vocab="credit" vocab-identifier="https://credit.niso.org/" vocab-term="Software" vocab-term-identifier="https://credit.niso.org/contributor-roles/software/">Software</role><role vocab="credit" vocab-identifier="https://credit.niso.org/" vocab-term="Validation" vocab-term-identifier="https://credit.niso.org/contributor-roles/validation/">Validation</role><role vocab="credit" vocab-identifier="https://credit.niso.org/" vocab-term="Writing &#x02013; original draft" vocab-term-identifier="https://credit.niso.org/contributor-roles/writing-original-draft/">Writing &#x02013; original draft</role><role vocab="credit" vocab-identifier="https://credit.niso.org/" vocab-term="Supervision" vocab-term-identifier="https://credit.niso.org/contributor-roles/supervision/">Supervision</role><xref rid="af1-sensors-25-01232" ref-type="aff">1</xref><xref rid="af2-sensors-25-01232" ref-type="aff">2</xref><xref rid="af3-sensors-25-01232" ref-type="aff">3</xref><xref rid="af4-sensors-25-01232" ref-type="aff">4</xref><xref rid="c1-sensors-25-01232" ref-type="corresp">*</xref></contrib><contrib contrib-type="author"><name><surname>Cao</surname><given-names>Huan</given-names></name><role vocab="credit" vocab-identifier="https://credit.niso.org/" vocab-term="Writing &#x02013; review &#x00026; editing" vocab-term-identifier="https://credit.niso.org/contributor-roles/writing-review-editing/">Writing &#x02013; review &#x00026; editing</role><role vocab="credit" vocab-identifier="https://credit.niso.org/" vocab-term="Supervision" vocab-term-identifier="https://credit.niso.org/contributor-roles/supervision/">Supervision</role><role vocab="credit" vocab-identifier="https://credit.niso.org/" vocab-term="Funding acquisition" vocab-term-identifier="https://credit.niso.org/contributor-roles/funding-acquisition/">Funding acquisition</role><xref rid="af2-sensors-25-01232" ref-type="aff">2</xref><xref rid="af3-sensors-25-01232" ref-type="aff">3</xref><xref rid="af4-sensors-25-01232" ref-type="aff">4</xref><xref rid="c1-sensors-25-01232" ref-type="corresp">*</xref></contrib><contrib contrib-type="author"><name><surname>Wang</surname><given-names>Longhe</given-names></name><role vocab="credit" vocab-identifier="https://credit.niso.org/" vocab-term="Methodology" vocab-term-identifier="https://credit.niso.org/contributor-roles/methodology/">Methodology</role><role vocab="credit" vocab-identifier="https://credit.niso.org/" vocab-term="Writing &#x02013; review &#x00026; editing" vocab-term-identifier="https://credit.niso.org/contributor-roles/writing-review-editing/">Writing &#x02013; review &#x00026; editing</role><role vocab="credit" vocab-identifier="https://credit.niso.org/" vocab-term="Supervision" vocab-term-identifier="https://credit.niso.org/contributor-roles/supervision/">Supervision</role><xref rid="af2-sensors-25-01232" ref-type="aff">2</xref><xref rid="af3-sensors-25-01232" ref-type="aff">3</xref><xref rid="af4-sensors-25-01232" ref-type="aff">4</xref></contrib><contrib contrib-type="author"><name><surname>Chen</surname><given-names>Daojin</given-names></name><role vocab="credit" vocab-identifier="https://credit.niso.org/" vocab-term="Software" vocab-term-identifier="https://credit.niso.org/contributor-roles/software/">Software</role><role vocab="credit" vocab-identifier="https://credit.niso.org/" vocab-term="Validation" vocab-term-identifier="https://credit.niso.org/contributor-roles/validation/">Validation</role><role vocab="credit" vocab-identifier="https://credit.niso.org/" vocab-term="Supervision" vocab-term-identifier="https://credit.niso.org/contributor-roles/supervision/">Supervision</role><xref rid="af2-sensors-25-01232" ref-type="aff">2</xref><xref rid="af3-sensors-25-01232" ref-type="aff">3</xref><xref rid="af4-sensors-25-01232" ref-type="aff">4</xref></contrib><contrib contrib-type="author"><contrib-id contrib-id-type="orcid" authenticated="true">https://orcid.org/0009-0009-9215-7956</contrib-id><name><surname>Liu</surname><given-names>Zifan</given-names></name><role vocab="credit" vocab-identifier="https://credit.niso.org/" vocab-term="Software" vocab-term-identifier="https://credit.niso.org/contributor-roles/software/">Software</role><role vocab="credit" vocab-identifier="https://credit.niso.org/" vocab-term="Validation" vocab-term-identifier="https://credit.niso.org/contributor-roles/validation/">Validation</role><xref rid="af2-sensors-25-01232" ref-type="aff">2</xref><xref rid="af3-sensors-25-01232" ref-type="aff">3</xref><xref rid="af4-sensors-25-01232" ref-type="aff">4</xref></contrib><contrib contrib-type="author"><name><surname>Zhou</surname><given-names>Yiqing</given-names></name><role vocab="credit" vocab-identifier="https://credit.niso.org/" vocab-term="Writing &#x02013; review &#x00026; editing" vocab-term-identifier="https://credit.niso.org/contributor-roles/writing-review-editing/">Writing &#x02013; review &#x00026; editing</role><role vocab="credit" vocab-identifier="https://credit.niso.org/" vocab-term="Supervision" vocab-term-identifier="https://credit.niso.org/contributor-roles/supervision/">Supervision</role><role vocab="credit" vocab-identifier="https://credit.niso.org/" vocab-term="Funding acquisition" vocab-term-identifier="https://credit.niso.org/contributor-roles/funding-acquisition/">Funding acquisition</role><xref rid="af1-sensors-25-01232" ref-type="aff">1</xref><xref rid="af2-sensors-25-01232" ref-type="aff">2</xref><xref rid="af3-sensors-25-01232" ref-type="aff">3</xref><xref rid="af4-sensors-25-01232" ref-type="aff">4</xref><xref rid="af5-sensors-25-01232" ref-type="aff">5</xref></contrib><contrib contrib-type="author"><name><surname>Shi</surname><given-names>Jinglin</given-names></name><role vocab="credit" vocab-identifier="https://credit.niso.org/" vocab-term="Supervision" vocab-term-identifier="https://credit.niso.org/contributor-roles/supervision/">Supervision</role><xref rid="af1-sensors-25-01232" ref-type="aff">1</xref><xref rid="af2-sensors-25-01232" ref-type="aff">2</xref><xref rid="af3-sensors-25-01232" ref-type="aff">3</xref><xref rid="af4-sensors-25-01232" ref-type="aff">4</xref><xref rid="af5-sensors-25-01232" ref-type="aff">5</xref></contrib></contrib-group><contrib-group><contrib contrib-type="editor"><name><surname>Araniti</surname><given-names>Giuseppe</given-names></name><role>Academic Editor</role></contrib><contrib contrib-type="editor"><name><surname>Suraci</surname><given-names>Chiara</given-names></name><role>Academic Editor</role></contrib><contrib contrib-type="editor"><name><surname>Mandalari</surname><given-names>Anna Maria</given-names></name><role>Academic Editor</role></contrib><contrib contrib-type="editor"><name><surname>Morabito</surname><given-names>Roberto</given-names></name><role>Academic Editor</role></contrib><contrib contrib-type="editor"><name><surname>Orsino</surname><given-names>Antonino</given-names></name><role>Academic Editor</role></contrib></contrib-group><aff id="af1-sensors-25-01232"><label>1</label>University of Chinese Academy of Sciences, Beijing 100049, China; <email>zhouyiqing@ict.ac.cn</email> (Y.Z.); <email>sjl@ict.ac.cn</email> (J.S.)</aff><aff id="af2-sensors-25-01232"><label>2</label>State Key Laboratory of Processors, Institute of Computing Technology, Chinese Academy of Sciences, Beijing 100190, China; <email>wanglonghe@ict.ac.cn</email> (L.W.); <email>chendaojin@ict.ac.cn</email> (D.C.); <email>liuzifan@ict.ac.cn</email> (Z.L.)</aff><aff id="af3-sensors-25-01232"><label>3</label>Institute of Computing Technology, Chinese Academy of Sciences, Beijing 100190, China</aff><aff id="af4-sensors-25-01232"><label>4</label>Beijing Key Laboratory of Mobile Computing and Pervasive Device, Beijing 100190, China</aff><aff id="af5-sensors-25-01232"><label>5</label>Nanjing Mobile Communication and Computing Innovation Institute, Chinese Academy of Sciences, Nanjing 211135, China</aff><author-notes><corresp id="c1-sensors-25-01232"><label>*</label>Correspondence: <email>chenyan19s@ict.ac.cn</email> (Y.C.); <email>caohuan@ict.ac.cn</email> (H.C.); Tel.:+86-186-3719-7162 (Y.C.)</corresp></author-notes><pub-date pub-type="epub"><day>18</day><month>2</month><year>2025</year></pub-date><pub-date pub-type="collection"><month>2</month><year>2025</year></pub-date><volume>25</volume><issue>4</issue><elocation-id>1232</elocation-id><history><date date-type="received"><day>03</day><month>12</month><year>2024</year></date><date date-type="rev-recd"><day>11</day><month>2</month><year>2025</year></date><date date-type="accepted"><day>11</day><month>2</month><year>2025</year></date></history><permissions><copyright-statement>&#x000a9; 2025 by the authors.</copyright-statement><copyright-year>2025</copyright-year><license><ali:license_ref xmlns:ali="http://www.niso.org/schemas/ali/1.0/" specific-use="textmining" content-type="ccbylicense">https://creativecommons.org/licenses/by/4.0/</ali:license_ref><license-p>Licensee MDPI, Basel, Switzerland. This article is an open access article distributed under the terms and conditions of the Creative Commons Attribution (CC BY) license (<ext-link ext-link-type="uri" xlink:href="https://creativecommons.org/licenses/by/4.0/">https://creativecommons.org/licenses/by/4.0/</ext-link>).</license-p></license></permissions><abstract><p>Low-orbit satellite communication networks have gradually become the research focus of fifth-generation (5G) beyond and sixth generation (6G) networks due to their advantages of wide coverage, large communication capacity, and low terrain influence. However, the low earth orbit mega satellite network (LEO-MSN) also has difficulty in constructing stable traffic transmission paths, network load imbalance and congestion due to the large scale of network nodes, a highly complex topology, and uneven distribution of traffic flow in time and space. In the service-based architecture proposed by 3GPP, the introduction of service function chain (SFC) constraints exacerbates these challenges. Therefore, in this paper, we propose GDRL-SFCR, an end-to-end routing decision method based on graph neural network (GNN) and deep reinforcement learning (DRL) which jointly optimize the end-to-end transmission delay and network load balancing under SFC constraints. Specifically, this method constructs the system model based on the latest NTN low-orbit satellite network end-to-end transmission architecture, taking into account the SFC constraints, transmission delays, and network node loads in the end-to-end traffic transmission, uses a GNN to extract node attributes and dynamic topology features, and uses the DRL method to design specific reward functions to train the model to learn routing policies that satisfy the SFC constraints. The simulation results demonstrate that, compared with graph theory-based methods and reinforcement learning-based methods, GDRL-SFCR can reduce the end-to-end traffic transmission delay by more than 11.3%, reduce the average network load by more than 14.1%, and increase the traffic access success rate and network capacity by more than 19.1% and two times, respectively.</p></abstract><kwd-group><kwd>LEO satellite network</kwd><kwd>routing</kwd><kwd>service function constraints</kwd><kwd>graph convolution network</kwd><kwd>deep reinforcement learning</kwd></kwd-group><funding-group><award-group><funding-source>National Key Research and Development Program of China</funding-source><award-id>2020YFB1808004</award-id></award-group><award-group><funding-source>Jiangsu Key Research and Development Program</funding-source><award-id>BE2021013-2</award-id></award-group><funding-statement>This work was supported by the National Key Research and Development Program of China (no. 2020YFB1808004), in part by the Jiangsu Key Research and Development Program (no. BE2021013-2).</funding-statement></funding-group></article-meta></front><body><sec sec-type="intro" id="sec1-sensors-25-01232"><title>1. Introduction</title><p>At present, the global commercialization of 5G mobile communication networks is advancing [<xref rid="B1-sensors-25-01232" ref-type="bibr">1</xref>,<xref rid="B2-sensors-25-01232" ref-type="bibr">2</xref>,<xref rid="B3-sensors-25-01232" ref-type="bibr">3</xref>,<xref rid="B4-sensors-25-01232" ref-type="bibr">4</xref>,<xref rid="B5-sensors-25-01232" ref-type="bibr">5</xref>]; however, due to the constraints of geographic conditions and construction costs, it is impossible to achieve seamless global coverage [<xref rid="B6-sensors-25-01232" ref-type="bibr">6</xref>]. 6G non-terrestrial network (NTN) technology [<xref rid="B7-sensors-25-01232" ref-type="bibr">7</xref>], which is the convergence of satellite communication networks and 5G, has gradually become the focus of attention in academia and industry [<xref rid="B8-sensors-25-01232" ref-type="bibr">8</xref>,<xref rid="B9-sensors-25-01232" ref-type="bibr">9</xref>,<xref rid="B10-sensors-25-01232" ref-type="bibr">10</xref>,<xref rid="B11-sensors-25-01232" ref-type="bibr">11</xref>]. For example, the 3rd Generation Partnership Project (3GPP) proposed four star-earth converged network architecture schemes based on on-planet processing/transparent forwarding with/without relaying [<xref rid="B12-sensors-25-01232" ref-type="bibr">12</xref>], and ITU proposed four application scenarios for the convergence of 5G and satellite communications [<xref rid="B13-sensors-25-01232" ref-type="bibr">13</xref>]. Compared to medium earth orbit (MEO) and geostationary earth orbit (GEO) satellite networks, LEO-MSN has the advantages of low transmission delay, low propagation loss, high regional capacity, and low manufacturing and launching costs, and it has been considered to be an essential part of next-generation communication networks [<xref rid="B14-sensors-25-01232" ref-type="bibr">14</xref>,<xref rid="B15-sensors-25-01232" ref-type="bibr">15</xref>,<xref rid="B16-sensors-25-01232" ref-type="bibr">16</xref>,<xref rid="B17-sensors-25-01232" ref-type="bibr">17</xref>,<xref rid="B18-sensors-25-01232" ref-type="bibr">18</xref>].</p><p>In recent years, a large number of low-orbit mega-constellation programs, represented by StarLink, OneWeb, and Kuiper, have been proposed. These constellations usually consist of hundreds or thousands of satellites and operate in 200&#x02013;2000 km near-Earth orbits at speed of 7.2 km/s [<xref rid="B19-sensors-25-01232" ref-type="bibr">19</xref>]. Among them, SpaceX&#x02019;s StarLink constellation has grown the most rapidly, with more than 6300 satellites deployed as of June 2024 [<xref rid="B20-sensors-25-01232" ref-type="bibr">20</xref>], providing satellite-accessed internet communication services to more than 2.5 million subscribers in more than 70 countries and territories, with up to 500 Mbps downlink speed, 40 Mbps uplink speed, and 20 ms latency internet access services [<xref rid="B21-sensors-25-01232" ref-type="bibr">21</xref>].</p><p>As one of the key technologies for LEO-MSN communication, routing significantly impacts traffic transmission delay and quality of service [<xref rid="B22-sensors-25-01232" ref-type="bibr">22</xref>]. However, in LEO-MSN, the routing technology still faces the following challenges. Firstly, the massive scale of mega constellations and the nodes with high dynamics make the network topology highly complex, and it is difficult to construct stable traffic transmission paths. In addition, the uneven distribution of the traffic in time and space makes the LEO-MSN face problems such as load imbalance and congestion [<xref rid="B23-sensors-25-01232" ref-type="bibr">23</xref>]. With the increasing capacity of on-board load processing, the LEO-MSN network architecture has evolved from transparent payload (TP) mode to regenerative payload (RP) [<xref rid="B24-sensors-25-01232" ref-type="bibr">24</xref>] mode. According to the Service-Based Architecture (SBA) proposed by 3 GPP [<xref rid="B25-sensors-25-01232" ref-type="bibr">25</xref>], the functions of the access network, transmission network, and core network can be segmented on demand and deployed flexibly on the satellite or the ground, which brings new constraints to routing and transmission strategies. Under the new service architecture, the routing policy must satisfy the Service Function Chain (SFC) constraints [<xref rid="B26-sensors-25-01232" ref-type="bibr">26</xref>], i.e., the traffic transmission path from the source node to the target node must pass through the nodes of relevant service functions in order.</p><p>In the dynamic topology and resource-constrained environment of LEO-MSN, the introduction of SFC constraints will make satellite routing face more challenges. First, the functional nodes need to centrally process multi-path traffic, resulting in drastic fluctuations in network load, which becomes a key bottleneck for network congestion. In addition, the high-speed movement of satellites causes frequent reconstruction of SFC paths. Traditional routing methods lack global perception of the functional chain status and are difficult to maintain service continuity during link switching, further exacerbating the risk of transmission interruption.</p><p>Facing the new large-scale satellite network scenarios and the introduction of SFC constraints, existing satellite routing methods are no longer applicable, which is mainly due to the fact that some of the methods only optimize from a single metric. For example, refs. [<xref rid="B27-sensors-25-01232" ref-type="bibr">27</xref>,<xref rid="B28-sensors-25-01232" ref-type="bibr">28</xref>,<xref rid="B29-sensors-25-01232" ref-type="bibr">29</xref>,<xref rid="B30-sensors-25-01232" ref-type="bibr">30</xref>,<xref rid="B31-sensors-25-01232" ref-type="bibr">31</xref>] only considers the optimization of path delay, refs. [<xref rid="B32-sensors-25-01232" ref-type="bibr">32</xref>,<xref rid="B33-sensors-25-01232" ref-type="bibr">33</xref>] only considers the optimization of network load without considering the SFC constraints in the service transmission process, and some of the methods [<xref rid="B26-sensors-25-01232" ref-type="bibr">26</xref>,<xref rid="B34-sensors-25-01232" ref-type="bibr">34</xref>] consider that the SFC constraints only optimize the path delay, neglecting the load optimization of the whole network.</p><p>Inspired by AI-based communication algorithms [<xref rid="B35-sensors-25-01232" ref-type="bibr">35</xref>,<xref rid="B36-sensors-25-01232" ref-type="bibr">36</xref>], this paper proposes a GDRL-SFCR routing decision method that integrates a GNN and DRL to systematically solve the core challenges caused by SFC constraints in LEO-MSN. For the problem of frequent path throughput due to satellite dynamic topology, a GNN is used to extract the link state and functional attributes of multi-hop neighbors, and dynamic graph embedding is used to achieve adaptive sensing of topology changes. For the multi-objective optimization with SFC constraints, low latency, and load balancing, DRL agents are used to dynamically adjust the weights of the composite reward function, and the competitiveness metrics are automatically balanced in the policy optimization. The main contributions of this paper are summarized as follows.
<list list-type="bullet"><list-item><p>A more realistic LEO-MSN model: Compared to [<xref rid="B26-sensors-25-01232" ref-type="bibr">26</xref>], we consider more constrained models. Specifically, channel model, network functions such as access network, core network, and end-to-end bidirectional traffics in satellite communication networks as specified in the latest 3GPP NTN protocol are considered.</p></list-item><list-item><p>A novel routing method: We propose a method, GDRL-SFCR to solve the end-to-end routing problem under SFC constraints. This method uses a GNN to learn the dynamically changing topological features of the LEO-MSN network and trains using DRL to learn routing strategies to make appropriate routing decisions, which can rationally utilize network resources and improve network performance. Specifically, making routing decisions with network load balancing minimizes the end-to-end traffic transmission delay while guaranteeing the SFC constraints are met.</p></list-item><list-item><p>Performance evaluation: We constructed mega-satellite networks to validate the performance of the proposed algorithms, and to the best of our knowledge, the size of the simulation network we used is the largest among the papers available so far. The simulation results show that the proposed method outperforms other routing methods in terms of network metrics such as average end-to-end path delay, average network load, traffic access success rate, and network capacity.</p></list-item></list></p><p>The remainder of this paper is organized as follows. <xref rid="sec2-sensors-25-01232" ref-type="sec">Section 2</xref> summarizes the relevant literature. <xref rid="sec3-sensors-25-01232" ref-type="sec">Section 3</xref> describes the system model and the routing decision problem under SFC constraints. Next, <xref rid="sec4-sensors-25-01232" ref-type="sec">Section 4</xref> describes the proposed GDRL-SFCR method in detail. Then, <xref rid="sec5-sensors-25-01232" ref-type="sec">Section 5</xref> presents and analyzes the simulation results. Finally, <xref rid="sec6-sensors-25-01232" ref-type="sec">Section 6</xref> summarizes this paper.</p></sec><sec id="sec2-sensors-25-01232"><title>2. Literature Review</title><p>Due to the dynamic topology of networks, the limited resources of satellites, and the imbalanced demands of users, ground routing strategies are deemed unsuitable for satellite networks. Consequently, extensive studies had been conducted in the routing of LEO satellite constellations. In this section, we review the recent works in LEO satellite routing. Existing studies have extensively researched routing in satellite networks, and the mainstream routing algorithms can be divided into two types: static routing and dynamic routing. The static routing algorithm discretizes the network topology in time and space and then makes routing decisions, e.g., the &#x0201c;snapshot&#x0201d;-based routing algorithm [<xref rid="B27-sensors-25-01232" ref-type="bibr">27</xref>] and the Contact Graph Routing (CGR) algorithm [<xref rid="B28-sensors-25-01232" ref-type="bibr">28</xref>]. However, the static routing algorithm cannot be changed in real time according to network status, resulting in a lack of flexibility and fault tolerance [<xref rid="B37-sensors-25-01232" ref-type="bibr">37</xref>]. Dynamic routing algorithms make routing decisions by obtaining real-time state information about the satellite network [<xref rid="B29-sensors-25-01232" ref-type="bibr">29</xref>,<xref rid="B30-sensors-25-01232" ref-type="bibr">30</xref>,<xref rid="B31-sensors-25-01232" ref-type="bibr">31</xref>,<xref rid="B32-sensors-25-01232" ref-type="bibr">32</xref>,<xref rid="B33-sensors-25-01232" ref-type="bibr">33</xref>,<xref rid="B38-sensors-25-01232" ref-type="bibr">38</xref>,<xref rid="B39-sensors-25-01232" ref-type="bibr">39</xref>]. For example, time-varying graph-based routing algorithms [<xref rid="B29-sensors-25-01232" ref-type="bibr">29</xref>,<xref rid="B30-sensors-25-01232" ref-type="bibr">30</xref>] construct a time-varying graph model by jointly considering the transmission volume and the start moment of the traffic, the connectivity opportunities of the links, and the storage resources of the nodes, and based on this, they decide on the paths with the minimum latency. In [<xref rid="B38-sensors-25-01232" ref-type="bibr">38</xref>], Zhang et al. proposed a routing algorithm based on the global routing table generated on the ground and supplemented by the local routing table generated by satellite nodes. It updates the local and global routing tables based on network information, reducing the routing calculation overhead. In [<xref rid="B31-sensors-25-01232" ref-type="bibr">31</xref>], Wu et al. proposed a status and reputation-adaptive-based dynamic routing (SRADR) algorithm that introduces security attributes expressed in terms of node reputation, which guarantees the security of the path while deciding the path with the shortest delay.</p><p>The above algorithms are mainly based on the shortest path, which selects a path with the least forwarding nodes during traffic transmission. However, as the amount of traffic in the network increases, the satellite nodes on the shortest path will carry a large amount of traffic flow, which results in an unbalanced network load. Because of this, a series of load balancing routing algorithms have been proposed. The segmentation routing-based load balancing algorithm [<xref rid="B32-sensors-25-01232" ref-type="bibr">32</xref>] dynamically divides the light- and heavy-traffic-load areas, adopting the snapshot routing algorithm in the light-traffic-load areas and adopting the minimum weight path defined by the congestion index as the routing rule in the heavy-traffic-load areas. The QoS routing algorithm considers energy consumption (QER) [<xref rid="B33-sensors-25-01232" ref-type="bibr">33</xref>] and adjusts the next-hop forwarding node according to the node cache queue size and remaining energy to control the link traffic. Distributed routing algorithms based on neighbor satellite load status [<xref rid="B39-sensors-25-01232" ref-type="bibr">39</xref>] alleviate the network condition of satellite congestion by introducing mechanisms such as adjacent satellite load state updating, load balancing, and route adjudication, obtaining low-latency and low-packet-drop rate paths.</p><p>However, the above algorithms do not take into account the SFC constraints for traffic transmission and are not suitable under the new network architecture. There have been few efforts to investigate the routing strategy satisfying SFC constraints in the LEO-MSN. In [<xref rid="B33-sensors-25-01232" ref-type="bibr">33</xref>], the joint optimization of NFV deployment and routing strategy in the space&#x02013;air&#x02013;ground integrated network was studied without considering the time-varying characteristics of this network. In [<xref rid="B26-sensors-25-01232" ref-type="bibr">26</xref>], the routing problem in LEO-MSN was studied by considering the SFC constraints; however, there is a lack of consideration of factors such as end-to-end link, channel modeling, and network node load. In [<xref rid="B34-sensors-25-01232" ref-type="bibr">34</xref>], Xu et al. introduce an effective Deep Reinforcement Learning (DRL) approach to effectively tackle the SFC routing problem in LEO-MSN.</p><p>Previous studies have explored the routing problem in LEO-MSN from several angles, which has laid a good foundation for the study of routing strategies. However, considering the new network architecture, there is still room for improvement in the current study. It mainly includes the following aspects:<list list-type="bullet"><list-item><p>When designing the algorithms, most of the work focuses on the theoretical models and algorithms proposed, and it lacks the consideration of the evolution of network architectures and protocols, as well as the functional constraints of transmission paths;</p></list-item><list-item><p>This study only considered inter-satellite links, feeder links, and unidirectional traffic, lacking consideration of user links and end-to-end bidirectional traffic flows. <xref rid="sensors-25-01232-t001" ref-type="table">Table 1</xref> shows some existing methods for satellite routing.</p></list-item></list></p></sec><sec id="sec3-sensors-25-01232"><title>3. System Model and Problem Formulation</title><sec id="sec3dot1-sensors-25-01232"><title>3.1. LEO-MSN Model</title><p>The LEO-MSN communication network, including satellites, ground stations, user terminals, and remote servers, is considered in this paper. The communication starts with a user terminal and ends with a remote server, and the data packets can be forwarded through ISLs of LEO satellite in space. The LEO-MSN at each moment can be defined as an undirected graph <inline-formula><mml:math id="mm1" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>G</mml:mi><mml:mo stretchy="false">(</mml:mo><mml:mi>t</mml:mi><mml:mo stretchy="false">)</mml:mo><mml:mo>=</mml:mo><mml:mo stretchy="false">(</mml:mo><mml:mi>V</mml:mi><mml:mo>,</mml:mo><mml:mi>E</mml:mi><mml:mo stretchy="false">(</mml:mo><mml:mi>t</mml:mi><mml:mo stretchy="false">)</mml:mo><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:mrow></mml:math></inline-formula>, where <italic toggle="yes">V</italic> and <italic toggle="yes">E</italic> represent the set of vertices and edges in the graph, respectively. Node <inline-formula><mml:math id="mm2" overflow="scroll"><mml:mrow><mml:mrow><mml:msub><mml:mi>v</mml:mi><mml:mi>i</mml:mi></mml:msub><mml:mo>&#x02208;</mml:mo><mml:mi>V</mml:mi></mml:mrow></mml:mrow></mml:math></inline-formula> represents a satellite, ground station, user terminal, or remote server. Edge <inline-formula><mml:math id="mm3" overflow="scroll"><mml:mrow><mml:mrow><mml:msub><mml:mi>e</mml:mi><mml:mrow><mml:mi>i</mml:mi><mml:mo>,</mml:mo><mml:mi>j</mml:mi></mml:mrow></mml:msub><mml:mo>&#x02208;</mml:mo><mml:mi>E</mml:mi></mml:mrow></mml:mrow></mml:math></inline-formula> represents a link between two network nodes <italic toggle="yes">i</italic> and <italic toggle="yes">j</italic> in the network. The position of each satellite is calculated based on the simplified general perturbations 4 (<italic toggle="yes">SGP</italic>4) [<xref rid="B40-sensors-25-01232" ref-type="bibr">40</xref>] orbital propagation model with the input parameter TLE (Two-Line Element set). The satellite coordinates are updated with the following&#x000a0;formula:<disp-formula id="FD1-sensors-25-01232"><label>(1)</label><mml:math id="mm4" display="block" overflow="scroll"><mml:mrow><mml:mrow><mml:msub><mml:mi>r</mml:mi><mml:mi>i</mml:mi></mml:msub><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:mi>t</mml:mi><mml:mo stretchy="false">)</mml:mo></mml:mrow><mml:mo>=</mml:mo><mml:mi>S</mml:mi><mml:mi>G</mml:mi><mml:mi>P</mml:mi><mml:mn>4</mml:mn><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:mi>T</mml:mi><mml:mi>L</mml:mi><mml:msub><mml:mi>E</mml:mi><mml:mi>i</mml:mi></mml:msub><mml:mo>,</mml:mo><mml:mi>t</mml:mi><mml:mo stretchy="false">)</mml:mo></mml:mrow><mml:mo>,</mml:mo><mml:mo>&#x00394;</mml:mo><mml:mi>t</mml:mi><mml:mo>=</mml:mo><mml:mn>60</mml:mn><mml:mo>&#x000a0;</mml:mo><mml:mi mathvariant="normal">s</mml:mi></mml:mrow></mml:mrow></mml:math></disp-formula>
where <inline-formula><mml:math id="mm5" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>T</mml:mi><mml:mi>L</mml:mi><mml:msub><mml:mi>E</mml:mi><mml:mi>i</mml:mi></mml:msub></mml:mrow></mml:mrow></mml:math></inline-formula> contains the parameters of the orbital half-length axis, the eccentricity, the orbital inclination, and the ascending node declination.</p><p>Each LEO satellite can establish an Inter-Satellite Link (ISL) with two satellites in the same orbital plane and two satellites in adjacent orbital planes. Since the spatial distance between the front and rear satellites in the same orbital plane is fixed, the ISL within the orbit is assumed to be stable over the system period. For satellites that are uniformly distributed in the same orbital plane, the distance between two neighboring satellites can be calculated using the following equation:<disp-formula id="FD2-sensors-25-01232"><label>(2)</label><mml:math id="mm6" display="block" overflow="scroll"><mml:mrow><mml:mrow><mml:msub><mml:mi>L</mml:mi><mml:mrow><mml:mi>i</mml:mi><mml:mi>n</mml:mi><mml:mi>t</mml:mi><mml:mi>e</mml:mi><mml:mi>r</mml:mi></mml:mrow></mml:msub><mml:mo>=</mml:mo><mml:mn>2</mml:mn><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:msub><mml:mi>R</mml:mi><mml:mrow><mml:mi>e</mml:mi><mml:mi>a</mml:mi><mml:mi>r</mml:mi><mml:mi>t</mml:mi><mml:mi>h</mml:mi></mml:mrow></mml:msub><mml:mo>+</mml:mo><mml:mi>h</mml:mi><mml:mo stretchy="false">)</mml:mo></mml:mrow><mml:mo>&#x000b7;</mml:mo><mml:mi>s</mml:mi><mml:mi>i</mml:mi><mml:mi>n</mml:mi><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:mstyle scriptlevel="0" displaystyle="true"><mml:mfrac><mml:mi>&#x003c0;</mml:mi><mml:mrow><mml:mn>2</mml:mn><mml:msub><mml:mi>N</mml:mi><mml:mi>L</mml:mi></mml:msub></mml:mrow></mml:mfrac></mml:mstyle><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:mrow></mml:mrow></mml:math></disp-formula>
Satellites in adjacent orbital planes can be calculated using the following formula:<disp-formula id="FD3-sensors-25-01232"><label>(3)</label><mml:math id="mm7" display="block" overflow="scroll"><mml:mrow><mml:mrow><mml:msub><mml:mi>L</mml:mi><mml:mrow><mml:mi>a</mml:mi><mml:mi>d</mml:mi><mml:mi>j</mml:mi></mml:mrow></mml:msub><mml:mo>=</mml:mo><mml:mn>2</mml:mn><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:msub><mml:mi>R</mml:mi><mml:mrow><mml:mi>e</mml:mi><mml:mi>a</mml:mi><mml:mi>r</mml:mi><mml:mi>t</mml:mi><mml:mi>h</mml:mi></mml:mrow></mml:msub><mml:mo>+</mml:mo><mml:mi>h</mml:mi><mml:mo stretchy="false">)</mml:mo></mml:mrow><mml:mo>&#x000b7;</mml:mo><mml:mi>s</mml:mi><mml:mi>i</mml:mi><mml:mi>n</mml:mi><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:mstyle scriptlevel="0" displaystyle="true"><mml:mfrac><mml:mrow><mml:mo>&#x00394;</mml:mo><mml:mo>&#x003a9;</mml:mo><mml:mo>&#x000b7;</mml:mo><mml:mo form="prefix">sin</mml:mo><mml:mi>&#x003b8;</mml:mi></mml:mrow><mml:mn>2</mml:mn></mml:mfrac></mml:mstyle><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:mrow></mml:mrow></mml:math></disp-formula>
where <inline-formula><mml:math id="mm8" overflow="scroll"><mml:mrow><mml:msub><mml:mi>R</mml:mi><mml:mrow><mml:mi>e</mml:mi><mml:mi>a</mml:mi><mml:mi>r</mml:mi><mml:mi>t</mml:mi><mml:mi>h</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:math></inline-formula> is the radius of the Earth (in km), and <italic toggle="yes">h</italic> is the height of the satellite orbit. <inline-formula><mml:math id="mm9" overflow="scroll"><mml:mrow><mml:msub><mml:mi>N</mml:mi><mml:mi>L</mml:mi></mml:msub></mml:mrow></mml:math></inline-formula> is the number of satellites in the same orbital plane, <inline-formula><mml:math id="mm10" overflow="scroll"><mml:mrow><mml:mi>&#x003b8;</mml:mi></mml:mrow></mml:math></inline-formula> is the orbital inclination, and <inline-formula><mml:math id="mm11" overflow="scroll"><mml:mrow><mml:mrow><mml:mo>&#x00394;</mml:mo><mml:mo>&#x003a9;</mml:mo></mml:mrow></mml:mrow></mml:math></inline-formula> is the difference in longitude of the orbital plane. The relevant terms introduced in this section are listed in <xref rid="sensors-25-01232-t002" ref-type="table">Table 2</xref>.</p><p>According to the NTN networking architecture proposed by 3GPP [<xref rid="B25-sensors-25-01232" ref-type="bibr">25</xref>], user terminals need to pass through nodes with different functional protocols when accessing the network for service transmission, specifically including the service functions of the access network, transmission network, and core network. In this paper, we assume that the satellites and ground stations in LEO-SN can deploy different network functions, and each satellite or ground station can provide at most one function. Based on this, the network nodes in LEO-SN can be classified into nodes with processing functions and nodes with transparent forwarding functions [<xref rid="B41-sensors-25-01232" ref-type="bibr">41</xref>,<xref rid="B42-sensors-25-01232" ref-type="bibr">42</xref>], where the processing function nodes can provide certain functions during service transmission, including two kinds of functions, gNB and NGC (core network functions, including AMF, UPF, etc.), which can provide on-board access and on-board data processing functions, while the satellite with transparent forwarding function nodes only provides transparent forwarding service (TM). We can denote the set of nodes with the processing function and the set of nodes with the transparent forwarding function as <inline-formula><mml:math id="mm12" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>V</mml:mi><mml:mi>F</mml:mi><mml:mo>=</mml:mo><mml:mo>{</mml:mo><mml:msub><mml:mi>v</mml:mi><mml:mi>i</mml:mi></mml:msub><mml:mo>&#x02223;</mml:mo><mml:msub><mml:mi>v</mml:mi><mml:mi>i</mml:mi></mml:msub><mml:mo>&#x02208;</mml:mo><mml:mrow><mml:mo>{</mml:mo><mml:mi>g</mml:mi><mml:mi>N</mml:mi><mml:mi>B</mml:mi><mml:mo>,</mml:mo><mml:mi>N</mml:mi><mml:mi>G</mml:mi><mml:mi>C</mml:mi><mml:mo>}</mml:mo></mml:mrow><mml:mo>}</mml:mo></mml:mrow></mml:mrow></mml:math></inline-formula>, <inline-formula><mml:math id="mm13" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>V</mml:mi><mml:mi>N</mml:mi><mml:mi>F</mml:mi><mml:mo>=</mml:mo><mml:mo>{</mml:mo><mml:msub><mml:mi>v</mml:mi><mml:mi>i</mml:mi></mml:msub><mml:mo>&#x02223;</mml:mo><mml:msub><mml:mi>v</mml:mi><mml:mi>i</mml:mi></mml:msub><mml:mo>&#x02208;</mml:mo><mml:mrow><mml:mo>{</mml:mo><mml:mi>T</mml:mi><mml:mi>M</mml:mi><mml:mo>}</mml:mo></mml:mrow><mml:mo>}</mml:mo></mml:mrow></mml:mrow></mml:math></inline-formula>, respectively, so the set of nodes in LEO-SN can also be denoted as <inline-formula><mml:math id="mm14" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>V</mml:mi><mml:mo>=</mml:mo><mml:mi>V</mml:mi><mml:mi>F</mml:mi><mml:mo>&#x0222a;</mml:mo><mml:mi>V</mml:mi><mml:mi>N</mml:mi><mml:mi>F</mml:mi><mml:mo>&#x0222a;</mml:mo><mml:msub><mml:mi>V</mml:mi><mml:mrow><mml:mi>S</mml:mi><mml:mi>r</mml:mi><mml:mi>c</mml:mi></mml:mrow></mml:msub><mml:mo>,</mml:mo><mml:msub><mml:mi>V</mml:mi><mml:mrow><mml:mi>D</mml:mi><mml:mi>s</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mrow></mml:math></inline-formula>.</p></sec><sec id="sec3dot2-sensors-25-01232"><title>3.2. Channel Model</title><p>In LEO mega-satellite communication networks, transmission channels can be divided into two main categories:<list list-type="bullet"><list-item><p>Inter-satellite link channel model: In this paper, the inter-satellite link channel model we used is the free-space path loss model. The path loss can be expressed as follows:<disp-formula id="FD4-sensors-25-01232"><label>(4)</label><mml:math id="mm15" display="block" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>F</mml:mi><mml:mi>S</mml:mi><mml:mi>P</mml:mi><mml:mi>L</mml:mi><mml:mo>=</mml:mo><mml:msup><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:mstyle scriptlevel="0" displaystyle="true"><mml:mfrac><mml:mrow><mml:mn>4</mml:mn><mml:mi>&#x003c0;</mml:mi><mml:mi>R</mml:mi><mml:mi>f</mml:mi></mml:mrow><mml:mi>c</mml:mi></mml:mfrac></mml:mstyle><mml:mo stretchy="false">)</mml:mo></mml:mrow><mml:mn>2</mml:mn></mml:msup></mml:mrow></mml:mrow></mml:math></disp-formula>
where <italic toggle="yes">R</italic> is the communication distance, <italic toggle="yes">c</italic> is the speed of light (in m/s), and <italic toggle="yes">f</italic> is the communications center frequency (in Hz) of inter-satellite links. The received power <inline-formula><mml:math id="mm16" overflow="scroll"><mml:mrow><mml:msub><mml:mi>P</mml:mi><mml:mi>R</mml:mi></mml:msub></mml:mrow></mml:math></inline-formula> can be calculated using the following equation:<disp-formula id="FD5-sensors-25-01232"><label>(5)</label><mml:math id="mm17" display="block" overflow="scroll"><mml:mrow><mml:mrow><mml:msub><mml:mi>P</mml:mi><mml:mi>R</mml:mi></mml:msub><mml:mo>=</mml:mo><mml:msub><mml:mi>P</mml:mi><mml:mrow><mml:mi>T</mml:mi><mml:mi>x</mml:mi></mml:mrow></mml:msub><mml:mo>&#x000b7;</mml:mo><mml:msub><mml:mi>G</mml:mi><mml:mi>T</mml:mi></mml:msub><mml:mo>&#x000b7;</mml:mo><mml:msub><mml:mi>G</mml:mi><mml:mi>R</mml:mi></mml:msub><mml:mo>&#x000b7;</mml:mo><mml:mstyle scriptlevel="0" displaystyle="true"><mml:mfrac><mml:msup><mml:mi>c</mml:mi><mml:mn>2</mml:mn></mml:msup><mml:mrow><mml:msup><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:mn>4</mml:mn><mml:mi>&#x003c0;</mml:mi><mml:mi>R</mml:mi><mml:mi>f</mml:mi><mml:mo stretchy="false">)</mml:mo></mml:mrow><mml:mn>2</mml:mn></mml:msup><mml:mi>L</mml:mi></mml:mrow></mml:mfrac></mml:mstyle></mml:mrow></mml:mrow></mml:math></disp-formula>
where <inline-formula><mml:math id="mm18" overflow="scroll"><mml:mrow><mml:msub><mml:mi>P</mml:mi><mml:mrow><mml:mi>T</mml:mi><mml:mi>x</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:math></inline-formula> is the transmit power, and <inline-formula><mml:math id="mm19" overflow="scroll"><mml:mrow><mml:msub><mml:mi>G</mml:mi><mml:mi>T</mml:mi></mml:msub></mml:mrow></mml:math></inline-formula> and <inline-formula><mml:math id="mm20" overflow="scroll"><mml:mrow><mml:msub><mml:mi>G</mml:mi><mml:mi>R</mml:mi></mml:msub></mml:mrow></mml:math></inline-formula> are the transmit and receive antenna gains, respectively. <italic toggle="yes">L</italic> is the additional system loss. The data rate (in bps) of inter-satellite links can be expressed as follows:<disp-formula id="FD6-sensors-25-01232"><label>(6)</label><mml:math id="mm21" display="block" overflow="scroll"><mml:mrow><mml:mrow><mml:msub><mml:mi>R</mml:mi><mml:mrow><mml:mi>I</mml:mi><mml:mi>S</mml:mi><mml:mi>L</mml:mi></mml:mrow></mml:msub><mml:mo>=</mml:mo><mml:mi>B</mml:mi><mml:mo>&#x000b7;</mml:mo><mml:mi>l</mml:mi><mml:mi>o</mml:mi><mml:msub><mml:mi>g</mml:mi><mml:mn>2</mml:mn></mml:msub><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:mn>1</mml:mn><mml:mo>+</mml:mo><mml:mstyle scriptlevel="0" displaystyle="true"><mml:mfrac><mml:msub><mml:mi>P</mml:mi><mml:mi>R</mml:mi></mml:msub><mml:mrow><mml:msub><mml:mi>N</mml:mi><mml:mn>0</mml:mn></mml:msub><mml:mi>B</mml:mi></mml:mrow></mml:mfrac></mml:mstyle><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:mrow></mml:mrow></mml:math></disp-formula>
here, <inline-formula><mml:math id="mm22" overflow="scroll"><mml:mrow><mml:msub><mml:mi>N</mml:mi><mml:mn>0</mml:mn></mml:msub></mml:mrow></mml:math></inline-formula> is the noise power spectral density, and <italic toggle="yes">B</italic> is the channel bandwidth.</p></list-item><list-item><p>Satellite&#x02013;ground link channel model: This includes the transmission channel between user terminals and satellites as well as between ground stations and satellites. From the ground node to the satellite node, the wireless signal propagation experiences the ground, the atmosphere, and the space environment, and it needs to consider the influence of various factors such as the ground shadow effect, the multipath effect, the atmospheric propagation loss, the free space propagation loss, etc. In this paper, we refer to the relevant parameters of 3GPP TR 38.811 [<xref rid="B24-sensors-25-01232" ref-type="bibr">24</xref>] to establish the satellite&#x02013;ground link channel model. Specifically, the parameter set of the urban scenario in Table 6.7.2 is used.</p><p>The Path Loss (PL) is composed of the following components:<disp-formula id="FD7-sensors-25-01232"><label>(7)</label><mml:math id="mm23" display="block" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>P</mml:mi><mml:mi>L</mml:mi><mml:mo>=</mml:mo><mml:mi>P</mml:mi><mml:msub><mml:mi>L</mml:mi><mml:mi>b</mml:mi></mml:msub><mml:mo>+</mml:mo><mml:mi>P</mml:mi><mml:msub><mml:mi>L</mml:mi><mml:mi>g</mml:mi></mml:msub><mml:mo>+</mml:mo><mml:mi>P</mml:mi><mml:msub><mml:mi>L</mml:mi><mml:mi>s</mml:mi></mml:msub><mml:mo>+</mml:mo><mml:mi>P</mml:mi><mml:msub><mml:mi>L</mml:mi><mml:mi>e</mml:mi></mml:msub></mml:mrow></mml:mrow></mml:math></disp-formula>
where <inline-formula><mml:math id="mm24" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>P</mml:mi><mml:mi>L</mml:mi></mml:mrow></mml:mrow></mml:math></inline-formula> is the total path loss (in dB), <inline-formula><mml:math id="mm25" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>P</mml:mi><mml:msub><mml:mi>L</mml:mi><mml:mi>b</mml:mi></mml:msub></mml:mrow></mml:mrow></mml:math></inline-formula> is the basic path loss (in dB), <inline-formula><mml:math id="mm26" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>P</mml:mi><mml:msub><mml:mi>L</mml:mi><mml:mi>g</mml:mi></mml:msub></mml:mrow></mml:mrow></mml:math></inline-formula> is the attenuation due to atmospheric gasses (in dB), <inline-formula><mml:math id="mm27" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>P</mml:mi><mml:msub><mml:mi>L</mml:mi><mml:mi>s</mml:mi></mml:msub></mml:mrow></mml:mrow></mml:math></inline-formula> is the attenuation due to either ionospheric or tropospheric scintillation in dB, and <inline-formula><mml:math id="mm28" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>P</mml:mi><mml:msub><mml:mi>L</mml:mi><mml:mi>e</mml:mi></mml:msub></mml:mrow></mml:mrow></mml:math></inline-formula> is the building entry loss (in dB).</p><p>The basic path loss in units of dB is modeled as follows:<disp-formula id="FD8-sensors-25-01232"><label>(8)</label><mml:math id="mm29" display="block" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>P</mml:mi><mml:msub><mml:mi>L</mml:mi><mml:mi>b</mml:mi></mml:msub><mml:mo>=</mml:mo><mml:mi>F</mml:mi><mml:mi>S</mml:mi><mml:mi>P</mml:mi><mml:mi>L</mml:mi><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:mi>s</mml:mi><mml:mo>,</mml:mo><mml:msub><mml:mi>f</mml:mi><mml:mi>c</mml:mi></mml:msub><mml:mo stretchy="false">)</mml:mo></mml:mrow><mml:mo>+</mml:mo><mml:mi>S</mml:mi><mml:mi>F</mml:mi><mml:mo>+</mml:mo><mml:mi>C</mml:mi><mml:mi>L</mml:mi><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:mi>&#x003b1;</mml:mi><mml:mo>,</mml:mo><mml:msub><mml:mi>f</mml:mi><mml:mi>c</mml:mi></mml:msub><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:mrow></mml:mrow></mml:math></disp-formula>
where <inline-formula><mml:math id="mm30" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>F</mml:mi><mml:mi>S</mml:mi><mml:mi>P</mml:mi><mml:mi>L</mml:mi><mml:mo stretchy="false">(</mml:mo><mml:mi>s</mml:mi><mml:mo>,</mml:mo><mml:msub><mml:mi>f</mml:mi><mml:mi>c</mml:mi></mml:msub><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:mrow></mml:math></inline-formula> is the free space path loss, <inline-formula><mml:math id="mm31" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>C</mml:mi><mml:mi>L</mml:mi><mml:mo stretchy="false">(</mml:mo><mml:mi>&#x003b1;</mml:mi><mml:mo>,</mml:mo><mml:msub><mml:mi>f</mml:mi><mml:mi>c</mml:mi></mml:msub><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:mrow></mml:math></inline-formula> is the clutter loss, and <inline-formula><mml:math id="mm32" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>S</mml:mi><mml:mi>F</mml:mi></mml:mrow></mml:mrow></mml:math></inline-formula> is the shadow fading loss represented by a random number generated by the normal distribution, i.e., <inline-formula><mml:math id="mm33" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>S</mml:mi><mml:mi>F</mml:mi><mml:mo>&#x0223c;</mml:mo><mml:mi>N</mml:mi><mml:mo stretchy="false">(</mml:mo><mml:mn>0</mml:mn><mml:mo>,</mml:mo><mml:msup><mml:mi>&#x003c3;</mml:mi><mml:mn>2</mml:mn></mml:msup><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:mrow></mml:math></inline-formula>.</p><p>The SNR can be calculated as follows:<disp-formula id="FD9-sensors-25-01232"><label>(9)</label><mml:math id="mm34" display="block" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>S</mml:mi><mml:mi>N</mml:mi><mml:mi>R</mml:mi><mml:mo>=</mml:mo><mml:mi>E</mml:mi><mml:mi>I</mml:mi><mml:mi>R</mml:mi><mml:mi>P</mml:mi><mml:mo>&#x02212;</mml:mo><mml:mi>k</mml:mi><mml:mo>&#x02212;</mml:mo><mml:mi>P</mml:mi><mml:mi>L</mml:mi><mml:mo>&#x02212;</mml:mo><mml:mi>B</mml:mi><mml:mo>+</mml:mo><mml:mstyle scriptlevel="0" displaystyle="true"><mml:mfrac><mml:mi>G</mml:mi><mml:mi>T</mml:mi></mml:mfrac></mml:mstyle></mml:mrow></mml:mrow></mml:math></disp-formula>
where <inline-formula><mml:math id="mm35" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>E</mml:mi><mml:mi>I</mml:mi><mml:mi>R</mml:mi><mml:mi>P</mml:mi></mml:mrow></mml:mrow></mml:math></inline-formula> is the effective isotropic radiated power (in dBW), <inline-formula><mml:math id="mm36" overflow="scroll"><mml:mrow><mml:mstyle scriptlevel="0" displaystyle="true"><mml:mfrac><mml:mi>G</mml:mi><mml:mi>T</mml:mi></mml:mfrac></mml:mstyle></mml:mrow></mml:math></inline-formula> is the antenna gain-to-noise-temperature (in dB/K), <italic toggle="yes">k</italic> is the Boltzmann constant, equal to &#x02212;228.6 dBW/K/Hz, <inline-formula><mml:math id="mm37" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>P</mml:mi><mml:mi>L</mml:mi></mml:mrow></mml:mrow></mml:math></inline-formula> is the path loss (in dB), and <italic toggle="yes">B</italic> is the channel bandwidth (in dBHz). Although the original unit of each component is different, the unit is unified by standardization in decibel operation. By adding and subtracting decibels, the formula unifies the transmit power, path loss, noise, and receive performance into SNR, which visually reflects the link quality.</p><p>EIRP can be calculated as follows:<disp-formula id="FD10-sensors-25-01232"><label>(10)</label><mml:math id="mm38" display="block" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>E</mml:mi><mml:mi>I</mml:mi><mml:mi>R</mml:mi><mml:mi>P</mml:mi><mml:mo>=</mml:mo><mml:msub><mml:mi>P</mml:mi><mml:mi>T</mml:mi></mml:msub><mml:mo>&#x02212;</mml:mo><mml:msub><mml:mi>L</mml:mi><mml:mi>C</mml:mi></mml:msub><mml:mo>+</mml:mo><mml:msub><mml:mi>G</mml:mi><mml:mi>T</mml:mi></mml:msub></mml:mrow></mml:mrow></mml:math></disp-formula>
where <inline-formula><mml:math id="mm39" overflow="scroll"><mml:mrow><mml:msub><mml:mi>P</mml:mi><mml:mi>T</mml:mi></mml:msub></mml:mrow></mml:math></inline-formula> is the antenna transmit power (in <inline-formula><mml:math id="mm40" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>dBW</mml:mi></mml:mrow></mml:mrow></mml:math></inline-formula>), <inline-formula><mml:math id="mm41" overflow="scroll"><mml:mrow><mml:msub><mml:mi>L</mml:mi><mml:mi>C</mml:mi></mml:msub></mml:mrow></mml:math></inline-formula> is the cable loss (in dB), and <inline-formula><mml:math id="mm42" overflow="scroll"><mml:mrow><mml:msub><mml:mi>G</mml:mi><mml:mi>T</mml:mi></mml:msub></mml:mrow></mml:math></inline-formula> is the transmit antenna gain (in dBi).</p><p>Antenna gain-to-noise-temperature <inline-formula><mml:math id="mm43" overflow="scroll"><mml:mrow><mml:mstyle scriptlevel="0" displaystyle="true"><mml:mfrac><mml:mi>G</mml:mi><mml:mi>T</mml:mi></mml:mfrac></mml:mstyle></mml:mrow></mml:math></inline-formula> can be derived as follows:<disp-formula id="FD11-sensors-25-01232"><label>(11)</label><mml:math id="mm44" display="block" overflow="scroll"><mml:mrow><mml:mrow><mml:mstyle scriptlevel="0" displaystyle="true"><mml:mfrac><mml:mi>G</mml:mi><mml:mi>T</mml:mi></mml:mfrac></mml:mstyle><mml:mo>=</mml:mo><mml:msub><mml:mi>G</mml:mi><mml:mi>R</mml:mi></mml:msub><mml:mo>&#x02212;</mml:mo><mml:msub><mml:mi>N</mml:mi><mml:mi>f</mml:mi></mml:msub><mml:mo>&#x02212;</mml:mo><mml:mn>10</mml:mn><mml:mi>l</mml:mi><mml:mi>o</mml:mi><mml:msub><mml:mi>g</mml:mi><mml:mn>10</mml:mn></mml:msub><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:msub><mml:mi>T</mml:mi><mml:mn>0</mml:mn></mml:msub><mml:mo>+</mml:mo><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:msub><mml:mi>T</mml:mi><mml:mi>&#x003b1;</mml:mi></mml:msub><mml:mo>&#x02212;</mml:mo><mml:msub><mml:mi>T</mml:mi><mml:mn>0</mml:mn></mml:msub><mml:mo stretchy="false">)</mml:mo></mml:mrow><mml:msup><mml:mn>10</mml:mn><mml:mrow><mml:mo>&#x02212;</mml:mo><mml:mn>0.1</mml:mn><mml:msub><mml:mi>N</mml:mi><mml:mi>f</mml:mi></mml:msub></mml:mrow></mml:msup><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:mrow></mml:mrow></mml:math></disp-formula></p><p>According to the Shannon formula, the data rate (in bps) of the satellite&#x02013;ground link can be expressed as follows:<disp-formula id="FD12-sensors-25-01232"><label>(12)</label><mml:math id="mm45" display="block" overflow="scroll"><mml:mrow><mml:mrow><mml:msub><mml:mi>R</mml:mi><mml:mrow><mml:mi>G</mml:mi><mml:mi>S</mml:mi><mml:mi>L</mml:mi></mml:mrow></mml:msub><mml:mo>=</mml:mo><mml:mi>B</mml:mi><mml:mi>l</mml:mi><mml:mi>o</mml:mi><mml:msub><mml:mi>g</mml:mi><mml:mn>2</mml:mn></mml:msub><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:mn>1</mml:mn><mml:mo>+</mml:mo><mml:mi>S</mml:mi><mml:mi>N</mml:mi><mml:mi>R</mml:mi><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:mrow></mml:mrow></mml:math></disp-formula></p></list-item></list></p></sec><sec id="sec3dot3-sensors-25-01232"><title>3.3. End-to-End Traffic Transmission Model with Service Function Constraints</title><p>According to the NTN networking architecture proposed by 3GPP [<xref rid="B25-sensors-25-01232" ref-type="bibr">25</xref>], as shown in <xref rid="sensors-25-01232-f001" ref-type="fig">Figure 1</xref>, the end-to-end traffic transmission modes of the LEO-MSN can be divided into three types: (a) the gNB and the NGC are both on the ground, and the user terminal is relayed to the ground station for processing via the satellite; (b) the gNB is on the satellite and the NGC is on the ground, the user terminal is connected to the satellite node, and the data are transmitted back to the ground; (c) the gNB and the NGC are both on the satellite, and data on the traffic are processed on the satellite without landing. The constraints for completing the end-to-end service transmission in different deployment modes are different, in which the network nodes containing the gNB and NGC functions must be passed through. The path can be expressed as <inline-formula><mml:math id="mm46" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>P</mml:mi><mml:mi>a</mml:mi><mml:mi>t</mml:mi><mml:msub><mml:mi>h</mml:mi><mml:mrow><mml:mi>S</mml:mi><mml:mi>r</mml:mi><mml:mi>c</mml:mi><mml:mo>,</mml:mo><mml:mi>D</mml:mi><mml:mi>s</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:msub><mml:mo>=</mml:mo><mml:mrow><mml:mo>{</mml:mo><mml:msub><mml:mi>V</mml:mi><mml:mrow><mml:mi>S</mml:mi><mml:mi>r</mml:mi><mml:mi>c</mml:mi></mml:mrow></mml:msub><mml:mo>&#x02192;</mml:mo><mml:mo>&#x022ef;</mml:mo><mml:mo>&#x02192;</mml:mo><mml:mi>V</mml:mi><mml:msub><mml:mi>F</mml:mi><mml:mi>i</mml:mi></mml:msub><mml:mo>&#x022ef;</mml:mo><mml:mo>&#x02192;</mml:mo><mml:mi>V</mml:mi><mml:msub><mml:mi>F</mml:mi><mml:mrow><mml:mi>F</mml:mi><mml:mi>N</mml:mi></mml:mrow></mml:msub><mml:mo>&#x022ef;</mml:mo><mml:mo>&#x02192;</mml:mo><mml:msub><mml:mi>V</mml:mi><mml:mrow><mml:mi>D</mml:mi><mml:mi>s</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:msub><mml:mo>}</mml:mo></mml:mrow></mml:mrow></mml:mrow></mml:math></inline-formula>, where <inline-formula><mml:math id="mm47" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>V</mml:mi><mml:msub><mml:mi>F</mml:mi><mml:mi>i</mml:mi></mml:msub></mml:mrow></mml:mrow></mml:math></inline-formula> denotes the ith functional node through which the end-to-end service transmission passes, and <inline-formula><mml:math id="mm48" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>F</mml:mi><mml:mi>N</mml:mi></mml:mrow></mml:mrow></mml:math></inline-formula> denotes the total number of functional nodes of the SFC in the path.</p><p>The transmission delay of traffic <italic toggle="yes">d</italic> with path <inline-formula><mml:math id="mm49" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>P</mml:mi><mml:mi>a</mml:mi><mml:mi>t</mml:mi><mml:msub><mml:mi>h</mml:mi><mml:mrow><mml:mi>S</mml:mi><mml:mi>r</mml:mi><mml:mi>c</mml:mi><mml:mo>,</mml:mo><mml:mi>D</mml:mi><mml:mi>s</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mrow></mml:math></inline-formula> can be defined as follows:<disp-formula id="FD13-sensors-25-01232"><label>(13)</label><mml:math id="mm50" display="block" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>D</mml:mi><mml:mi>e</mml:mi><mml:mi>l</mml:mi><mml:mi>a</mml:mi><mml:msub><mml:mi>y</mml:mi><mml:mi>d</mml:mi></mml:msub><mml:mo>=</mml:mo><mml:munder><mml:mo>&#x02211;</mml:mo><mml:mrow><mml:msub><mml:mi>e</mml:mi><mml:mrow><mml:mi>i</mml:mi><mml:mi>j</mml:mi></mml:mrow></mml:msub><mml:mo>&#x02208;</mml:mo><mml:mi>P</mml:mi><mml:mi>a</mml:mi><mml:mi>t</mml:mi><mml:msub><mml:mi>h</mml:mi><mml:mi>d</mml:mi></mml:msub></mml:mrow></mml:munder><mml:mstyle scriptlevel="0" displaystyle="true"><mml:mfrac><mml:mrow><mml:mi>B</mml:mi><mml:msub><mml:mi>v</mml:mi><mml:mi>d</mml:mi></mml:msub></mml:mrow><mml:mrow><mml:mi>R</mml:mi><mml:mo stretchy="false">(</mml:mo><mml:mi>i</mml:mi><mml:mo>,</mml:mo><mml:mi>j</mml:mi><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:mfrac></mml:mstyle></mml:mrow></mml:mrow></mml:math></disp-formula>
where <inline-formula><mml:math id="mm51" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>B</mml:mi><mml:msub><mml:mi>v</mml:mi><mml:mi>d</mml:mi></mml:msub></mml:mrow></mml:mrow></mml:math></inline-formula> represents the data size of traffic <italic toggle="yes">d</italic>, and <inline-formula><mml:math id="mm52" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>R</mml:mi><mml:mo stretchy="false">(</mml:mo><mml:mi>i</mml:mi><mml:mo>,</mml:mo><mml:mi>j</mml:mi><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:mrow></mml:math></inline-formula> represents the transmission rate of the link <inline-formula><mml:math id="mm53" overflow="scroll"><mml:mrow><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:mi>i</mml:mi><mml:mo>,</mml:mo><mml:mi>j</mml:mi><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:mrow></mml:math></inline-formula>.</p></sec><sec id="sec3dot4-sensors-25-01232"><title>3.4. Problem Formulation</title><p>Based on the assumptions of the above models, the following constraints can be established:<list list-type="bullet"><list-item><p>Link capacity constraint: At any given moment, the amount of traffic carried on each link must not exceed the link capacity:<disp-formula id="FD14-sensors-25-01232"><label>(14)</label><mml:math id="mm54" display="block" overflow="scroll"><mml:mrow><mml:mrow><mml:mn>0</mml:mn><mml:mo>&#x02264;</mml:mo><mml:msubsup><mml:mi>X</mml:mi><mml:mi>t</mml:mi><mml:mi>d</mml:mi></mml:msubsup><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:mi>i</mml:mi><mml:mo>,</mml:mo><mml:mi>j</mml:mi><mml:mo stretchy="false">)</mml:mo></mml:mrow><mml:mo>&#x02264;</mml:mo><mml:msub><mml:mi>C</mml:mi><mml:mi>t</mml:mi></mml:msub><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:mi>i</mml:mi><mml:mo>,</mml:mo><mml:mi>j</mml:mi><mml:mo stretchy="false">)</mml:mo></mml:mrow><mml:mo>,</mml:mo><mml:mo>&#x02200;</mml:mo><mml:msub><mml:mi>e</mml:mi><mml:mrow><mml:mi>i</mml:mi><mml:mo>,</mml:mo><mml:mi>j</mml:mi></mml:mrow></mml:msub><mml:mo>&#x02208;</mml:mo><mml:mi>E</mml:mi><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:mi>t</mml:mi><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:mrow></mml:mrow></mml:math></disp-formula>
where <inline-formula><mml:math id="mm55" overflow="scroll"><mml:mrow><mml:mrow><mml:msubsup><mml:mi>X</mml:mi><mml:mi>t</mml:mi><mml:mi>d</mml:mi></mml:msubsup><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:mi>i</mml:mi><mml:mo>,</mml:mo><mml:mi>j</mml:mi><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:mrow></mml:mrow></mml:math></inline-formula> represents the amount of traffic transmitted on link <inline-formula><mml:math id="mm56" overflow="scroll"><mml:mrow><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:mi>i</mml:mi><mml:mo>,</mml:mo><mml:mi>j</mml:mi><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:mrow></mml:math></inline-formula> at time <italic toggle="yes">t</italic>, and <inline-formula><mml:math id="mm57" overflow="scroll"><mml:mrow><mml:mrow><mml:msub><mml:mi>C</mml:mi><mml:mi>t</mml:mi></mml:msub><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:mi>i</mml:mi><mml:mo>,</mml:mo><mml:mi>j</mml:mi><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:mrow></mml:mrow></mml:math></inline-formula> represents the capacity of link <inline-formula><mml:math id="mm58" overflow="scroll"><mml:mrow><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:mi>i</mml:mi><mml:mo>,</mml:mo><mml:mi>j</mml:mi><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:mrow></mml:math></inline-formula> at time <italic toggle="yes">t</italic>.</p></list-item><list-item><p>Node capacity constraint: The amount of data stored on node <italic toggle="yes">u</italic> cannot exceed the node&#x02019;s cache capacity limit, i.e.,<disp-formula id="FD15-sensors-25-01232"><label>(15)</label><mml:math id="mm59" display="block" overflow="scroll"><mml:mrow><mml:mrow><mml:mn>0</mml:mn><mml:mo>&#x02264;</mml:mo><mml:mo>&#x02211;</mml:mo><mml:msubsup><mml:mo>&#x0222b;</mml:mo><mml:mrow><mml:mi>t</mml:mi></mml:mrow><mml:mrow><mml:mi>t</mml:mi><mml:mo>+</mml:mo><mml:mo>&#x00394;</mml:mo><mml:mi>t</mml:mi></mml:mrow></mml:msubsup><mml:msub><mml:mi>f</mml:mi><mml:mrow><mml:mi>v</mml:mi><mml:mo>,</mml:mo><mml:mi>u</mml:mi></mml:mrow></mml:msub><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:mi>t</mml:mi><mml:mo stretchy="false">)</mml:mo></mml:mrow><mml:mspace width="0.166667em"/><mml:mi>d</mml:mi><mml:mi>t</mml:mi><mml:mo>&#x02212;</mml:mo><mml:mo>&#x02211;</mml:mo><mml:msubsup><mml:mo>&#x0222b;</mml:mo><mml:mrow><mml:mi>t</mml:mi></mml:mrow><mml:mrow><mml:mi>t</mml:mi><mml:mo>+</mml:mo><mml:mo>&#x00394;</mml:mo><mml:mi>t</mml:mi></mml:mrow></mml:msubsup><mml:msub><mml:mi>f</mml:mi><mml:mrow><mml:mi>u</mml:mi><mml:mo>,</mml:mo><mml:mi>w</mml:mi></mml:mrow></mml:msub><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:mi>t</mml:mi><mml:mo stretchy="false">)</mml:mo></mml:mrow><mml:mspace width="0.166667em"/><mml:mi>d</mml:mi><mml:mi>t</mml:mi><mml:mo>&#x02264;</mml:mo><mml:mi>S</mml:mi><mml:mi>t</mml:mi><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:mi>u</mml:mi><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:mrow></mml:mrow></mml:math></disp-formula>
where <inline-formula><mml:math id="mm60" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>S</mml:mi><mml:mi>t</mml:mi><mml:mo stretchy="false">(</mml:mo><mml:mi>u</mml:mi><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:mrow></mml:math></inline-formula> is the cache size of the node <italic toggle="yes">u</italic>, and <inline-formula><mml:math id="mm61" overflow="scroll"><mml:mrow><mml:mrow><mml:msub><mml:mi>f</mml:mi><mml:mrow><mml:mi>v</mml:mi><mml:mo>,</mml:mo><mml:mi>u</mml:mi></mml:mrow></mml:msub><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:mi>t</mml:mi><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:mrow></mml:mrow></mml:math></inline-formula> and <inline-formula><mml:math id="mm62" overflow="scroll"><mml:mrow><mml:mrow><mml:msub><mml:mi>f</mml:mi><mml:mrow><mml:mi>u</mml:mi><mml:mo>,</mml:mo><mml:mi>w</mml:mi></mml:mrow></mml:msub><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:mi>t</mml:mi><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:mrow></mml:mrow></mml:math></inline-formula> denote the flows into and out of node <italic toggle="yes">u</italic> at time <italic toggle="yes">t</italic>, respectively.</p></list-item><list-item><p>Service function constraint: The traffic with source node <inline-formula><mml:math id="mm63" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>S</mml:mi><mml:mi>r</mml:mi><mml:mi>c</mml:mi></mml:mrow></mml:mrow></mml:math></inline-formula>, destination node <inline-formula><mml:math id="mm64" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>D</mml:mi><mml:mi>s</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:mrow></mml:math></inline-formula>, and routing path <inline-formula><mml:math id="mm65" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>P</mml:mi><mml:mi>a</mml:mi><mml:mi>t</mml:mi><mml:msub><mml:mi>h</mml:mi><mml:mrow><mml:mi>S</mml:mi><mml:mi>r</mml:mi><mml:mi>c</mml:mi><mml:mo>,</mml:mo><mml:mi>D</mml:mi><mml:mi>s</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mrow></mml:math></inline-formula> needs to satisfy the service function constraints, i.e.,<disp-formula id="FD16-sensors-25-01232"><label>(16)</label><mml:math id="mm66" display="block" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>P</mml:mi><mml:mi>a</mml:mi><mml:mi>t</mml:mi><mml:msub><mml:mi>h</mml:mi><mml:mrow><mml:mi>S</mml:mi><mml:mi>r</mml:mi><mml:mi>c</mml:mi><mml:mo>,</mml:mo><mml:mi>D</mml:mi><mml:mi>s</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:msub><mml:mo>=</mml:mo><mml:mrow><mml:mo>{</mml:mo><mml:msub><mml:mi>V</mml:mi><mml:mrow><mml:mi>S</mml:mi><mml:mi>r</mml:mi><mml:mi>c</mml:mi></mml:mrow></mml:msub><mml:mo>&#x02192;</mml:mo><mml:mo>&#x022ef;</mml:mo><mml:mo>&#x02192;</mml:mo><mml:mi>V</mml:mi><mml:msub><mml:mi>F</mml:mi><mml:mi>i</mml:mi></mml:msub><mml:mo>&#x022ef;</mml:mo><mml:mo>&#x02192;</mml:mo><mml:mi>V</mml:mi><mml:msub><mml:mi>F</mml:mi><mml:mrow><mml:mi>F</mml:mi><mml:mi>N</mml:mi></mml:mrow></mml:msub><mml:mo>&#x022ef;</mml:mo><mml:mo>&#x02192;</mml:mo><mml:msub><mml:mi>V</mml:mi><mml:mrow><mml:mi>D</mml:mi><mml:mi>s</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:msub><mml:mo>}</mml:mo></mml:mrow></mml:mrow></mml:mrow></mml:math></disp-formula>
where <inline-formula><mml:math id="mm67" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>V</mml:mi><mml:msub><mml:mi>F</mml:mi><mml:mi>i</mml:mi></mml:msub></mml:mrow></mml:mrow></mml:math></inline-formula> denotes the ith functional node through which the end-to-end service transmission passes, and <inline-formula><mml:math id="mm68" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>F</mml:mi><mml:mi>N</mml:mi></mml:mrow></mml:mrow></mml:math></inline-formula> denotes the total number of functional nodes of the SFC in the path.</p></list-item></list></p><p>In this paper, in order to achieve the joint optimization of network load and path delay for routing under SFC constraints in LEO-MSN, we formulate it as a weighted multi-objective problem and dynamically balance the delay minimization and load balancing through adaptive coefficients. Based on the established model and the constraints mentioned above, the objective function of the routing problem in this paper can be expressed as follows:<disp-formula id="FD17-sensors-25-01232"><label>(17)</label><mml:math id="mm69" display="block" overflow="scroll"><mml:mrow><mml:mtable displaystyle="true"><mml:mtr><mml:mtd columnalign="right"><mml:mspace width="1.em"/></mml:mtd><mml:mtd columnalign="left"><mml:mrow><mml:munder><mml:mo movablelimits="true" form="prefix">min</mml:mo><mml:mi mathvariant="script">P</mml:mi></mml:munder><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:munder><mml:munder accentunder="true"><mml:mrow><mml:msub><mml:mi>&#x003b8;</mml:mi><mml:mn>1</mml:mn></mml:msub><mml:mo>&#x000b7;</mml:mo><mml:munder><mml:mo>&#x02211;</mml:mo><mml:mrow><mml:mi>P</mml:mi><mml:mi>a</mml:mi><mml:mi>t</mml:mi><mml:msub><mml:mi>h</mml:mi><mml:mrow><mml:mi>i</mml:mi><mml:mi>j</mml:mi></mml:mrow></mml:msub><mml:mo>&#x02208;</mml:mo><mml:mi>P</mml:mi><mml:mi>a</mml:mi><mml:mi>t</mml:mi><mml:mi>h</mml:mi></mml:mrow></mml:munder><mml:mi>D</mml:mi><mml:mi>e</mml:mi><mml:mi>l</mml:mi><mml:mi>a</mml:mi><mml:msub><mml:mi>y</mml:mi><mml:mrow><mml:mi>i</mml:mi><mml:mi>j</mml:mi></mml:mrow></mml:msub></mml:mrow><mml:mo>&#x0fe38;</mml:mo></mml:munder><mml:mrow><mml:mi>Path</mml:mi><mml:mspace width="4.pt"/><mml:mi>Delay</mml:mi></mml:mrow></mml:munder><mml:mo>+</mml:mo><mml:munder><mml:munder accentunder="true"><mml:mrow><mml:msub><mml:mi>&#x003b8;</mml:mi><mml:mn>2</mml:mn></mml:msub><mml:mo>&#x000b7;</mml:mo><mml:mi>L</mml:mi><mml:mi>o</mml:mi><mml:mi>a</mml:mi><mml:mi>d</mml:mi></mml:mrow><mml:mo>&#x0fe38;</mml:mo></mml:munder><mml:mrow><mml:mi>Load</mml:mi><mml:mspace width="4.pt"/><mml:mi>Balancing</mml:mi></mml:mrow></mml:munder><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:mrow></mml:mtd></mml:mtr><mml:mtr><mml:mtd columnalign="right"><mml:mspace width="1.em"/></mml:mtd><mml:mtd columnalign="left"><mml:mtable><mml:mtr><mml:mtd columnalign="right"><mml:mspace width="1.em"/></mml:mtd><mml:mtd columnalign="right"><mml:mrow><mml:mi>s</mml:mi><mml:mo>.</mml:mo><mml:mi>t</mml:mi><mml:mo>.</mml:mo><mml:mspace width="1.em"/><mml:mi>Equation</mml:mi><mml:mspace width="3.33333pt"/><mml:mo stretchy="false">(</mml:mo><mml:mn>13</mml:mn><mml:mo stretchy="false">)</mml:mo><mml:mrow><mml:mo>&#x02013;</mml:mo></mml:mrow><mml:mi>Equation</mml:mi><mml:mspace width="3.33333pt"/><mml:mo stretchy="false">(</mml:mo><mml:mn>16</mml:mn><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:mtd></mml:mtr></mml:mtable></mml:mtd></mml:mtr></mml:mtable></mml:mrow></mml:math></disp-formula>
where <inline-formula><mml:math id="mm70" overflow="scroll"><mml:mrow><mml:msub><mml:mi>&#x003b8;</mml:mi><mml:mn>1</mml:mn></mml:msub></mml:mrow></mml:math></inline-formula> and <inline-formula><mml:math id="mm71" overflow="scroll"><mml:mrow><mml:msub><mml:mi>&#x003b8;</mml:mi><mml:mn>2</mml:mn></mml:msub></mml:mrow></mml:math></inline-formula> are the weight parameters used to balance the influence of the end-to-end delay and network load. <inline-formula><mml:math id="mm72" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>D</mml:mi><mml:mi>e</mml:mi><mml:mi>l</mml:mi><mml:mi>a</mml:mi><mml:msub><mml:mi>y</mml:mi><mml:mrow><mml:mi>i</mml:mi><mml:mo>,</mml:mo><mml:mi>j</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mrow></mml:math></inline-formula> denotes the delay of node <italic toggle="yes">i</italic> and <italic toggle="yes">j</italic>, and <inline-formula><mml:math id="mm73" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>L</mml:mi><mml:mi>o</mml:mi><mml:mi>a</mml:mi><mml:mi>d</mml:mi></mml:mrow></mml:mrow></mml:math></inline-formula> represents the average network load, which can be calculated using the following equation:<disp-formula id="FD18-sensors-25-01232"><label>(18)</label><mml:math id="mm74" display="block" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>L</mml:mi><mml:mi>o</mml:mi><mml:mi>a</mml:mi><mml:mi>d</mml:mi><mml:mo>=</mml:mo><mml:mstyle scriptlevel="0" displaystyle="true"><mml:mfrac><mml:mn>1</mml:mn><mml:msup><mml:mi>N</mml:mi><mml:mo>&#x02032;</mml:mo></mml:msup></mml:mfrac></mml:mstyle><mml:munderover><mml:mo>&#x02211;</mml:mo><mml:mrow><mml:mi>v</mml:mi><mml:mo>&#x02208;</mml:mo><mml:msup><mml:mi>V</mml:mi><mml:mo>&#x02032;</mml:mo></mml:msup></mml:mrow><mml:msup><mml:mi>N</mml:mi><mml:mo>&#x02032;</mml:mo></mml:msup></mml:munderover><mml:mstyle scriptlevel="0" displaystyle="true"><mml:mfrac><mml:mrow><mml:mi>S</mml:mi><mml:msub><mml:mi>t</mml:mi><mml:mi>c</mml:mi></mml:msub><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:mi>v</mml:mi><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:mrow><mml:mrow><mml:mi>S</mml:mi><mml:mi>t</mml:mi><mml:mo stretchy="false">(</mml:mo><mml:mi>v</mml:mi><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:mfrac></mml:mstyle></mml:mrow></mml:mrow></mml:math></disp-formula>
where <inline-formula><mml:math id="mm75" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>S</mml:mi><mml:msub><mml:mi>t</mml:mi><mml:mi>c</mml:mi></mml:msub><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:mi>v</mml:mi><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:mrow></mml:mrow></mml:math></inline-formula> and <inline-formula><mml:math id="mm76" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>S</mml:mi><mml:mi>t</mml:mi><mml:mo stretchy="false">(</mml:mo><mml:mi>v</mml:mi><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:mrow></mml:math></inline-formula> denote the used cache capacity and cache capacity of node <italic toggle="yes">v</italic>, respectively; <inline-formula><mml:math id="mm77" overflow="scroll"><mml:mrow><mml:msup><mml:mi>V</mml:mi><mml:mo>&#x02032;</mml:mo></mml:msup></mml:mrow></mml:math></inline-formula> is the set of satellite nodes and ground station nodes in the network, and <inline-formula><mml:math id="mm78" overflow="scroll"><mml:mrow><mml:msup><mml:mi>N</mml:mi><mml:mo>&#x02032;</mml:mo></mml:msup></mml:mrow></mml:math></inline-formula> is the number of satellite nodes and ground station nodes. The weighted sum form of Equation (<xref rid="FD17-sensors-25-01232" ref-type="disp-formula">17</xref>) aims to transform end-to-end delay minimization and network load balancing into a single-objective problem that can be jointly optimized. Although there may be local conflicts between the two, GDRL-SFCR is able to achieve the co-optimization of the two at the global level by choosing the weights <inline-formula><mml:math id="mm79" overflow="scroll"><mml:mrow><mml:msub><mml:mi>&#x003b8;</mml:mi><mml:mn>1</mml:mn></mml:msub></mml:mrow></mml:math></inline-formula> appropriately.</p><p>Since the objective and constraints are linear functions, this class of problems is NP-hard [<xref rid="B43-sensors-25-01232" ref-type="bibr">43</xref>], and this optimization problem can be solved using ILP or heuristic algorithms. However, it is non-trivial to use these techniques to model dynamic metrics. Therefore, we propose a graph neural network and deep reinforcement learning-based minimum delay routing method, GDRL-SFCR, which minimizes the delay of the end-to-end transmission path of traffic and reduces the network load while satisfying the SFC constraints.</p><p>To systematically address the constraints of link capacity, node capacity, and service function chaining, our proposed GDRL-SFCR framework integrates the following innovations: (a) dynamically extracting network topology features using a GNN and adjusting edge weights in real time according to the available bandwidth of the links to ensure that the routing paths always satisfy the bandwidth constraints; (b) applying penalties to decisions that exceed the node&#x02019;s memory during DRL intelligence training to ensure that all decision paths satisfy the node capacity constraints; (c) blocking invalid routing options during the exploration phase of DRL intelligence and embedding SFC metadata into the GNN messaging process to ensure that the paths satisfy the functional order constraints.</p></sec></sec><sec id="sec4-sensors-25-01232"><title>4. Proposed Intelligent Routing Method</title><p>In this section, we propose GDRL-SFCR, an end-to-end routing decision method based on a GNN and DRL, which jointly optimizes the end-to-end transmission delay and network load balancing under SFC constraints. In this paper, solving the routing problem with SFC constraints is modeled as a sequential decision-making process that iteratively executes and decides the next hop node for the packet in each state until the destination node is reached. In each iteration, the current state of the network nodes is first obtained and converted into a graph structure. Then, the GNN is applied to extract the feature embedding of the network. Multilayer Perceptron (MLP) is used to obtain the current valid state based on the features of the current node and the neighboring nodes, followed by the use of a decision network to generate the action probability distributions based on the valid states and sampling from them to determine the next hop node.</p><sec id="sec4dot1-sensors-25-01232"><title>4.1. MDP Formulation</title><p>The routing problem in satellite networks can be generally described as follows: obtaining the network state at the current moment by obtaining information about the bandwidth information of the link, the link distance, the satellite network topology, and the node load. Then, decide the next hop for sending packets and pass them to other nodes. After that, each hop node cycles in turn. The action taken by each node is related only to the current state of the network, and the process can be described as a Markov Decision Process (MDP) [<xref rid="B44-sensors-25-01232" ref-type="bibr">44</xref>]. We can represent it as a quaternion <inline-formula><mml:math id="mm80" overflow="scroll"><mml:mrow><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:mi>S</mml:mi><mml:mo>,</mml:mo><mml:mi>A</mml:mi><mml:mo>,</mml:mo><mml:msub><mml:mi>P</mml:mi><mml:mi>a</mml:mi></mml:msub><mml:mo>,</mml:mo><mml:msub><mml:mi>R</mml:mi><mml:mi>a</mml:mi></mml:msub><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:mrow></mml:math></inline-formula>, where <italic toggle="yes">S</italic> is the state space that the agent can observe, A denotes the action space associated with the decision, <inline-formula><mml:math id="mm81" overflow="scroll"><mml:mrow><mml:msub><mml:mi>P</mml:mi><mml:mi>a</mml:mi></mml:msub></mml:mrow></mml:math></inline-formula> is short for <inline-formula><mml:math id="mm82" overflow="scroll"><mml:mrow><mml:mrow><mml:msub><mml:mi>P</mml:mi><mml:mi>a</mml:mi></mml:msub><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:mi>S</mml:mi><mml:mo>,</mml:mo><mml:msup><mml:mi>S</mml:mi><mml:mo>&#x02032;</mml:mo></mml:msup><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:mrow></mml:mrow></mml:math></inline-formula>&#x02019;, which is the probability of changing from state <italic toggle="yes">S</italic> to state <inline-formula><mml:math id="mm83" overflow="scroll"><mml:mrow><mml:msup><mml:mi>S</mml:mi><mml:mo>&#x02032;</mml:mo></mml:msup></mml:mrow></mml:math></inline-formula> after executing action <italic toggle="yes">a</italic>, and <inline-formula><mml:math id="mm84" overflow="scroll"><mml:mrow><mml:msub><mml:mi>R</mml:mi><mml:mi>a</mml:mi></mml:msub></mml:mrow></mml:math></inline-formula> is the reward that the agent receives for executing action <italic toggle="yes">a</italic>. In the context of the end-to-end SFC routing problem for satellite networks, we will describe each element of the tuple of the SFC routing decision problem in detail:
<list list-type="simple"><list-item><label>(a)</label><p>State space: Let <italic toggle="yes">S</italic> denote the environment&#x02019;s finite set of acceptable states. The state consists of six parts: the source node, destination node, current network node, current node load value, number of functional nodes through which the current path passes, and set of neighboring nodes of the current node.</p></list-item><list-item><label>(b)</label><p>Action space: Define <italic toggle="yes">A</italic> as the set of next-hop satellites that the agent can select at the current moment. Since the number of neighboring nodes is different for different network nodes, in order to unify the size of the action space and minimize the complexity of the action space design, we construct the action space as a one-hot vector with the same size as the node with the highest degree in the network and set the dimension of the action space to <inline-formula><mml:math id="mm85" overflow="scroll"><mml:mrow><mml:mrow><mml:mo form="prefix">dim</mml:mo><mml:mo stretchy="false">(</mml:mo><mml:mi>G</mml:mi><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:mrow></mml:math></inline-formula>. When the node is <inline-formula><mml:math id="mm86" overflow="scroll"><mml:mrow><mml:msub><mml:mi>n</mml:mi><mml:mi>i</mml:mi></mml:msub></mml:mrow></mml:math></inline-formula> and when <inline-formula><mml:math id="mm87" overflow="scroll"><mml:mrow><mml:mrow><mml:mo form="prefix">dim</mml:mo><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:msub><mml:mi>n</mml:mi><mml:mi>i</mml:mi></mml:msub><mml:mo stretchy="false">)</mml:mo></mml:mrow><mml:mo>&#x0003c;</mml:mo><mml:mo form="prefix">dim</mml:mo><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:mi>G</mml:mi><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:mrow></mml:mrow></mml:math></inline-formula>, only the first <inline-formula><mml:math id="mm88" overflow="scroll"><mml:mrow><mml:mrow><mml:mo form="prefix">dim</mml:mo><mml:mo stretchy="false">(</mml:mo><mml:msub><mml:mi>n</mml:mi><mml:mi>i</mml:mi></mml:msub><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:mrow></mml:math></inline-formula> nodes are considered for sampling from the policy.</p></list-item><list-item><label>(c)</label><p>Reward: The most important goal of this paper is to achieve load balancing and delay joint optimal routing while satisfying SFC constraints. To achieve this goal, we consider factors such as path delay, network load, and SFC constraints when designing the reward function, which is used to guide the agent to learn the optimization strategy and make correct routing decisions to achieve the goal of this paper. The reward function in this paper combines the following factors:<list list-type="bullet"><list-item><p>Rewards for network node load <inline-formula><mml:math id="mm89" overflow="scroll"><mml:mrow><mml:msub><mml:mi>R</mml:mi><mml:mi>L</mml:mi></mml:msub></mml:mrow></mml:math></inline-formula>: Load negatively affects latency and network performance, so providing positive rewards for low-loaded nodes and negative rewards for high-loaded nodes is possible.</p></list-item><list-item><p>Reward for the number of functional nodes in the current path <inline-formula><mml:math id="mm90" overflow="scroll"><mml:mrow><mml:msub><mml:mi>R</mml:mi><mml:mi>F</mml:mi></mml:msub></mml:mrow></mml:math></inline-formula>: To encourage the agent to choose SFC-compliant paths, we provide positive rewards for paths satisfying SFC constraints and negative rewards for those not, thus guiding the model to optimize step by step during the training process and ultimately satisfy the SFC constraints.</p></list-item><list-item><p>Reward for delay between current satellite node and next hop node <inline-formula><mml:math id="mm91" overflow="scroll"><mml:mrow><mml:msub><mml:mi>R</mml:mi><mml:mi>T</mml:mi></mml:msub></mml:mrow></mml:math></inline-formula>: Adding a delay penalty trains the agent to know how to deliver the packet to the destination node with the shortest delay.</p></list-item><list-item><p>Reward for other factors: In order to avoid routing loops and enable the model to converge quickly, the occurrence of routing loops is &#x0201c;punished&#x0201d; to reduce the risk of recurring routing loops occurring.</p></list-item></list></p></list-item></list></p><p>Taking these factors into account, we can define the reward function as follows:<disp-formula id="FD19-sensors-25-01232"><label>(19)</label><mml:math id="mm92" display="block" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>Reward</mml:mi><mml:mo>=</mml:mo><mml:mfenced separators="" open="{" close=""><mml:mtable><mml:mtr><mml:mtd columnalign="left"><mml:mrow><mml:mo>&#x02212;</mml:mo><mml:mn>1</mml:mn><mml:mo>,</mml:mo><mml:mi>u</mml:mi><mml:mo>&#x02208;</mml:mo><mml:mi>Vis</mml:mi></mml:mrow></mml:mtd></mml:mtr><mml:mtr><mml:mtd columnalign="left"><mml:mrow><mml:mo>&#x02212;</mml:mo><mml:mfenced separators="" open="(" close=")"><mml:msub><mml:mi>R</mml:mi><mml:mi>L</mml:mi></mml:msub><mml:mo>+</mml:mo><mml:msub><mml:mi>R</mml:mi><mml:mi>F</mml:mi></mml:msub><mml:mo>+</mml:mo><mml:msub><mml:mi>R</mml:mi><mml:mi>T</mml:mi></mml:msub></mml:mfenced><mml:mo>,</mml:mo><mml:mi>u</mml:mi><mml:mo>&#x02209;</mml:mo><mml:mi>Vis</mml:mi></mml:mrow></mml:mtd></mml:mtr><mml:mtr><mml:mtd columnalign="left"><mml:mrow><mml:mo>&#x02212;</mml:mo><mml:mfenced separators="" open="(" close=")"><mml:msub><mml:mi>R</mml:mi><mml:mi>L</mml:mi></mml:msub><mml:mo>+</mml:mo><mml:msub><mml:mi>R</mml:mi><mml:mi>F</mml:mi></mml:msub><mml:mo>+</mml:mo><mml:msub><mml:mi>R</mml:mi><mml:mi>T</mml:mi></mml:msub></mml:mfenced><mml:mo>+</mml:mo><mml:mn>1</mml:mn><mml:mo>,</mml:mo><mml:mi>u</mml:mi><mml:mo>&#x02209;</mml:mo><mml:mi>Vis</mml:mi><mml:mspace width="4.pt"/><mml:mo>&#x00026;</mml:mo><mml:mspace width="4.pt"/><mml:mi>u</mml:mi><mml:mo>=</mml:mo><mml:mi>Dst</mml:mi><mml:mspace width="4.pt"/><mml:mo>&#x00026;</mml:mo><mml:mspace width="4.pt"/><mml:msub><mml:mi>R</mml:mi><mml:mi>F</mml:mi></mml:msub><mml:mo>=</mml:mo><mml:mi>F</mml:mi><mml:mi>N</mml:mi></mml:mrow></mml:mtd></mml:mtr></mml:mtable></mml:mfenced></mml:mrow></mml:mrow></mml:math></disp-formula>
where <inline-formula><mml:math id="mm93" overflow="scroll"><mml:mrow><mml:msub><mml:mi>R</mml:mi><mml:mi>T</mml:mi></mml:msub></mml:mrow></mml:math></inline-formula> denotes the average path delay, <inline-formula><mml:math id="mm94" overflow="scroll"><mml:mrow><mml:msub><mml:mi>R</mml:mi><mml:mi>F</mml:mi></mml:msub></mml:mrow></mml:math></inline-formula> denotes the number of functional nodes visited, and <inline-formula><mml:math id="mm95" overflow="scroll"><mml:mrow><mml:msub><mml:mi>R</mml:mi><mml:mi>L</mml:mi></mml:msub></mml:mrow></mml:math></inline-formula> denotes the average network load. <inline-formula><mml:math id="mm96" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>D</mml:mi><mml:mi>s</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:mrow></mml:math></inline-formula> denotes the destination node of the current service, <italic toggle="yes">u</italic> denotes the current node, and <inline-formula><mml:math id="mm97" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>V</mml:mi><mml:mi>i</mml:mi><mml:mi>s</mml:mi></mml:mrow></mml:mrow></mml:math></inline-formula> denotes the set of nodes that have been routed in the current round. If <inline-formula><mml:math id="mm98" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>u</mml:mi><mml:mo>&#x02208;</mml:mo><mml:mi>V</mml:mi><mml:mi>i</mml:mi><mml:mi>s</mml:mi></mml:mrow></mml:mrow></mml:math></inline-formula> indicates that there is a loop, the reward value is set to the minimum value of <inline-formula><mml:math id="mm99" overflow="scroll"><mml:mrow><mml:mrow><mml:mo>&#x02212;</mml:mo><mml:mn>1</mml:mn></mml:mrow></mml:mrow></mml:math></inline-formula> to reduce the probability of loop appearance; if <inline-formula><mml:math id="mm100" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>u</mml:mi><mml:mo>&#x02209;</mml:mo><mml:mi>V</mml:mi><mml:mi>i</mml:mi><mml:mi>s</mml:mi></mml:mrow></mml:mrow></mml:math></inline-formula>, <inline-formula><mml:math id="mm101" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>u</mml:mi><mml:mo>=</mml:mo><mml:mi>D</mml:mi><mml:mi>s</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:mrow></mml:math></inline-formula>, and <inline-formula><mml:math id="mm102" overflow="scroll"><mml:mrow><mml:mrow><mml:msub><mml:mi>R</mml:mi><mml:mi>F</mml:mi></mml:msub><mml:mo>=</mml:mo><mml:mi>F</mml:mi><mml:mi>N</mml:mi></mml:mrow></mml:mrow></mml:math></inline-formula>, then the destination node is successfully reached, and the reward value is additionally increased by 1 to guide the algorithm to converge in the direction of correctly completing the routing requirements. The rest of the cases are given a normal reward value.</p></sec><sec id="sec4dot2-sensors-25-01232"><title>4.2. GDRL-SFCR Intelligent Routing Framework</title><p>The model architecture of GDRL-SFCR, illustrated in <xref rid="sensors-25-01232-f002" ref-type="fig">Figure 2</xref>, consists of three components: embedding of the LEO satellite network, obtaining a valid state space, and making the routing decision. In the proposed GDRL-SFCR method, a GNN and DRL are combined to optimize routing decisions. The GNN processes the graph-structured data representing the network topology, capturing essential structural features such as node connections and link properties. Then, a MLP is used to obtain the current valid state based on the features of the current node and the neighboring nodes. These features are then fed into the DRL framework, which learns the optimal policy for routing decisions. We will explain the components in detail.</p><sec id="sec4dot2dot1-sensors-25-01232"><title>4.2.1. Embedding of LEO Satellite Network</title><p>Graph data employ a data structure that represents entities and relationships by nodes and edges [<xref rid="B45-sensors-25-01232" ref-type="bibr">45</xref>]. The connections in a satellite network are modeled as weighted undirected graphs, where nodes (satellites, ground stations, UEs, remote servers) and edges (inter-satellite/ground links) define complex spatial&#x02013;temporal relationships. Most traditional deep learning models, such as convolutional neural networks (CNNs) and recurrent neural networks (RNNs), cannot be directly applied to graph data due to the lack of capacity to capture geometric features from a graph. This is because traditional models are designed based on the translation invariance or local connectedness of data in Euclidean space. However, graph data do not have the same regular spatial structure as image and text data. The proposal of using a GNN extends the existing neural network mechanism, which can achieve end-to-end processing of graph data [<xref rid="B46-sensors-25-01232" ref-type="bibr">46</xref>]. GNNs [<xref rid="B47-sensors-25-01232" ref-type="bibr">47</xref>] consist of multi-layer graph convolution, and their essential purpose is to use graph convolutions to extract the spatial features of graph data. They have strong generalization and reasoning capabilities in resource management, end-to-end communication, MIMO detection, and other applications, and they have achieved good results [<xref rid="B48-sensors-25-01232" ref-type="bibr">48</xref>,<xref rid="B49-sensors-25-01232" ref-type="bibr">49</xref>].</p><p>In order to extract the characteristics of the LEO network topology, we utilized a GNN to process the network topology data. It passes messages between the nodes of the graph through an iterative message passing algorithm so that each node can acquire the characteristics of its surrounding neighbors, expanding the node&#x02019;s perceptual domain, which can help to make more appropriate routing decisions. At each time step <italic toggle="yes">t</italic>, the current state of the LEO satellite network <inline-formula><mml:math id="mm103" overflow="scroll"><mml:mrow><mml:mrow><mml:msub><mml:mi>S</mml:mi><mml:mi>t</mml:mi></mml:msub><mml:mo>=</mml:mo><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:mi>A</mml:mi><mml:mo>;</mml:mo><mml:mi>X</mml:mi><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:mrow></mml:mrow></mml:math></inline-formula> is fed into the GNN to learn a new matrix <inline-formula><mml:math id="mm104" overflow="scroll"><mml:mrow><mml:msub><mml:mi>H</mml:mi><mml:mi>t</mml:mi></mml:msub></mml:mrow></mml:math></inline-formula>.</p><p>The forward propagation of the graph convolution is given as follows:<disp-formula id="FD20-sensors-25-01232"><label>(20)</label><mml:math id="mm105" display="block" overflow="scroll"><mml:mrow><mml:mrow><mml:msub><mml:mi>H</mml:mi><mml:mi>t</mml:mi></mml:msub><mml:mo>=</mml:mo><mml:mi>&#x003c3;</mml:mi><mml:mfenced separators="" open="(" close=")"><mml:msup><mml:mover accent="true"><mml:mi>D</mml:mi><mml:mo stretchy="false">&#x002dc;</mml:mo></mml:mover><mml:mrow><mml:mo>&#x02212;</mml:mo><mml:mstyle scriptlevel="0" displaystyle="true"><mml:mfrac><mml:mn>1</mml:mn><mml:mn>2</mml:mn></mml:mfrac></mml:mstyle></mml:mrow></mml:msup><mml:mover accent="true"><mml:mi>A</mml:mi><mml:mo stretchy="false">&#x002dc;</mml:mo></mml:mover><mml:msup><mml:mover accent="true"><mml:mi>D</mml:mi><mml:mo stretchy="false">&#x002dc;</mml:mo></mml:mover><mml:mrow><mml:mo>&#x02212;</mml:mo><mml:mstyle scriptlevel="0" displaystyle="true"><mml:mfrac><mml:mn>1</mml:mn><mml:mn>2</mml:mn></mml:mfrac></mml:mstyle></mml:mrow></mml:msup><mml:mi>X</mml:mi><mml:mi>W</mml:mi></mml:mfenced></mml:mrow></mml:mrow></mml:math></disp-formula>
where <inline-formula><mml:math id="mm106" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>&#x003c3;</mml:mi><mml:mo stretchy="false">(</mml:mo><mml:mo>&#x02022;</mml:mo><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:mrow></mml:math></inline-formula> represents the activation function, and <italic toggle="yes">W</italic> is the trainable parameters. <inline-formula><mml:math id="mm107" overflow="scroll"><mml:mrow><mml:mrow><mml:msup><mml:mover accent="true"><mml:mi>D</mml:mi><mml:mo stretchy="false">&#x002dc;</mml:mo></mml:mover><mml:mrow><mml:mo>&#x02212;</mml:mo><mml:mstyle scriptlevel="0" displaystyle="true"><mml:mfrac><mml:mn>1</mml:mn><mml:mn>2</mml:mn></mml:mfrac></mml:mstyle></mml:mrow></mml:msup><mml:mover accent="true"><mml:mi>A</mml:mi><mml:mo stretchy="false">&#x002dc;</mml:mo></mml:mover><mml:msup><mml:mover accent="true"><mml:mi>D</mml:mi><mml:mo stretchy="false">&#x002dc;</mml:mo></mml:mover><mml:mrow><mml:mo>&#x02212;</mml:mo><mml:mstyle scriptlevel="0" displaystyle="true"><mml:mfrac><mml:mn>1</mml:mn><mml:mn>2</mml:mn></mml:mfrac></mml:mstyle></mml:mrow></mml:msup></mml:mrow></mml:mrow></mml:math></inline-formula> is the approximated graph convolution filter that is similar to the Convolutional Neural Network (CNN). <inline-formula><mml:math id="mm108" overflow="scroll"><mml:mrow><mml:mover accent="true"><mml:mi>D</mml:mi><mml:mo stretchy="false">&#x002dc;</mml:mo></mml:mover></mml:mrow></mml:math></inline-formula> represents the degree matrix, and <inline-formula><mml:math id="mm109" overflow="scroll"><mml:mrow><mml:mrow><mml:msub><mml:mover accent="true"><mml:mi>D</mml:mi><mml:mo stretchy="false">&#x002dc;</mml:mo></mml:mover><mml:mrow><mml:mi>i</mml:mi><mml:mi>i</mml:mi></mml:mrow></mml:msub><mml:mo>=</mml:mo><mml:msub><mml:mo>&#x02211;</mml:mo><mml:mi>j</mml:mi></mml:msub><mml:msub><mml:mover accent="true"><mml:mi>A</mml:mi><mml:mo stretchy="false">&#x002dc;</mml:mo></mml:mover><mml:mrow><mml:mi>i</mml:mi><mml:mi>j</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mrow></mml:math></inline-formula>; <inline-formula><mml:math id="mm110" overflow="scroll"><mml:mrow><mml:mrow><mml:mover accent="true"><mml:mi>A</mml:mi><mml:mo stretchy="false">&#x002dc;</mml:mo></mml:mover><mml:mo>=</mml:mo><mml:mi>A</mml:mi><mml:mo>+</mml:mo><mml:mo>&#x02227;</mml:mo></mml:mrow></mml:mrow></mml:math></inline-formula> is the adjacency matrix of the LEO satellite network with added self-connections using a renormalization trick, where &#x02227; is the identity matrix.</p></sec><sec id="sec4dot2dot2-sensors-25-01232"><title>4.2.2. Obtaining State Space and Action Distribution</title><p>The above embedding process can be thought of as converting the original feature <inline-formula><mml:math id="mm111" overflow="scroll"><mml:mrow><mml:mi>&#x003bc;</mml:mi></mml:mrow></mml:math></inline-formula> of each network node into an embedding <inline-formula><mml:math id="mm112" overflow="scroll"><mml:mrow><mml:mrow><mml:msup><mml:mi>&#x003bc;</mml:mi><mml:mo>&#x02032;</mml:mo></mml:msup></mml:mrow></mml:mrow></mml:math></inline-formula> using the GNN. When making a routing decision, we only need to consider selecting an optimal next-hop node based on the states of the current network node and its neighbor nodes. In order to reduce the dimensionality of the state space, we consider using the degree of similarity between the current node and its neighbor nodes as the current effective state space. After applying the GNN, the embedding of the current node <inline-formula><mml:math id="mm113" overflow="scroll"><mml:mrow><mml:msub><mml:mi>H</mml:mi><mml:mi>c</mml:mi></mml:msub></mml:mrow></mml:math></inline-formula> and the embedding of its neighboring nodes <inline-formula><mml:math id="mm114" overflow="scroll"><mml:mrow><mml:msub><mml:mi>H</mml:mi><mml:mi>n</mml:mi></mml:msub></mml:mrow></mml:math></inline-formula> are transformed in their dimensions using <inline-formula><mml:math id="mm115" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>M</mml:mi><mml:mi>L</mml:mi><mml:msub><mml:mi>P</mml:mi><mml:mi>f</mml:mi></mml:msub></mml:mrow></mml:mrow></mml:math></inline-formula> and <inline-formula><mml:math id="mm116" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>M</mml:mi><mml:mi>L</mml:mi><mml:msub><mml:mi>P</mml:mi><mml:mi>g</mml:mi></mml:msub></mml:mrow></mml:mrow></mml:math></inline-formula>, respectively, after which the inner product of these node embeddings is computed and expanded to be consistent with the dimensions of the states defined earlier in the paper to obtain the current desired effective state, as follows:<disp-formula id="FD21-sensors-25-01232"><label>(21)</label><mml:math id="mm117" display="block" overflow="scroll"><mml:mrow><mml:mtable displaystyle="true"><mml:mtr><mml:mtd><mml:mrow><mml:msubsup><mml:mi>H</mml:mi><mml:mi>c</mml:mi><mml:mo>&#x02032;</mml:mo></mml:msubsup><mml:mo>=</mml:mo><mml:mi>M</mml:mi><mml:mi>L</mml:mi><mml:msub><mml:mi>P</mml:mi><mml:mi>f</mml:mi></mml:msub><mml:mrow><mml:mo>[</mml:mo><mml:msub><mml:mi>H</mml:mi><mml:mi>c</mml:mi></mml:msub><mml:mo>]</mml:mo></mml:mrow><mml:mo>=</mml:mo><mml:msub><mml:mi>W</mml:mi><mml:mi>f</mml:mi></mml:msub><mml:mo>&#x000b7;</mml:mo><mml:msub><mml:mi>H</mml:mi><mml:mi>c</mml:mi></mml:msub><mml:mo>+</mml:mo><mml:msub><mml:mi>b</mml:mi><mml:mi>f</mml:mi></mml:msub></mml:mrow></mml:mtd></mml:mtr></mml:mtable></mml:mrow></mml:math></disp-formula><disp-formula id="FD22-sensors-25-01232"><label>(22)</label><mml:math id="mm118" display="block" overflow="scroll"><mml:mrow><mml:mtable displaystyle="true"><mml:mtr><mml:mtd><mml:mrow><mml:msubsup><mml:mi>H</mml:mi><mml:mi>n</mml:mi><mml:mo>&#x02032;</mml:mo></mml:msubsup><mml:mo>=</mml:mo><mml:mi>M</mml:mi><mml:mi>L</mml:mi><mml:msub><mml:mi>P</mml:mi><mml:mi>g</mml:mi></mml:msub><mml:mrow><mml:mo>[</mml:mo><mml:msub><mml:mi>H</mml:mi><mml:mi>n</mml:mi></mml:msub><mml:mo>]</mml:mo></mml:mrow><mml:mo>=</mml:mo><mml:msub><mml:mi>W</mml:mi><mml:mi>g</mml:mi></mml:msub><mml:mo>&#x000b7;</mml:mo><mml:msub><mml:mi>H</mml:mi><mml:mi>n</mml:mi></mml:msub><mml:mo>+</mml:mo><mml:msub><mml:mi>b</mml:mi><mml:mi>g</mml:mi></mml:msub></mml:mrow></mml:mtd></mml:mtr></mml:mtable></mml:mrow></mml:math></disp-formula><disp-formula id="FD23-sensors-25-01232"><label>(23)</label><mml:math id="mm119" display="block" overflow="scroll"><mml:mrow><mml:mtable displaystyle="true"><mml:mtr><mml:mtd><mml:mrow><mml:msubsup><mml:mi>S</mml:mi><mml:mi>t</mml:mi><mml:mo>&#x02032;</mml:mo></mml:msubsup><mml:mo>=</mml:mo><mml:msubsup><mml:mo>&#x02211;</mml:mo><mml:mrow><mml:mi>j</mml:mi><mml:mo>=</mml:mo><mml:mn>1</mml:mn></mml:mrow><mml:msub><mml:mi>N</mml:mi><mml:mi>f</mml:mi></mml:msub></mml:msubsup><mml:msubsup><mml:mo>&#x02211;</mml:mo><mml:mrow><mml:mi>i</mml:mi><mml:mo>=</mml:mo><mml:mn>1</mml:mn></mml:mrow><mml:mrow><mml:mo form="prefix">dim</mml:mo><mml:mo stretchy="false">(</mml:mo><mml:mi>G</mml:mi><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:msubsup><mml:msubsup><mml:mi>H</mml:mi><mml:mi>c</mml:mi><mml:mo>&#x02032;</mml:mo></mml:msubsup><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:mi>j</mml:mi><mml:mo stretchy="false">)</mml:mo></mml:mrow><mml:mo>&#x000b7;</mml:mo><mml:msubsup><mml:mi>H</mml:mi><mml:mrow><mml:mi>n</mml:mi><mml:mo>,</mml:mo><mml:mi>i</mml:mi></mml:mrow><mml:mo>&#x02032;</mml:mo></mml:msubsup><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:mi>j</mml:mi><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:mrow></mml:mtd></mml:mtr></mml:mtable></mml:mrow></mml:math></disp-formula><disp-formula id="FD24-sensors-25-01232"><label>(24)</label><mml:math id="mm120" display="block" overflow="scroll"><mml:mrow><mml:mtable displaystyle="true"><mml:mtr><mml:mtd><mml:mrow><mml:msub><mml:mi>S</mml:mi><mml:mi>t</mml:mi></mml:msub><mml:mo>=</mml:mo><mml:mrow><mml:mo>[</mml:mo><mml:msubsup><mml:mi>S</mml:mi><mml:mi>t</mml:mi><mml:mo>&#x02032;</mml:mo></mml:msubsup><mml:mo>,</mml:mo><mml:mn>0</mml:mn><mml:mo>,</mml:mo><mml:mo>&#x022ef;</mml:mo><mml:mo>,</mml:mo><mml:mn>0</mml:mn><mml:mo>]</mml:mo></mml:mrow></mml:mrow></mml:mtd></mml:mtr></mml:mtable></mml:mrow></mml:math></disp-formula></p><p>The above process allows states with different numbers of neighboring nodes to be transformed into valid states with uniform dimensions.</p></sec><sec id="sec4dot2dot3-sensors-25-01232"><title>4.2.3. Routing Decision</title><p>DRL can solve MDPs by learning long-term strategies that maximize the objective function in an optimization problem. Specifically, the agent learns the optimal policy <inline-formula><mml:math id="mm121" overflow="scroll"><mml:mrow><mml:mrow><mml:msub><mml:mi>&#x003c0;</mml:mi><mml:mi>&#x003c9;</mml:mi></mml:msub><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:msub><mml:mi>a</mml:mi><mml:mi>t</mml:mi></mml:msub><mml:mo>&#x02223;</mml:mo><mml:msub><mml:mi>S</mml:mi><mml:mi>t</mml:mi></mml:msub><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:mrow></mml:mrow></mml:math></inline-formula> through an iterative process that continuously explores the state and action space and is guided by a reward function. In this paper, our decision-making process involves the agent finding all the neighbor nodes of the current node <italic toggle="yes">v</italic>, generating feature vectors for each case, and inputting them into the GNN. Then, based on the processing results of the GNN, it makes the final routing decision, i.e., the selection of the next-hop forwarding neighbor, using the policy learned from the policy network. In the action selection phase, all path options that violate the SFC order are directly blocked. Based on the objectives of this paper, we designed the corresponding policy network.</p><p>For each feasible action <inline-formula><mml:math id="mm122" overflow="scroll"><mml:mrow><mml:mrow><mml:msub><mml:mi>a</mml:mi><mml:mi>t</mml:mi></mml:msub><mml:mo>&#x02208;</mml:mo><mml:msub><mml:mi>A</mml:mi><mml:mi>t</mml:mi></mml:msub></mml:mrow></mml:mrow></mml:math></inline-formula> at step <italic toggle="yes">t</italic>, the effective state values after the inner product of its state embedding and the state embeddings of its neighboring nodes are sent to the policy network to obtain the index of the distribution in which it is selected in state <inline-formula><mml:math id="mm123" overflow="scroll"><mml:mrow><mml:msub><mml:mi>S</mml:mi><mml:mi>t</mml:mi></mml:msub></mml:mrow></mml:math></inline-formula> as follows:<disp-formula id="FD25-sensors-25-01232"><label>(25)</label><mml:math id="mm124" display="block" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>P</mml:mi><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:msub><mml:mi>a</mml:mi><mml:mi>t</mml:mi></mml:msub><mml:mo>,</mml:mo><mml:msub><mml:mi>S</mml:mi><mml:mi>t</mml:mi></mml:msub><mml:mo stretchy="false">)</mml:mo></mml:mrow><mml:mo>=</mml:mo><mml:mi>M</mml:mi><mml:mi>L</mml:mi><mml:msub><mml:mi>P</mml:mi><mml:mi>&#x003c9;</mml:mi></mml:msub><mml:mrow><mml:mo>[</mml:mo><mml:msub><mml:mi>S</mml:mi><mml:mi>t</mml:mi></mml:msub><mml:mo>]</mml:mo></mml:mrow></mml:mrow></mml:mrow></mml:math></disp-formula>
where <inline-formula><mml:math id="mm125" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>M</mml:mi><mml:mi>L</mml:mi><mml:msub><mml:mi>P</mml:mi><mml:mi>&#x003c9;</mml:mi></mml:msub></mml:mrow></mml:mrow></mml:math></inline-formula> has three hidden layers and a ReLu activation layer. The probability of selecting each <inline-formula><mml:math id="mm126" overflow="scroll"><mml:mrow><mml:msub><mml:mi>a</mml:mi><mml:mi>t</mml:mi></mml:msub></mml:mrow></mml:math></inline-formula> is then calculated by applying softmax to all <inline-formula><mml:math id="mm127" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>P</mml:mi><mml:mo stretchy="false">(</mml:mo><mml:msub><mml:mi>a</mml:mi><mml:mi>t</mml:mi></mml:msub><mml:mo>,</mml:mo><mml:msub><mml:mi>S</mml:mi><mml:mi>t</mml:mi></mml:msub><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:mrow></mml:math></inline-formula>:<disp-formula id="FD26-sensors-25-01232"><label>(26)</label><mml:math id="mm128" display="block" overflow="scroll"><mml:mrow><mml:mrow><mml:msub><mml:mi>&#x003c0;</mml:mi><mml:mi>&#x003c9;</mml:mi></mml:msub><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:msub><mml:mi>a</mml:mi><mml:mi>t</mml:mi></mml:msub><mml:mo>&#x02223;</mml:mo><mml:msub><mml:mi>S</mml:mi><mml:mi>t</mml:mi></mml:msub><mml:mo stretchy="false">)</mml:mo></mml:mrow><mml:mo>=</mml:mo><mml:mstyle scriptlevel="0" displaystyle="true"><mml:mfrac><mml:mrow><mml:mi>e</mml:mi><mml:mi>x</mml:mi><mml:mi>p</mml:mi><mml:mo stretchy="false">(</mml:mo><mml:mi>P</mml:mi><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:msub><mml:mi>a</mml:mi><mml:mi>t</mml:mi></mml:msub><mml:mo>,</mml:mo><mml:msub><mml:mi>S</mml:mi><mml:mi>t</mml:mi></mml:msub><mml:mo stretchy="false">)</mml:mo></mml:mrow><mml:mo stretchy="false">)</mml:mo></mml:mrow><mml:mrow><mml:msub><mml:mo>&#x02211;</mml:mo><mml:msubsup><mml:mi>a</mml:mi><mml:mi>t</mml:mi><mml:mo>&#x02032;</mml:mo></mml:msubsup></mml:msub><mml:mi>P</mml:mi><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:msubsup><mml:mi>a</mml:mi><mml:mi>t</mml:mi><mml:mo>&#x02032;</mml:mo></mml:msubsup><mml:mo>,</mml:mo><mml:msub><mml:mi>S</mml:mi><mml:mi>t</mml:mi></mml:msub><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:mrow></mml:mfrac></mml:mstyle><mml:mo>,</mml:mo><mml:mo>&#x02200;</mml:mo><mml:msub><mml:mi>a</mml:mi><mml:mi>t</mml:mi></mml:msub><mml:mo>&#x02208;</mml:mo><mml:msub><mml:mi>A</mml:mi><mml:mi>t</mml:mi></mml:msub></mml:mrow></mml:mrow></mml:math></disp-formula></p><p>During training, actions should be sampled according to the policy to explore. There are typically two strategies for solving a given instance using a trained strategy <inline-formula><mml:math id="mm129" overflow="scroll"><mml:mrow><mml:msub><mml:mi>&#x003c0;</mml:mi><mml:mi>&#x003c9;</mml:mi></mml:msub></mml:mrow></mml:math></inline-formula>, including greedily selecting the actions with a maximum probability and sampling the actions that follow <inline-formula><mml:math id="mm130" overflow="scroll"><mml:mrow><mml:msub><mml:mi>&#x003c0;</mml:mi><mml:mi>&#x003c9;</mml:mi></mml:msub></mml:mrow></mml:math></inline-formula> in each state. Unlike the greedy strategy, the random sampling strategy may provide a different solution for each run, which provides an additional possibility to find a better solution. Therefore, this paper adopts the random sampling strategy.</p></sec></sec><sec id="sec4dot3-sensors-25-01232"><title>4.3. DRL-SFCR Training Algorithm</title><p>In the experiments in this paper, GDRL-SFCR adopts a centralized training architecture, where the training nodes are located at the logical center node where the centralized network controller is located. This is mainly because the GNN needs to integrate network topology, node state, and link load information to generate a global graph representation, and a centralized architecture facilitates real-time access to network data. In addition, centralized training ensures that all nodes execute the same policy version and avoids decision conflicts caused by unsynchronized policies in distributed training. The training data are obtained from the full network topology at a fixed period.</p><p>This paper uses PPO [<xref rid="B50-sensors-25-01232" ref-type="bibr">50</xref>] for training, which employs an actor&#x02013;critic structure. The actor is the policy network <inline-formula><mml:math id="mm131" overflow="scroll"><mml:mrow><mml:msub><mml:mi>&#x003c0;</mml:mi><mml:mi>&#x003c9;</mml:mi></mml:msub></mml:mrow></mml:math></inline-formula>, and the critic is the value network <inline-formula><mml:math id="mm132" overflow="scroll"><mml:mrow><mml:msub><mml:mi>&#x003c0;</mml:mi><mml:mi>&#x003c6;</mml:mi></mml:msub></mml:mrow></mml:math></inline-formula> used to predict the value of state st. In this paper, we design the critic as an MLP, which inputs the computed state to obtain <inline-formula><mml:math id="mm133" overflow="scroll"><mml:mrow><mml:mrow><mml:msub><mml:mi>v</mml:mi><mml:mi>&#x003c6;</mml:mi></mml:msub><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:msub><mml:mi>s</mml:mi><mml:mi>t</mml:mi></mml:msub><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:mrow></mml:mrow></mml:math></inline-formula>. <inline-formula><mml:math id="mm134" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>M</mml:mi><mml:mi>L</mml:mi><mml:msub><mml:mi>P</mml:mi><mml:mi>&#x003c0;</mml:mi></mml:msub></mml:mrow></mml:mrow></mml:math></inline-formula> and <inline-formula><mml:math id="mm135" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>M</mml:mi><mml:mi>L</mml:mi><mml:msub><mml:mi>P</mml:mi><mml:mi>&#x003c6;</mml:mi></mml:msub></mml:mrow></mml:mrow></mml:math></inline-formula> have the same structure, with two d1 dimensions and a tanh-activated hidden layer, but with different parameter <inline-formula><mml:math id="mm136" overflow="scroll"><mml:mrow><mml:mi>&#x003c6;</mml:mi></mml:mrow></mml:math></inline-formula> and input dimensions. The routing agent is trained as shown in Algorithm &#x000a0;1 with <inline-formula><mml:math id="mm137" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>m</mml:mi><mml:mi>a</mml:mi><mml:mi>x</mml:mi><mml:mo>_</mml:mo><mml:mi>e</mml:mi><mml:mi>p</mml:mi><mml:mi>i</mml:mi><mml:mi>s</mml:mi><mml:mi>o</mml:mi><mml:mi>d</mml:mi><mml:mi>e</mml:mi></mml:mrow></mml:mrow></mml:math></inline-formula> training iterations, during which the DRL agent first initializes the environment and obtains the node embeddings of the current network using the GNN, followed by using the MLP to obtain the features of the current node and its surrounding neighboring nodes and calculating their inner product as the input state <inline-formula><mml:math id="mm138" overflow="scroll"><mml:mrow><mml:msub><mml:mi>S</mml:mi><mml:mi>t</mml:mi></mml:msub></mml:mrow></mml:math></inline-formula>. With this information as input, the actor network generates actions <inline-formula><mml:math id="mm139" overflow="scroll"><mml:mrow><mml:msub><mml:mi>a</mml:mi><mml:mi>t</mml:mi></mml:msub></mml:mrow></mml:math></inline-formula>. The environment computes the reward and the next state <inline-formula><mml:math id="mm140" overflow="scroll"><mml:mrow><mml:msub><mml:mi>S</mml:mi><mml:mrow><mml:mi>t</mml:mi><mml:mo>+</mml:mo><mml:mn>1</mml:mn></mml:mrow></mml:msub></mml:mrow></mml:math></inline-formula> based on the current action a1, obtains this information, saves it in the cache queue, uses MSE to compute the loss, and uses the Adam optimizer to optimize the network parameters. The policy is validated in a new environment every five iterations during the training period.
<array><tbody><tr><td align="left" valign="middle" style="border-top:solid thin;border-bottom:solid thin" rowspan="1" colspan="1"><bold>Algorithm 1</bold>&#x000a0;GDRL-SFC training algorithm</td></tr><tr><td align="left" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1"><bold>Input:</bold>&#x000a0;<italic toggle="yes">GNN network, policy network and critic network</italic><break/><bold>Output:</bold>&#x000a0;Some parameters
<list list-type="simple"><list-item><label>&#x000a0;1:</label><p>Initialize actor network and critic network.</p></list-item><list-item><label>&#x000a0;2:</label><p><bold>for</bold>&#x000a0;
<inline-formula><mml:math id="mm141" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>s</mml:mi><mml:mi>t</mml:mi><mml:mi>e</mml:mi><mml:mi>p</mml:mi><mml:mo>=</mml:mo><mml:mn>1</mml:mn><mml:mo>,</mml:mo><mml:mn>2</mml:mn><mml:mo>,</mml:mo><mml:mo>&#x022ef;</mml:mo><mml:mo>,</mml:mo><mml:mi>m</mml:mi><mml:mi>a</mml:mi><mml:mi>x</mml:mi><mml:mo>_</mml:mo><mml:mi>s</mml:mi><mml:mi>t</mml:mi><mml:mi>e</mml:mi><mml:mi>p</mml:mi></mml:mrow></mml:mrow></mml:math></inline-formula>&#x000a0;
<bold>do</bold></p></list-item><list-item><label>&#x000a0;3:</label><p>&#x000a0;&#x000a0;&#x000a0;&#x000a0;Initialize env, memory buffer;</p></list-item><list-item><label>&#x000a0;4:</label><p>&#x000a0;&#x000a0;&#x000a0;&#x000a0;<bold>while</bold> not Done <bold>do</bold></p></list-item><list-item><label>&#x000a0;5:</label><p>&#x000a0;&#x000a0;&#x000a0;&#x000a0;&#x000a0;&#x000a0;&#x000a0;&#x000a0;Extract node embeddings using GNN;</p></list-item><list-item><label>&#x000a0;6:</label><p>&#x000a0;&#x000a0;&#x000a0;&#x000a0;&#x000a0;&#x000a0;&#x000a0;&#x000a0;Get the valid state <inline-formula><mml:math id="mm142" overflow="scroll"><mml:mrow><mml:msub><mml:mi>s</mml:mi><mml:mi>t</mml:mi></mml:msub></mml:mrow></mml:math></inline-formula> use <inline-formula><mml:math id="mm143" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>M</mml:mi><mml:mi>L</mml:mi><mml:mi>P</mml:mi></mml:mrow></mml:mrow></mml:math></inline-formula>;</p></list-item><list-item><label>&#x000a0;7:</label><p>&#x000a0;&#x000a0;&#x000a0;&#x000a0;&#x000a0;&#x000a0;&#x000a0;&#x000a0;Actor network sample action <inline-formula><mml:math id="mm144" overflow="scroll"><mml:mrow><mml:msub><mml:mi>a</mml:mi><mml:mi>t</mml:mi></mml:msub></mml:mrow></mml:math></inline-formula>;</p></list-item><list-item><label>&#x000a0;8:</label><p>&#x000a0;&#x000a0;&#x000a0;&#x000a0;&#x000a0;&#x000a0;&#x000a0;&#x000a0;Calculate the reward <inline-formula><mml:math id="mm145" overflow="scroll"><mml:mrow><mml:msub><mml:mi>r</mml:mi><mml:mi>t</mml:mi></mml:msub></mml:mrow></mml:math></inline-formula> and receive next state <inline-formula><mml:math id="mm146" overflow="scroll"><mml:mrow><mml:msub><mml:mi>s</mml:mi><mml:mrow><mml:mi>t</mml:mi><mml:mo>+</mml:mo><mml:mn>1</mml:mn></mml:mrow></mml:msub></mml:mrow></mml:math></inline-formula>;</p></list-item><list-item><label>&#x000a0;9:</label><p>&#x000a0;&#x000a0;&#x000a0;&#x000a0;&#x000a0;&#x000a0;&#x000a0;&#x000a0;Store the current experience in the memory buffer.</p></list-item><list-item><label>10:</label><p>&#x000a0;&#x000a0;&#x000a0;&#x000a0;&#x000a0;&#x000a0;&#x000a0;&#x000a0;Update <inline-formula><mml:math id="mm147" overflow="scroll"><mml:mrow><mml:msub><mml:mi>s</mml:mi><mml:mi>t</mml:mi></mml:msub></mml:mrow></mml:math></inline-formula> = <inline-formula><mml:math id="mm148" overflow="scroll"><mml:mrow><mml:msub><mml:mi>s</mml:mi><mml:mrow><mml:mi>t</mml:mi><mml:mo>+</mml:mo><mml:mn>1</mml:mn></mml:mrow></mml:msub></mml:mrow></mml:math></inline-formula></p></list-item><list-item><label>11:</label><p>&#x000a0;&#x000a0;&#x000a0;&#x000a0;<bold>end while</bold></p></list-item><list-item><label>12:</label><p>&#x000a0;&#x000a0;&#x000a0;&#x000a0;Sample a batch from the memory buffer.</p></list-item><list-item><label>13:</label><p>&#x000a0;&#x000a0;&#x000a0;&#x000a0;Compute loss <inline-formula><mml:math id="mm149" overflow="scroll"><mml:mrow><mml:mi mathvariant="script">L</mml:mi></mml:mrow></mml:math></inline-formula>, and optimize the parameters;</p></list-item><list-item><label>14:</label><p>&#x000a0;&#x000a0;&#x000a0;&#x000a0;Update network parameters;</p></list-item><list-item><label>15:</label><p>&#x000a0;&#x000a0;&#x000a0;&#x000a0;<bold>if</bold> Done <bold>then</bold></p></list-item><list-item><label>16:</label><p>&#x000a0;&#x000a0;&#x000a0;&#x000a0;&#x000a0;&#x000a0;&#x000a0;&#x000a0;Break;</p></list-item><list-item><label>17:</label><p>&#x000a0;&#x000a0;&#x000a0;&#x000a0;<bold>end if</bold></p></list-item><list-item><label>18:</label><p>&#x000a0;&#x000a0;&#x000a0;&#x000a0;<bold>if</bold>&#x000a0;<inline-formula><mml:math id="mm150" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>t</mml:mi><mml:mspace width="3.33333pt"/><mml:mo form="prefix">mod</mml:mo><mml:mspace width="0.277778em"/><mml:mn>5</mml:mn><mml:mo>=</mml:mo><mml:mo>=</mml:mo><mml:mn>0</mml:mn></mml:mrow></mml:mrow></mml:math></inline-formula>&#x000a0;<bold>then</bold></p></list-item><list-item><label>19:</label><p>&#x000a0;&#x000a0;&#x000a0;&#x000a0;&#x000a0;&#x000a0;&#x000a0;&#x000a0;Test the policy;</p></list-item><list-item><label>20:</label><p>&#x000a0;&#x000a0;&#x000a0;&#x000a0;<bold>end if</bold></p></list-item><list-item><label>21:</label><p><bold>end forreturn</bold>;</p></list-item></list></td></tr></tbody></array></p><p>Although GDRL-SFCR performs well in end-to-end routing decision optimization, its computational cost still needs to be considered. (a) GNN message passing overhead: the time complexity of node embedding updates is <inline-formula><mml:math id="mm151" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>O</mml:mi><mml:mo stretchy="false">(</mml:mo><mml:msup><mml:mi>N</mml:mi><mml:mn>2</mml:mn></mml:msup><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:mrow></mml:math></inline-formula>, where N is the number of network nodes. (b) The agent needs to interact with the environment a great deal in order to converge on the routing decision policy.</p><p>Considering the traffic problem that may be caused by the large-scale features of the nodes in the LEO-MSN network, the solution proposed in this paper involves a series of optimizations, which include the following. (a) Reducing the dimensionality of the nodes&#x02019; features: in this paper, the GNN adopts 32-dimensional node features and combines them with 8-bit quantization. The single node feature packet is reduced from 512 KB to 256 KB. (b) DRL model lightweighting: the DRL strategy network fuses GNN-MLP features, and it is trained with 16-bit mixed precision with gradient sparsification (threshold <inline-formula><mml:math id="mm152" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>&#x003b8;</mml:mi><mml:mo>=</mml:mo><mml:mn>1</mml:mn><mml:mo>&#x000d7;</mml:mo></mml:mrow></mml:mrow></mml:math></inline-formula> 10<sup>&#x02212;5</sup>). The single model update is compressed to 154 KB, and the update frequency is adaptively adjusted to two times per hour. (c) The feature data are transmitted in bulk using the Polar Satellite with a 12-times-over-head window every day (the top of which is not exceeded by the top of the window), and the feature data are transmitted in bulk using the Polar Satellite over the top window batch transmission (8 min each time). Therefore, the total global daily communication amount is 6000 &#x000d7; (256 KB &#x000d7; 4 + 154 KB &#x000d7; 12) = 16.43 GB, and the bandwidth requirement is 16.43 &#x000d7; 8 &#x000f7; (24 &#x000d7; 3600) &#x02248; 1.55 Mbps. This value is significantly lower than the earth station uplink capacity (&#x0003e;10 Mbps), proving that the scheme is feasible.</p></sec></sec><sec id="sec5-sensors-25-01232"><title>5. Simulation and Performance Analysis</title><p>In this section, we test the performance of the proposed GDRL-SFCR method.</p><sec id="sec5dot1-sensors-25-01232"><title>5.1. Experiment Setting</title><sec id="sec5dot1dot1-sensors-25-01232"><title>5.1.1. Simulation Scenario Setting</title><p>The LEO satellite network considered in this paper consists of 6048 LEO satellites, ground stations, and user terminals. Specifically, it is a mega constellation of 6048 satellites constructed with reference to the parameters of StarLink, with 84 constellation orbits, 72 satellites uniformly distributed in each orbit, an orbital inclination of <inline-formula><mml:math id="mm153" overflow="scroll"><mml:mrow><mml:msup><mml:mn>53</mml:mn><mml:mo>&#x02218;</mml:mo></mml:msup></mml:mrow></mml:math></inline-formula>, and an orbital altitude of 550 km [<xref rid="B51-sensors-25-01232" ref-type="bibr">51</xref>]. The satellite nodes are randomly assigned the TM, gNB, and NGC functions. For the ground station, StarLink has already completed the deployment of the data [<xref rid="B52-sensors-25-01232" ref-type="bibr">52</xref>]. We constructed user terminals of different sizes based on the World Grid Population v4 dataset [<xref rid="B53-sensors-25-01232" ref-type="bibr">53</xref>]. The distribution of remote servers uses the same data as the Starlink ground station, and the source node is randomly chosen from one of the user terminals, while the destination node is randomly chosen from the remote servers. The data flow size is in the range of [5, 100] Mb and satisfies the lognormal distribution. In order to verify the performance of the proposed algorithm, we conducted 1000 simulation experiments. The algorithms were implemented in Python (Version 3.13.2). The critical simulation parameters are shown in <xref rid="sensors-25-01232-t003" ref-type="table">Table 3</xref>.</p></sec><sec id="sec5dot1dot2-sensors-25-01232"><title>5.1.2. Model Parameters</title><p>In this paper, the convolutional layer of the GNN is set to <inline-formula><mml:math id="mm154" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>L</mml:mi><mml:mo>=</mml:mo><mml:mn>2</mml:mn></mml:mrow></mml:mrow></mml:math></inline-formula>, and the embedding dimension of the satellite network node is set to <inline-formula><mml:math id="mm155" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>d</mml:mi><mml:mo>=</mml:mo><mml:mn>6</mml:mn></mml:mrow></mml:mrow></mml:math></inline-formula>. For the MLP, the hidden dimension is set to <inline-formula><mml:math id="mm156" overflow="scroll"><mml:mrow><mml:mrow><mml:msub><mml:mi>d</mml:mi><mml:mi>h</mml:mi></mml:msub><mml:mo>=</mml:mo><mml:mn>64</mml:mn></mml:mrow></mml:mrow></mml:math></inline-formula> and <inline-formula><mml:math id="mm157" overflow="scroll"><mml:mrow><mml:mrow><mml:msub><mml:mi>d</mml:mi><mml:mi>&#x003c0;</mml:mi></mml:msub><mml:mo>=</mml:mo><mml:msub><mml:mi>d</mml:mi><mml:mi>&#x003d5;</mml:mi></mml:msub><mml:mo>=</mml:mo><mml:mn>4</mml:mn></mml:mrow></mml:mrow></mml:math></inline-formula>. For training, the number of training iterations and maximum number of trial sizes were set to <inline-formula><mml:math id="mm158" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>m</mml:mi><mml:mi>a</mml:mi><mml:mi>x</mml:mi><mml:mo>_</mml:mo><mml:mi>e</mml:mi><mml:mi>p</mml:mi><mml:mi>i</mml:mi><mml:mi>s</mml:mi><mml:mi>o</mml:mi><mml:mi>d</mml:mi><mml:mi>e</mml:mi><mml:mo>=</mml:mo><mml:mn>10</mml:mn><mml:mo>,</mml:mo><mml:mn>000</mml:mn></mml:mrow></mml:mrow></mml:math></inline-formula> and <inline-formula><mml:math id="mm159" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>m</mml:mi><mml:mi>a</mml:mi><mml:mi>x</mml:mi><mml:mo>_</mml:mo><mml:mi>s</mml:mi><mml:mi>t</mml:mi><mml:mi>e</mml:mi><mml:mi>p</mml:mi><mml:mo>=</mml:mo><mml:mn>50</mml:mn></mml:mrow></mml:mrow></mml:math></inline-formula>, respectively. For the PPO loss function, the coefficients of policy loss (with a clipping ratio of 0.2), value loss, and entropy were set to 1, 0.6, and 0.02, respectively. The PPO optimization period was set to <inline-formula><mml:math id="mm160" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>R</mml:mi><mml:mo>=</mml:mo><mml:mn>3</mml:mn></mml:mrow></mml:mrow></mml:math></inline-formula>, and the discount factor was set to <inline-formula><mml:math id="mm161" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>&#x003b3;</mml:mi><mml:mo>=</mml:mo><mml:mn>1</mml:mn></mml:mrow></mml:mrow></mml:math></inline-formula>. The actor and critic networks used the Adam optimizer to update the parameters, and the learning rate was <inline-formula><mml:math id="mm162" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>l</mml:mi><mml:mi>r</mml:mi><mml:mo>=</mml:mo><mml:msup><mml:mn>10</mml:mn><mml:mrow><mml:mo>&#x02212;</mml:mo><mml:mn>4</mml:mn></mml:mrow></mml:msup></mml:mrow></mml:mrow></mml:math></inline-formula>. To solve the problem of long model training time, we used OpenRL [<xref rid="B54-sensors-25-01232" ref-type="bibr">54</xref>] to accelerate the training process. All experiments were performed using a machine equipped with an Intel i7-11700K CPU (Intel Corporation, Santa Clara, CA, USA), 32 GB of memory, an Nvidia GeForce RTX 3080 GPU (NVIDIA Corporation, Santa Clara, CA, USA), and an Ubuntu 22.04 64-bit OS.</p></sec></sec><sec sec-type="methods" id="sec5dot2-sensors-25-01232"><title>5.2. Methods of Comparison</title><p>In order to verify the effectiveness of the proposed method, we compared GDRL-SFCR with other routing methods, including the SFC-constrained augmenting path selection (SFC-APS) [<xref rid="B26-sensors-25-01232" ref-type="bibr">26</xref>] algorithm, the DQN-LBR [<xref rid="B39-sensors-25-01232" ref-type="bibr">39</xref>] algorithm, and the Deep Q-Routing (DQR) [<xref rid="B34-sensors-25-01232" ref-type="bibr">34</xref>] algorithm.</p><p>SFC-APS: SFC-APS is SFC routing method based on traditional graph theory; by joining a virtual node, the search for each sub-path satisfying the SFC constraints is carried out sequentially using a method similar to BFS.</p><p>DQN-LBR: DQN-LBR takes into consideration the queuing delay, storage space, communication bandwidth, and propagation delay of a one-hop satellite node.</p><p>DQR: DQR is a greedy online SFC routing method based on a Deep Q Network (DQN). The difference with GDRL-SFCR is that no critic network is added, and only DQN is used as a policy network for routing decisions. The DQR algorithm only considers the remaining link bandwidth of its current node to find the next-hop node without considering the state of the neighboring nodes. The neural network parameters of the DQR algorithm are set in the same way as those of the GDRL-SFCR method.</p><p>The main reason for choosing [<xref rid="B26-sensors-25-01232" ref-type="bibr">26</xref>,<xref rid="B34-sensors-25-01232" ref-type="bibr">34</xref>,<xref rid="B39-sensors-25-01232" ref-type="bibr">39</xref>] as the baseline is that [<xref rid="B26-sensors-25-01232" ref-type="bibr">26</xref>] represents the path delay and SFC constraint optimization class of methods, but it ignores load balancing, which may lead to network congestion. Ref. [<xref rid="B39-sensors-25-01232" ref-type="bibr">39</xref>] represents path delay and load balancing optimization class algorithms, but it does not consider SFC constraints and is suitable for fixed network function scenarios, and [<xref rid="B34-sensors-25-01232" ref-type="bibr">34</xref>] represents load balancing and SFC constraint optimization class methods, but it ignores delay and is suitable for high-throughput but low-delay sensitive scenarios. By comparing these typical methods, the necessity of multi-objective joint optimization of path delay and load balancing in this paper can be verified.</p></sec><sec id="sec5dot3-sensors-25-01232"><title>5.3. Evaluation Metrics</title><p>In our experiments, we compare the performance of the above three methods regarding traffic access success rate, average network load, average end-to-end path delay, network capacity, and average running time.
<list list-type="bullet"><list-item><p>Traffic access success rate: The ratio of the amount of traffic that meets the SFC constraint transmission path to the total amount of traffic can be calculated using the following formula:<disp-formula id="FD27-sensors-25-01232"><label>(27)</label><mml:math id="mm163" display="block" overflow="scroll"><mml:mrow><mml:mrow><mml:msub><mml:mi>R</mml:mi><mml:mrow><mml:mi>s</mml:mi><mml:mi>u</mml:mi><mml:mi>c</mml:mi></mml:mrow></mml:msub><mml:mo>=</mml:mo><mml:mstyle scriptlevel="0" displaystyle="true"><mml:mfrac><mml:msub><mml:mi>N</mml:mi><mml:mrow><mml:mi>S</mml:mi><mml:mi>F</mml:mi><mml:mi>C</mml:mi></mml:mrow></mml:msub><mml:msub><mml:mi>N</mml:mi><mml:mrow><mml:mi>t</mml:mi><mml:mi>o</mml:mi><mml:mi>t</mml:mi><mml:mi>a</mml:mi><mml:mi>l</mml:mi></mml:mrow></mml:msub></mml:mfrac></mml:mstyle></mml:mrow></mml:mrow></mml:math></disp-formula>
where <inline-formula><mml:math id="mm164" overflow="scroll"><mml:mrow><mml:msub><mml:mi>N</mml:mi><mml:mrow><mml:mi>S</mml:mi><mml:mi>F</mml:mi><mml:mi>C</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:math></inline-formula> represents the amount of traffic that meets the SFC constraint transmission path, and <inline-formula><mml:math id="mm165" overflow="scroll"><mml:mrow><mml:msub><mml:mi>N</mml:mi><mml:mrow><mml:mi>t</mml:mi><mml:mi>o</mml:mi><mml:mi>t</mml:mi><mml:mi>a</mml:mi><mml:mi>l</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:math></inline-formula> represents the total amount of traffic.</p></list-item><list-item><p>Average network load: The load average of all satellite and ground station nodes.</p></list-item><list-item><p>Average end-to-end path delay: The average delay of all transmission paths that meet the SFC constraint.</p></list-item><list-item><p>Network capacity: The sum of the service rates of all transmission paths that meet the SFC constraints.</p></list-item><list-item><p>Average running time: The ratio of the time it takes for the algorithm to complete the calculation of all traffic transmission paths to the total amount of traffic.</p></list-item></list></p></sec><sec sec-type="results" id="sec5dot4-sensors-25-01232"><title>5.4. Results and Analysis</title><p>First, we analyzed the proposed method&#x02019;s service access success rate performance. <xref rid="sensors-25-01232-f003" ref-type="fig">Figure 3</xref> demonstrates the relationship between service access success rate and the number of functional constraints for different scales. As the number of function constraints increases, the access success rates of all algorithms decrease. The reason is that the increase in the number of functions in the SFC brings more constraints; thus, the number of paths satisfying the SFC constraints decreases.</p><p>In addition, as the number of data flows increases, the access success rates of all the algorithms also decrease. The reason is that the larger the data flow scale is, the greater the probability of collision during access, and the fewer the paths that satisfy the SFC conditions. Moreover, it is observed that the algorithms proposed in this paper significantly outperform the DQN-LBR, DQR and SFC-APS algorithms, and the access success rate is improved by more than 19.1%. The reason is that the SFC-APS method involves rule-based local optimization, which makes it difficult to balance global objectives in complex tasks; the DQR method does not explicitly utilize the topological relationships of graph structures, which leads to slow training of decision networks; and the DQN-LBR approach does not consider SFC constraints, which leads to some data flows failing to satisfy their SFC constraints.</p><p>Next, we analyzed the network average load performance of the proposed algorithm. <xref rid="sensors-25-01232-f004" ref-type="fig">Figure 4</xref> shows the satellite node and ground station node average network load value with different numbers of data flows and different numbers of functional constraints. The performance of the algorithm proposed in this paper and DQN-LBR is better than that of the DQR and SFC-APS algorithms. The load decreased by more than 14.1%. The reason is that the DQR and SFC-APS methods did not consider the load of the network nodes and only used a path length similar to that of BFS as a search constraint, resulting in some nodes being fully loaded early.</p><p>Then, we analyzed the path delay performance of the proposed algorithm. <xref rid="sensors-25-01232-f005" ref-type="fig">Figure 5</xref> shows the average path delay under different numbers of data flows and numbers of function constraints. As seen in <xref rid="sensors-25-01232-f005" ref-type="fig">Figure 5</xref>, the path delay of the GDRL-SFCR algorithm is lower than other algorithms. As the number of functional constraints increases, the path delays of all the algorithms increase. However, compared to the other algorithms, the delay of the GDRL-SFCR algorithm is reduced by more than 11.3%. The reason is that the other algorithms do not consider network loading and are not sufficiently adaptive to the dynamic environment of the mega-constellation networks. When the nodes are fully loaded, the length of the searched paths that satisfy the SFC constraints increases, and the delay increases.</p><p>We also analyzed the network capacity performance of the proposed algorithm. <xref rid="sensors-25-01232-f006" ref-type="fig">Figure 6</xref> shows the network capacity under different numbers of data flows and numbers of function constraints. The network capacity performance of the algorithm proposed in this paper is significantly better than that of the other algorithms. The reason is that the other algorithms do not consider the joint optimization of network load and path delay in decision making, while the GDRL-SFCR method considers the optimization of the network load, which effectively reduces the network load and increases the network capacity.</p><p>We also analyzed the impact of the weights on the objectives of this paper, and we tested the delay <italic toggle="yes">D</italic>, load variance <italic toggle="yes">L</italic>, and comprehensive KPI for <inline-formula><mml:math id="mm166" overflow="scroll"><mml:mrow><mml:mrow><mml:msub><mml:mi>&#x003b8;</mml:mi><mml:mn>1</mml:mn></mml:msub><mml:mo>&#x02208;</mml:mo><mml:mrow><mml:mo>[</mml:mo><mml:mn>0.1</mml:mn><mml:mo>,</mml:mo><mml:mn>0.9</mml:mn><mml:mo>]</mml:mo></mml:mrow></mml:mrow></mml:mrow></mml:math></inline-formula> (step 0.1) under the same traffic load. KPI was calculated using <inline-formula><mml:math id="mm167" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>K</mml:mi><mml:mi>P</mml:mi><mml:mi>I</mml:mi><mml:mo>=</mml:mo><mml:mstyle scriptlevel="0" displaystyle="true"><mml:mfrac><mml:mn>1</mml:mn><mml:mrow><mml:mi>D</mml:mi><mml:mi>e</mml:mi><mml:mi>l</mml:mi><mml:mi>a</mml:mi><mml:mi>y</mml:mi><mml:mo>/</mml:mo><mml:mi>D</mml:mi><mml:mi>e</mml:mi><mml:mi>l</mml:mi><mml:mi>a</mml:mi><mml:msub><mml:mi>y</mml:mi><mml:mrow><mml:mi>m</mml:mi><mml:mi>a</mml:mi><mml:mi>x</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfrac></mml:mstyle><mml:mo>+</mml:mo><mml:mstyle scriptlevel="0" displaystyle="true"><mml:mfrac><mml:mn>1</mml:mn><mml:mrow><mml:mi>L</mml:mi><mml:mi>o</mml:mi><mml:mi>a</mml:mi><mml:mi>d</mml:mi><mml:mo>/</mml:mo><mml:mi>L</mml:mi><mml:mi>o</mml:mi><mml:mi>a</mml:mi><mml:msub><mml:mi>d</mml:mi><mml:mrow><mml:mi>m</mml:mi><mml:mi>a</mml:mi><mml:mi>x</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfrac></mml:mstyle></mml:mrow></mml:mrow></mml:math></inline-formula>, and <inline-formula><mml:math id="mm168" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>D</mml:mi><mml:mi>e</mml:mi><mml:mi>l</mml:mi><mml:mi>a</mml:mi><mml:msub><mml:mi>y</mml:mi><mml:mrow><mml:mi>m</mml:mi><mml:mi>a</mml:mi><mml:mi>x</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mrow></mml:math></inline-formula> and <inline-formula><mml:math id="mm169" overflow="scroll"><mml:mrow><mml:mrow><mml:mi>L</mml:mi><mml:mi>o</mml:mi><mml:mi>a</mml:mi><mml:msub><mml:mi>d</mml:mi><mml:mrow><mml:mi>m</mml:mi><mml:mi>a</mml:mi><mml:mi>x</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mrow></mml:math></inline-formula> are the maximum observed values in the experiment. As can be seen from <xref rid="sensors-25-01232-f007" ref-type="fig">Figure 7</xref>, when <inline-formula><mml:math id="mm170" overflow="scroll"><mml:mrow><mml:mrow><mml:msub><mml:mi>&#x003b8;</mml:mi><mml:mn>1</mml:mn></mml:msub><mml:mo>=</mml:mo><mml:mn>0.6</mml:mn></mml:mrow></mml:mrow></mml:math></inline-formula> achieves a better balance between delay and load, and the algorithmic performance is insensitive to the change in <inline-formula><mml:math id="mm171" overflow="scroll"><mml:mrow><mml:msub><mml:mi>&#x003b8;</mml:mi><mml:mn>1</mml:mn></mml:msub></mml:mrow></mml:math></inline-formula> in the interval of <inline-formula><mml:math id="mm172" overflow="scroll"><mml:mrow><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:mn>0.5</mml:mn><mml:mo>,</mml:mo><mml:mn>0.7</mml:mn><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:mrow></mml:math></inline-formula>.</p><p>Finally, we analyzed the running time performance of all the algorithms. As can be seen from <xref rid="sensors-25-01232-f008" ref-type="fig">Figure 8</xref>, the running time of DQR is significantly higher than thate of SFC-APS and GDRL-SFCR. In addition, when there are more than 2000 data flows, the running time of DQR increases rapidly. This is because when there are more data flows, the state space and action space in the Q-table greatly increase. In this case, finding the optimal strategy based on the table becomes difficult, as it takes more time to find the optimal strategy in large networks.</p><p>Although GDRL-SFCR takes more time to train the neural network compared to DQR, after it is trained and deployed, it simply uses the trained neural network to perform inference. The main reasons for this include high computational cost due to the complexity of updating the policy and value network, prolonged execution time due to the high-dimensional state and action space, and model scalability issues as the network size increases, leading to exponential growth in resource requirements. To address these issues, we employ several mitigating measures during training: parallelizing the task using the OpenRL [<xref rid="B54-sensors-25-01232" ref-type="bibr">54</xref>] distributed computing framework, simplifying the dimensionality of the state space by using only the features of neighboring nodes, accelerating the training process by using GPUs, and employing optimization algorithms such as Adam to speed up convergence. These strategies can improve the efficiency and scalability of GDRL-SFCR and make it more suitable for large-scale applications.</p></sec></sec><sec sec-type="conclusions" id="sec6-sensors-25-01232"><title>6. Conclusions</title><p>In this paper, we propose the GDRL-SFCR method, which realizes end-to-end routing decision by jointly optimizing transmission delay and network load balancing while satisfying SFC constraints in low-orbit mega constellation satellite networks. The method models the routing process as an MDP and uses a graph neural network to transform node features and topological information in the satellite network into feature embeddings. It uses reinforcement learning to make routing decisions based on historical experience and the current network state, and it uses PPO to train agents to learn optimal routing policies. Extensive simulation results show that our proposed GDRL-SFCR algorithm outperforms other routing methods regarding end-to-end path delay, average network load, and service access success rate performance. Considering a real mega-constellation network scenario such as Starlink, the GNN module of the GDRL-SFCR method can be used to parse satellite orbit parameters and link status in real time, predict the dynamic connection windows of different satellites, and guide the DRL agent to plan low-latency paths in advance. Considering the computational and scalability challenges of the proposed method, it is possible to consider adding federated learning and lightweight model deployment strategies in the future to significantly reduce computational and communication overhead while ensuring routing in real-time. In addition, multi-agent joint learning is a promising approach to solving the routing decision problem of mega-constellation networks. In future work, we will consider using multi-agent reinforcement learning to study smarter routing algorithms.</p></sec></body><back><fn-group><fn><p><bold>Disclaimer/Publisher&#x02019;s Note:</bold> The statements, opinions and data contained in all publications are solely those of the individual author(s) and contributor(s) and not of MDPI and/or the editor(s). MDPI and/or the editor(s) disclaim responsibility for any injury to people or property resulting from any ideas, methods, instructions or products referred to in the content.</p></fn></fn-group><notes><title>Author Contributions</title><p>Methodology, Y.C. and L.W.; software, Y.C., D.C. and Z.L.; validation, Y.C., D.C. and Z.L.; writing&#x02014;original draft preparation, Y.C.; writing&#x02014;review and editing, L.W., Y.Z. and H.C.; supervision, Y.C., H.C., L.W., D.C., Z.L., Y.Z. and J.S.; funding acquisition, Y.Z. and H.C. All authors have read and agreed to the published version of the manuscript.</p></notes><notes><title>Institutional Review Board Statement</title><p>Not applicable.</p></notes><notes><title>Informed Consent Statement</title><p>Not applicable.</p></notes><notes notes-type="data-availability"><title>Data Availability Statement</title><p>The data are contained within the article.</p></notes><notes notes-type="COI-statement"><title>Conflicts of Interest</title><p>The authors declare no conflicts of interest.</p></notes><ref-list><title>References</title><ref id="B1-sensors-25-01232"><label>1.</label><element-citation publication-type="journal"><person-group person-group-type="author">
<name><surname>Gong</surname><given-names>S.</given-names></name>
<name><surname>Xing</surname><given-names>C.</given-names></name>
<name><surname>Liu</surname><given-names>H.</given-names></name>
<name><surname>Zhao</surname><given-names>X.</given-names></name>
<name><surname>Wang</surname><given-names>J.</given-names></name>
<name><surname>An</surname><given-names>J.</given-names></name>
<name><surname>Quek</surname><given-names>T.Q.</given-names></name>
</person-group><article-title>Hardware-impaired RIS-assisted mmWave hybrid systems: Beamforming design and performance analysis</article-title><source>IEEE Trans. Commun.</source><year>2023</year><volume>71</volume><fpage>2317</fpage><lpage>2334</lpage><pub-id pub-id-type="doi">10.1109/TCOMM.2023.3241328</pub-id></element-citation></ref><ref id="B2-sensors-25-01232"><label>2.</label><element-citation publication-type="journal"><person-group person-group-type="author">
<name><surname>Lin</surname><given-names>J.</given-names></name>
<name><surname>Wang</surname><given-names>G.</given-names></name>
<name><surname>Atapattu</surname><given-names>S.</given-names></name>
<name><surname>He</surname><given-names>R.</given-names></name>
<name><surname>Yang</surname><given-names>G.</given-names></name>
<name><surname>Tellambura</surname><given-names>C.</given-names></name>
</person-group><article-title>Transmissive metasurfaces assisted wireless communications on railways: Channel strength evaluation and performance analysis</article-title><source>IEEE Trans. Commun.</source><year>2023</year><volume>71</volume><fpage>1827</fpage><lpage>1841</lpage><pub-id pub-id-type="doi">10.1109/TCOMM.2023.3239932</pub-id></element-citation></ref><ref id="B3-sensors-25-01232"><label>3.</label><element-citation publication-type="journal"><person-group person-group-type="author">
<name><surname>Zhou</surname><given-names>Y.</given-names></name>
<name><surname>Liu</surname><given-names>L.</given-names></name>
<name><surname>Wang</surname><given-names>L.</given-names></name>
<name><surname>Hui</surname><given-names>N.</given-names></name>
<name><surname>Cui</surname><given-names>X.</given-names></name>
<name><surname>Wu</surname><given-names>J.</given-names></name>
<name><surname>Peng</surname><given-names>Y.</given-names></name>
<name><surname>Qi</surname><given-names>Y.</given-names></name>
<name><surname>Xing</surname><given-names>C.</given-names></name>
</person-group><article-title>Service-aware 6G: An intelligent and open network based on the convergence of communication, computing and caching</article-title><source>Digit. Commun. Netw.</source><year>2020</year><volume>6</volume><fpage>253</fpage><lpage>260</lpage><pub-id pub-id-type="doi">10.1016/j.dcan.2020.05.003</pub-id></element-citation></ref><ref id="B4-sensors-25-01232"><label>4.</label><element-citation publication-type="journal"><person-group person-group-type="author">
<name><surname>Zhao</surname><given-names>Z.</given-names></name>
<name><surname>Du</surname><given-names>Q.</given-names></name>
<name><surname>Karagiannidis</surname><given-names>G.K.</given-names></name>
</person-group><article-title>Improved grant-free access for URLLC via multi-tier-driven computing: Network-load learning, prediction, and resource allocation</article-title><source>IEEE J. Sel. Areas Commun.</source><year>2023</year><volume>41</volume><fpage>607</fpage><lpage>622</lpage><pub-id pub-id-type="doi">10.1109/JSAC.2023.3234696</pub-id></element-citation></ref><ref id="B5-sensors-25-01232"><label>5.</label><element-citation publication-type="journal"><person-group person-group-type="author">
<name><surname>Liu</surname><given-names>L.</given-names></name>
<name><surname>Zhou</surname><given-names>Y.</given-names></name>
<name><surname>Yuan</surname><given-names>J.</given-names></name>
<name><surname>Zhuang</surname><given-names>W.</given-names></name>
<name><surname>Wang</surname><given-names>Y.</given-names></name>
</person-group><article-title>Economically optimal MS association for multimedia content delivery in cache-enabled heterogeneous cloud radio access networks</article-title><source>IEEE J. Sel. Areas Commun.</source><year>2019</year><volume>37</volume><fpage>1584</fpage><lpage>1593</lpage><pub-id pub-id-type="doi">10.1109/JSAC.2019.2916280</pub-id></element-citation></ref><ref id="B6-sensors-25-01232"><label>6.</label><element-citation publication-type="journal"><person-group person-group-type="author">
<name><surname>Wang</surname><given-names>C.X.</given-names></name>
<name><surname>You</surname><given-names>X.</given-names></name>
<name><surname>Gao</surname><given-names>X.</given-names></name>
<name><surname>Zhu</surname><given-names>X.</given-names></name>
<name><surname>Li</surname><given-names>Z.</given-names></name>
<name><surname>Zhang</surname><given-names>C.</given-names></name>
<name><surname>Wang</surname><given-names>H.</given-names></name>
<name><surname>Huang</surname><given-names>Y.</given-names></name>
<name><surname>Chen</surname><given-names>Y.</given-names></name>
<name><surname>Haas</surname><given-names>H.</given-names></name>
<etal/>
</person-group><article-title>On the road to 6G: Visions, requirements, key technologies, and testbeds</article-title><source>IEEE Commun. Surv. Tutorials</source><year>2023</year><volume>25</volume><fpage>905</fpage><lpage>974</lpage><pub-id pub-id-type="doi">10.1109/COMST.2023.3249835</pub-id></element-citation></ref><ref id="B7-sensors-25-01232"><label>7.</label><element-citation publication-type="journal"><person-group person-group-type="author">
<name><surname>Iqbal</surname><given-names>A.</given-names></name>
<name><surname>Tham</surname><given-names>M.L.</given-names></name>
<name><surname>Wong</surname><given-names>Y.J.</given-names></name>
<name><surname>Wainer</surname><given-names>G.</given-names></name>
<name><surname>Zhu</surname><given-names>Y.X.</given-names></name>
<name><surname>Dagiuklas</surname><given-names>T.</given-names></name>
</person-group><article-title>Empowering non-terrestrial networks with artificial intelligence: A survey</article-title><source>IEEE Access</source><year>2023</year><volume>11</volume><fpage>100986</fpage><lpage>101006</lpage><pub-id pub-id-type="doi">10.1109/ACCESS.2023.3314732</pub-id></element-citation></ref><ref id="B8-sensors-25-01232"><label>8.</label><element-citation publication-type="journal"><person-group person-group-type="author">
<name><surname>Qi</surname><given-names>Y.</given-names></name>
<name><surname>Zhou</surname><given-names>Y.</given-names></name>
<name><surname>Cai</surname><given-names>Q.</given-names></name>
<name><surname>Zhang</surname><given-names>H.</given-names></name>
<name><surname>Xu</surname><given-names>Y.</given-names></name>
<name><surname>Shi</surname><given-names>J.</given-names></name>
<name><surname>Li</surname><given-names>S.</given-names></name>
</person-group><article-title>Architecture, Characteristics, and Resource Management of Integration of Sensing, Communications, and Computing in 6G</article-title><source>IEEE Netw.</source><year>2024</year><volume>38</volume><fpage>54</fpage><lpage>61</lpage><pub-id pub-id-type="doi">10.1109/MNET.2024.3352130</pub-id></element-citation></ref><ref id="B9-sensors-25-01232"><label>9.</label><element-citation publication-type="journal"><person-group person-group-type="author">
<name><surname>Esho</surname><given-names>A.O.O.</given-names></name>
<name><surname>Iluyomade</surname><given-names>T.D.</given-names></name>
<name><surname>Olatunde</surname><given-names>T.M.</given-names></name>
<name><surname>Igbinenikaro</surname><given-names>O.P.</given-names></name>
</person-group><article-title>A comprehensive review of energy-efficient design in satellite communication systems</article-title><source>Int. J. Eng. Res. Updat.</source><year>2024</year><volume>6</volume><fpage>013</fpage><lpage>025</lpage><pub-id pub-id-type="doi">10.53430/ijeru.2024.6.2.0024</pub-id></element-citation></ref><ref id="B10-sensors-25-01232"><label>10.</label><element-citation publication-type="journal"><person-group person-group-type="author">
<name><surname>Samy</surname><given-names>R.</given-names></name>
<name><surname>Yang</surname><given-names>H.C.</given-names></name>
<name><surname>Rakia</surname><given-names>T.</given-names></name>
<name><surname>Alouini</surname><given-names>M.S.</given-names></name>
</person-group><article-title>Space-air-ground FSO networks for high-throughput satellite communications</article-title><source>IEEE Commun. Mag.</source><year>2022</year><volume>60</volume><fpage>82</fpage><lpage>87</lpage><pub-id pub-id-type="doi">10.1109/MCOM.002.2200018</pub-id></element-citation></ref><ref id="B11-sensors-25-01232"><label>11.</label><element-citation publication-type="journal"><person-group person-group-type="author">
<name><surname>Su</surname><given-names>Y.</given-names></name>
<name><surname>Liu</surname><given-names>Y.</given-names></name>
<name><surname>Zhou</surname><given-names>Y.</given-names></name>
<name><surname>Yuan</surname><given-names>J.</given-names></name>
<name><surname>Cao</surname><given-names>H.</given-names></name>
<name><surname>Shi</surname><given-names>J.</given-names></name>
</person-group><article-title>Broadband LEO satellite communications: Architectures and key technologies</article-title><source>IEEE Wirel. Commun.</source><year>2019</year><volume>26</volume><fpage>55</fpage><lpage>61</lpage><pub-id pub-id-type="doi">10.1109/MWC.2019.1800299</pub-id></element-citation></ref><ref id="B12-sensors-25-01232"><label>12.</label><element-citation publication-type="journal"><person-group person-group-type="author">
<name><surname>Darwish</surname><given-names>T.</given-names></name>
<name><surname>Kurt</surname><given-names>G.K.</given-names></name>
<name><surname>Yanikomeroglu</surname><given-names>H.</given-names></name>
<name><surname>Bellemare</surname><given-names>M.</given-names></name>
<name><surname>Lamontagne</surname><given-names>G.</given-names></name>
</person-group><article-title>LEO satellites in 5G and beyond networks: A review from a standardization perspective</article-title><source>IEEE Access</source><year>2022</year><volume>10</volume><fpage>35040</fpage><lpage>35060</lpage><pub-id pub-id-type="doi">10.1109/ACCESS.2022.3162243</pub-id></element-citation></ref><ref id="B13-sensors-25-01232"><label>13.</label><element-citation publication-type="journal"><person-group person-group-type="author">
<name><surname>El-Moghazi</surname><given-names>M.</given-names></name>
<name><surname>Whalley</surname><given-names>J.</given-names></name>
</person-group><article-title>The itu imt-2020 standardization: Lessons from 5g and future perspectives for 6g</article-title><source>J. Inf. Policy</source><year>2022</year><volume>12</volume><fpage>281</fpage><lpage>320</lpage><pub-id pub-id-type="doi">10.5325/jinfopoli.12.2022.0005</pub-id></element-citation></ref><ref id="B14-sensors-25-01232"><label>14.</label><element-citation publication-type="journal"><person-group person-group-type="author">
<name><surname>Banafaa</surname><given-names>M.</given-names></name>
<name><surname>Shayea</surname><given-names>I.</given-names></name>
<name><surname>Din</surname><given-names>J.</given-names></name>
<name><surname>Azmi</surname><given-names>M.H.</given-names></name>
<name><surname>Alashbi</surname><given-names>A.</given-names></name>
<name><surname>Daradkeh</surname><given-names>Y.I.</given-names></name>
<name><surname>Alhammadi</surname><given-names>A.</given-names></name>
</person-group><article-title>6G mobile communication technology: Requirements, targets, applications, challenges, advantages, and opportunities</article-title><source>Alex. Eng. J.</source><year>2023</year><volume>64</volume><fpage>245</fpage><lpage>274</lpage><pub-id pub-id-type="doi">10.1016/j.aej.2022.08.017</pub-id></element-citation></ref><ref id="B15-sensors-25-01232"><label>15.</label><element-citation publication-type="journal"><person-group person-group-type="author">
<name><surname>Mahboob</surname><given-names>S.</given-names></name>
<name><surname>Liu</surname><given-names>L.</given-names></name>
</person-group><article-title>Revolutionizing future connectivity: A contemporary survey on AI-empowered satellite-based non-terrestrial networks in 6G</article-title><source>IEEE Commun. Surv. Tutorials</source><year>2024</year><volume>26</volume><fpage>1279</fpage><lpage>1321</lpage><pub-id pub-id-type="doi">10.1109/COMST.2023.3347145</pub-id></element-citation></ref><ref id="B16-sensors-25-01232"><label>16.</label><element-citation publication-type="journal"><person-group person-group-type="author">
<name><surname>Mohanta</surname><given-names>K.</given-names></name>
<name><surname>Al-Rubaye</surname><given-names>S.</given-names></name>
</person-group><article-title>Towards 6G Satellite&#x02013;Terrestrial Networks: Analysis of Air Mobility Operations</article-title><source>Electronics</source><year>2024</year><volume>13</volume><elocation-id>2855</elocation-id><pub-id pub-id-type="doi">10.3390/electronics13142855</pub-id></element-citation></ref><ref id="B17-sensors-25-01232"><label>17.</label><element-citation publication-type="journal"><person-group person-group-type="author">
<name><surname>Sheng</surname><given-names>M.</given-names></name>
<name><surname>Zhou</surname><given-names>D.</given-names></name>
<name><surname>Bai</surname><given-names>W.</given-names></name>
<name><surname>Liu</surname><given-names>J.</given-names></name>
<name><surname>Li</surname><given-names>J.</given-names></name>
</person-group><article-title>6G service coverage with mega satellite constellations</article-title><source>China Commun.</source><year>2022</year><volume>19</volume><fpage>64</fpage><lpage>76</lpage><pub-id pub-id-type="doi">10.23919/JCC.2022.01.006</pub-id></element-citation></ref><ref id="B18-sensors-25-01232"><label>18.</label><element-citation publication-type="journal"><person-group person-group-type="author">
<name><surname>Xiao</surname><given-names>Z.</given-names></name>
<name><surname>Yang</surname><given-names>J.</given-names></name>
<name><surname>Mao</surname><given-names>T.</given-names></name>
<name><surname>Xu</surname><given-names>C.</given-names></name>
<name><surname>Zhang</surname><given-names>R.</given-names></name>
<name><surname>Han</surname><given-names>Z.</given-names></name>
<name><surname>Xia</surname><given-names>X.G.</given-names></name>
</person-group><article-title>LEO satellite access network (LEO-SAN) towards 6G: Challenges and approaches</article-title><source>IEEE Wirel. Commun.</source><year>2022</year><volume>31</volume><fpage>89</fpage><lpage>96</lpage><pub-id pub-id-type="doi">10.1109/MWC.011.2200310</pub-id></element-citation></ref><ref id="B19-sensors-25-01232"><label>19.</label><element-citation publication-type="confproc"><person-group person-group-type="author">
<name><surname>Glenn</surname><given-names>A.B.</given-names></name>
<name><surname>Collen</surname><given-names>P.L.</given-names></name>
<name><surname>McGilvray</surname><given-names>M.</given-names></name>
</person-group><article-title>Experimental Non-Equilibrium Radiation Measurements for Low-Earth Orbit Return</article-title><source>Proceedings of the AIAA SciTech 2022 Forum</source><conf-loc>San Diego, CA, USA</conf-loc><conf-date>3&#x02013;7 January 2022</conf-date><fpage>2154</fpage></element-citation></ref><ref id="B20-sensors-25-01232"><label>20.</label><element-citation publication-type="webpage"><article-title>NORAD GP Element Sets Current Data</article-title><year>2024</year><comment>Available online: <ext-link xlink:href="https://celestrak.com/NORAD/elements/" ext-link-type="uri">https://celestrak.com/NORAD/elements/</ext-link></comment><date-in-citation content-type="access-date" iso-8601-date="2024-11-20">(accessed on 20 November 2024)</date-in-citation></element-citation></ref><ref id="B21-sensors-25-01232"><label>21.</label><element-citation publication-type="journal"><person-group person-group-type="author">
<name><surname>Shaengchart</surname><given-names>Y.</given-names></name>
<name><surname>Kraiwanit</surname><given-names>T.</given-names></name>
</person-group><article-title>The Spacex Starlink Satellite Project: Business Strategies and Perspectives</article-title><source>Corp. Bus. Strategy Rev.</source><year>2024</year><volume>5</volume><fpage>30</fpage><lpage>37</lpage><pub-id pub-id-type="doi">10.22495/cbsrv5i1art3</pub-id></element-citation></ref><ref id="B22-sensors-25-01232"><label>22.</label><element-citation publication-type="journal"><person-group person-group-type="author">
<name><surname>Ni</surname><given-names>S.</given-names></name>
<name><surname>Yue</surname><given-names>Y.</given-names></name>
<name><surname>Zuo</surname><given-names>Y.</given-names></name>
<name><surname>Liu</surname><given-names>W.</given-names></name>
<name><surname>Xiao</surname><given-names>W.</given-names></name>
<name><surname>Ye</surname><given-names>X.</given-names></name>
</person-group><article-title>The Status Quo and Prospect of Satellite Network Routing Technology</article-title><source>J. Electron. Inf. Technol.</source><year>2023</year><volume>45</volume><fpage>383</fpage><lpage>395</lpage></element-citation></ref><ref id="B23-sensors-25-01232"><label>23.</label><element-citation publication-type="journal"><person-group person-group-type="author">
<name><surname>Cao</surname><given-names>X.</given-names></name>
<name><surname>Li</surname><given-names>Y.</given-names></name>
<name><surname>Xiong</surname><given-names>X.</given-names></name>
<name><surname>Wang</surname><given-names>J.</given-names></name>
</person-group><article-title>Dynamic routings in satellite networks: An overview</article-title><source>Sensors</source><year>2022</year><volume>22</volume><elocation-id>4552</elocation-id><pub-id pub-id-type="doi">10.3390/s22124552</pub-id><pub-id pub-id-type="pmid">35746331</pub-id>
</element-citation></ref><ref id="B24-sensors-25-01232"><label>24.</label><element-citation publication-type="webpage"><person-group person-group-type="author">
<collab>3GPP</collab>
</person-group><article-title>Study on New Radio (NR) to Support Non-Terrestrial Networks. Technical Report (TR) 38.811, 3rd Generation Partnership Project (3GPP)</article-title><year>2020</year><comment>Version 15.4.0</comment><comment>Available online: <ext-link xlink:href="https://portal.3gpp.org/desktopmodules/Specifications/SpecificationDetails.aspx?specificationId=3234" ext-link-type="uri">https://portal.3gpp.org/desktopmodules/Specifications/SpecificationDetails.aspx?specificationId=3234</ext-link></comment><date-in-citation content-type="access-date" iso-8601-date="2024-11-20">(accessed on 20 November 2024)</date-in-citation></element-citation></ref><ref id="B25-sensors-25-01232"><label>25.</label><element-citation publication-type="webpage"><person-group person-group-type="author">
<collab>3GPP</collab>
</person-group><article-title>Solutions for NR to Support Non-Terrestrial Networks (NTN). Technical Report (TR) 38.821, 3rd Generation Partnership Project (3GPP)</article-title><year>2023</year><comment>Version 16.2.0</comment><comment>Available online: <ext-link xlink:href="https://portal.3gpp.org/desktopmodules/Specifications/SpecificationDetails.aspx?specificationId=3525" ext-link-type="uri">https://portal.3gpp.org/desktopmodules/Specifications/SpecificationDetails.aspx?specificationId=3525</ext-link></comment><date-in-citation content-type="access-date" iso-8601-date="2024-11-20">(accessed on 20 November 2024)</date-in-citation></element-citation></ref><ref id="B26-sensors-25-01232"><label>26.</label><element-citation publication-type="journal"><person-group person-group-type="author">
<name><surname>Yang</surname><given-names>H.</given-names></name>
<name><surname>Liu</surname><given-names>W.</given-names></name>
<name><surname>Li</surname><given-names>H.</given-names></name>
<name><surname>Li</surname><given-names>J.</given-names></name>
</person-group><article-title>Maximum flow routing strategy for space information network with service function constraints</article-title><source>IEEE Trans. Wirel. Commun.</source><year>2021</year><volume>21</volume><fpage>2909</fpage><lpage>2923</lpage><pub-id pub-id-type="doi">10.1109/TWC.2021.3116983</pub-id></element-citation></ref><ref id="B27-sensors-25-01232"><label>27.</label><element-citation publication-type="journal"><person-group person-group-type="author">
<name><surname>Wang</surname><given-names>P.</given-names></name>
<name><surname>Zhang</surname><given-names>X.</given-names></name>
<name><surname>Zhang</surname><given-names>S.</given-names></name>
<name><surname>Li</surname><given-names>H.</given-names></name>
<name><surname>Zhang</surname><given-names>T.</given-names></name>
</person-group><article-title>Time-expanded graph-based resource allocation over the satellite networks</article-title><source>IEEE Wirel. Commun. Lett.</source><year>2018</year><volume>8</volume><fpage>360</fpage><lpage>363</lpage><pub-id pub-id-type="doi">10.1109/LWC.2018.2872996</pub-id></element-citation></ref><ref id="B28-sensors-25-01232"><label>28.</label><element-citation publication-type="journal"><person-group person-group-type="author">
<name><surname>Fraire</surname><given-names>J.A.</given-names></name>
<name><surname>De Jonck&#x000e8;re</surname><given-names>O.</given-names></name>
<name><surname>Burleigh</surname><given-names>S.C.</given-names></name>
</person-group><article-title>Routing in the space internet: A contact graph routing tutorial</article-title><source>J. Netw. Comput. Appl.</source><year>2021</year><volume>174</volume><fpage>102884</fpage><pub-id pub-id-type="doi">10.1016/j.jnca.2020.102884</pub-id></element-citation></ref><ref id="B29-sensors-25-01232"><label>29.</label><element-citation publication-type="journal"><person-group person-group-type="author">
<name><surname>Li</surname><given-names>H.</given-names></name>
<name><surname>Zhang</surname><given-names>T.</given-names></name>
<name><surname>Zhang</surname><given-names>Y.</given-names></name>
<name><surname>Wang</surname><given-names>K.</given-names></name>
<name><surname>Li</surname><given-names>J.</given-names></name>
</person-group><article-title>A maximum flow algorithm based on storage time aggregated graph for delay-tolerant networks</article-title><source>Ad Hoc Netw.</source><year>2017</year><volume>59</volume><fpage>63</fpage><lpage>70</lpage><pub-id pub-id-type="doi">10.1016/j.adhoc.2017.01.006</pub-id></element-citation></ref><ref id="B30-sensors-25-01232"><label>30.</label><element-citation publication-type="journal"><person-group person-group-type="author">
<name><surname>Zhang</surname><given-names>T.</given-names></name>
<name><surname>Li</surname><given-names>H.</given-names></name>
<name><surname>Zhang</surname><given-names>S.</given-names></name>
<name><surname>Li</surname><given-names>J.</given-names></name>
<name><surname>Shen</surname><given-names>H.</given-names></name>
</person-group><article-title>STAG-based QoS support routing strategy for multiple missions over the satellite networks</article-title><source>IEEE Trans. Commun.</source><year>2019</year><volume>67</volume><fpage>6912</fpage><lpage>6924</lpage><pub-id pub-id-type="doi">10.1109/TCOMM.2019.2929757</pub-id></element-citation></ref><ref id="B31-sensors-25-01232"><label>31.</label><element-citation publication-type="confproc"><person-group person-group-type="author">
<name><surname>Wu</surname><given-names>Z.</given-names></name>
<name><surname>Hu</surname><given-names>G.</given-names></name>
<name><surname>Jin</surname><given-names>F.</given-names></name>
<name><surname>Jiang</surname><given-names>B.</given-names></name>
<name><surname>Fu</surname><given-names>Y.</given-names></name>
</person-group><article-title>Agent-based dynamic routing in the packet-switched LEO satellite networks</article-title><source>Proceedings of the 2015 International Conference on Wireless Communications &#x00026; Signal Processing (WCSP)</source><conf-loc>Nanjing, China</conf-loc><conf-date>15&#x02013;17 October 2015</conf-date><publisher-name>IEEE</publisher-name><publisher-loc>Piscataway, NJ, USA</publisher-loc><year>2015</year><fpage>1</fpage><lpage>6</lpage></element-citation></ref><ref id="B32-sensors-25-01232"><label>32.</label><element-citation publication-type="journal"><person-group person-group-type="author">
<name><surname>Liu</surname><given-names>W.</given-names></name>
<name><surname>Tao</surname><given-names>Y.</given-names></name>
<name><surname>Liu</surname><given-names>L.</given-names></name>
</person-group><article-title>Load-balancing routing algorithm based on segment routing for traffic return in LEO satellite networks</article-title><source>IEEE Access</source><year>2019</year><volume>7</volume><fpage>112044</fpage><lpage>112053</lpage><pub-id pub-id-type="doi">10.1109/ACCESS.2019.2934932</pub-id></element-citation></ref><ref id="B33-sensors-25-01232"><label>33.</label><element-citation publication-type="journal"><person-group person-group-type="author">
<name><surname>Yang</surname><given-names>G.</given-names></name>
<name><surname>Yong</surname><given-names>Z.</given-names></name>
<name><surname>Kun</surname><given-names>L.</given-names></name>
<name><surname>Yinglei</surname><given-names>T.</given-names></name>
<name><surname>Jinxiong</surname><given-names>W.</given-names></name>
</person-group><article-title>Joint multi-QoS and energy saving routing for LEO satellite network</article-title><source>J. China Univ. Posts Telecommun.</source><year>2019</year><volume>26</volume><fpage>25</fpage><lpage>34</lpage></element-citation></ref><ref id="B34-sensors-25-01232"><label>34.</label><element-citation publication-type="confproc"><person-group person-group-type="author">
<name><surname>Xu</surname><given-names>M.</given-names></name>
<name><surname>Jia</surname><given-names>M.</given-names></name>
<name><surname>Guo</surname><given-names>Q.</given-names></name>
</person-group><article-title>Delay-Sensitive SFC Scheduling Optimization with DRL in Satellite-Terrestrial Networks</article-title><source>Proceedings of the 2023 IEEE 23rd International Conference on Communication Technology (ICCT)</source><conf-loc>Wuxi, China</conf-loc><conf-date>20&#x02013;22 October 2023</conf-date><publisher-name>IEEE</publisher-name><publisher-loc>Piscataway, NJ, USA</publisher-loc><year>2023</year><fpage>1680</fpage><lpage>1684</lpage></element-citation></ref><ref id="B35-sensors-25-01232"><label>35.</label><element-citation publication-type="journal"><person-group person-group-type="author">
<name><surname>Peng</surname><given-names>Y.</given-names></name>
<name><surname>Tang</surname><given-names>X.</given-names></name>
<name><surname>Zhou</surname><given-names>Y.</given-names></name>
<name><surname>Li</surname><given-names>J.</given-names></name>
<name><surname>Qi</surname><given-names>Y.</given-names></name>
<name><surname>Liu</surname><given-names>L.</given-names></name>
<name><surname>Lin</surname><given-names>H.</given-names></name>
</person-group><article-title>Computing and communication cost-aware service migration enabled by transfer reinforcement learning for dynamic vehicular edge computing networks</article-title><source>IEEE Trans. Mob. Comput.</source><year>2022</year><volume>23</volume><fpage>257</fpage><lpage>269</lpage><pub-id pub-id-type="doi">10.1109/TMC.2022.3225239</pub-id></element-citation></ref><ref id="B36-sensors-25-01232"><label>36.</label><element-citation publication-type="journal"><person-group person-group-type="author">
<name><surname>Peng</surname><given-names>Y.</given-names></name>
<name><surname>Tang</surname><given-names>X.</given-names></name>
<name><surname>Zhou</surname><given-names>Y.</given-names></name>
<name><surname>Hou</surname><given-names>Y.</given-names></name>
<name><surname>Li</surname><given-names>J.</given-names></name>
<name><surname>Qi</surname><given-names>Y.</given-names></name>
<name><surname>Liu</surname><given-names>L.</given-names></name>
<name><surname>Lin</surname><given-names>H.</given-names></name>
</person-group><article-title>How to tame mobility in federated learning over mobile networks?</article-title><source>IEEE Trans. Wirel. Commun.</source><year>2023</year><volume>22</volume><fpage>9640</fpage><lpage>9657</lpage><pub-id pub-id-type="doi">10.1109/TWC.2023.3272920</pub-id></element-citation></ref><ref id="B37-sensors-25-01232"><label>37.</label><element-citation publication-type="confproc"><person-group person-group-type="author">
<name><surname>Zha</surname><given-names>P.</given-names></name>
<name><surname>Long</surname><given-names>C.</given-names></name>
<name><surname>Wu</surname><given-names>J.</given-names></name>
<name><surname>Li</surname><given-names>S.</given-names></name>
</person-group><article-title>Satellite lifetime predicted greedy perimeter stateless routing protocol for LEO satellite network</article-title><source>Proceedings of the 2020 Chinese Automation Congress (CAC)</source><conf-loc>Shanghai, China</conf-loc><conf-date>6&#x02013;8 November 2020</conf-date><publisher-name>IEEE</publisher-name><publisher-loc>Piscataway, NJ, USA</publisher-loc><year>2020</year><fpage>5102</fpage><lpage>5107</lpage></element-citation></ref><ref id="B38-sensors-25-01232"><label>38.</label><element-citation publication-type="confproc"><person-group person-group-type="author">
<name><surname>Yi</surname><given-names>Z.</given-names></name>
<name><surname>Quan</surname><given-names>Z.</given-names></name>
<name><surname>Jun</surname><given-names>L.</given-names></name>
<name><surname>Wei</surname><given-names>L.</given-names></name>
</person-group><article-title>The generation and update algorithm of routing table in satellite network</article-title><source>Proceedings of the 2015 IEEE International Conference on Communication Problem-Solving (ICCP)</source><conf-loc>Guilin, China</conf-loc><conf-date>16&#x02013;18 October 2015</conf-date><publisher-name>IEEE</publisher-name><publisher-loc>Piscataway, NJ, USA</publisher-loc><year>2015</year><fpage>619</fpage><lpage>622</lpage></element-citation></ref><ref id="B39-sensors-25-01232"><label>39.</label><element-citation publication-type="confproc"><person-group person-group-type="author">
<name><surname>Zuo</surname><given-names>P.</given-names></name>
<name><surname>Wang</surname><given-names>C.</given-names></name>
<name><surname>Wei</surname><given-names>Z.</given-names></name>
<name><surname>Li</surname><given-names>Z.</given-names></name>
<name><surname>Zhao</surname><given-names>H.</given-names></name>
<name><surname>Jiang</surname><given-names>H.</given-names></name>
</person-group><article-title>Deep reinforcement learning based load balancing routing for LEO satellite network</article-title><source>Proceedings of the 2022 IEEE 95th Vehicular Technology Conference:(VTC2022-Spring)</source><conf-loc>Helsinki, Finland</conf-loc><conf-date>19&#x02013;22 June 2022</conf-date><publisher-name>IEEE</publisher-name><publisher-loc>Piscataway, NJ, USA</publisher-loc><year>2022</year><fpage>1</fpage><lpage>6</lpage></element-citation></ref><ref id="B40-sensors-25-01232"><label>40.</label><element-citation publication-type="journal"><person-group person-group-type="author">
<name><surname>Dong</surname><given-names>W.</given-names></name>
<name><surname>Chang-yin</surname><given-names>Z.</given-names></name>
</person-group><article-title>An accuracy analysis of the SGP4/SDP4 model</article-title><source>Chin. Astron. Astrophys.</source><year>2010</year><volume>34</volume><fpage>69</fpage><lpage>76</lpage><pub-id pub-id-type="doi">10.1016/j.chinastron.2009.12.009</pub-id></element-citation></ref><ref id="B41-sensors-25-01232"><label>41.</label><element-citation publication-type="book"><person-group person-group-type="author">
<name><surname>Anttonen</surname><given-names>A.</given-names></name>
<name><surname>Ruuska</surname><given-names>P.</given-names></name>
<name><surname>Kiviranta</surname><given-names>M.</given-names></name>
</person-group><source>3GPP Nonterrestrial Networks: A Concise Review and Look Ahead</source><publisher-name>VTT Technical Research Centre of Finland</publisher-name><publisher-loc>Espoo, Finland</publisher-loc><year>2019</year></element-citation></ref><ref id="B42-sensors-25-01232"><label>42.</label><element-citation publication-type="journal"><person-group person-group-type="author">
<name><surname>Hosseinian</surname><given-names>M.</given-names></name>
<name><surname>Choi</surname><given-names>J.P.</given-names></name>
<name><surname>Chang</surname><given-names>S.H.</given-names></name>
<name><surname>Lee</surname><given-names>J.</given-names></name>
</person-group><article-title>Review of 5G NTN standards development and technical challenges for satellite integration with the 5G network</article-title><source>IEEE Aerosp. Electron. Syst. Mag.</source><year>2021</year><volume>36</volume><fpage>22</fpage><lpage>31</lpage><pub-id pub-id-type="doi">10.1109/MAES.2021.3072690</pub-id></element-citation></ref><ref id="B43-sensors-25-01232"><label>43.</label><element-citation publication-type="journal"><person-group person-group-type="author">
<name><surname>Tu</surname><given-names>H.</given-names></name>
<name><surname>Zhao</surname><given-names>G.</given-names></name>
<name><surname>Xu</surname><given-names>H.</given-names></name>
<name><surname>Zhao</surname><given-names>Y.</given-names></name>
<name><surname>Zhai</surname><given-names>Y.</given-names></name>
</person-group><article-title>A robustness-aware real-time SFC routing update scheme in multi-tenant clouds</article-title><source>IEEE/ACM Trans. Netw.</source><year>2022</year><volume>30</volume><fpage>1230</fpage><lpage>1244</lpage><pub-id pub-id-type="doi">10.1109/TNET.2021.3137418</pub-id></element-citation></ref><ref id="B44-sensors-25-01232"><label>44.</label><element-citation publication-type="journal"><person-group person-group-type="author">
<name><surname>Fran&#x000e7;ois-Lavet</surname><given-names>V.</given-names></name>
<name><surname>Henderson</surname><given-names>P.</given-names></name>
<name><surname>Islam</surname><given-names>R.</given-names></name>
<name><surname>Bellemare</surname><given-names>M.G.</given-names></name>
<name><surname>Pineau</surname><given-names>J.</given-names></name>
</person-group><article-title>An introduction to deep reinforcement learning</article-title><source>Found. Trends. Mach. Learn.</source><year>2018</year><volume>11</volume><fpage>219</fpage><lpage>354</lpage><pub-id pub-id-type="doi">10.1561/2200000071</pub-id></element-citation></ref><ref id="B45-sensors-25-01232"><label>45.</label><element-citation publication-type="journal"><person-group person-group-type="author">
<name><surname>Li</surname><given-names>Y.</given-names></name>
<name><surname>Xu</surname><given-names>Y.</given-names></name>
<name><surname>Zhang</surname><given-names>Q.</given-names></name>
<name><surname>Yang</surname><given-names>Z.</given-names></name>
</person-group><article-title>Age-optimized multihop information update mechanism on the LEO satellite constellation via continuous time-varying graphs</article-title><source>IEEE Internet Things J.</source><year>2022</year><volume>10</volume><fpage>7189</fpage><lpage>7203</lpage><pub-id pub-id-type="doi">10.1109/JIOT.2022.3229028</pub-id></element-citation></ref><ref id="B46-sensors-25-01232"><label>46.</label><element-citation publication-type="journal"><person-group person-group-type="author">
<name><surname>Jiang</surname><given-names>B.</given-names></name>
<name><surname>Wang</surname><given-names>L.</given-names></name>
<name><surname>Cheng</surname><given-names>J.</given-names></name>
<name><surname>Tang</surname><given-names>J.</given-names></name>
<name><surname>Luo</surname><given-names>B.</given-names></name>
</person-group><article-title>Gpens: Graph data learning with graph propagation-embedding networks</article-title><source>IEEE Trans. Neural Netw. Learn. Syst.</source><year>2021</year><volume>34</volume><fpage>3925</fpage><lpage>3938</lpage><pub-id pub-id-type="doi">10.1109/TNNLS.2021.3120100</pub-id></element-citation></ref><ref id="B47-sensors-25-01232"><label>47.</label><element-citation publication-type="confproc"><person-group person-group-type="author">
<name><surname>Chen</surname><given-names>M.</given-names></name>
<name><surname>Wei</surname><given-names>Z.</given-names></name>
<name><surname>Huang</surname><given-names>Z.</given-names></name>
<name><surname>Ding</surname><given-names>B.</given-names></name>
<name><surname>Li</surname><given-names>Y.</given-names></name>
</person-group><article-title>Simple and deep graph convolutional networks</article-title><source>Proceedings of the International Conference on Machine Learning, PMLR</source><conf-loc>Online</conf-loc><conf-date>13&#x02013;18 July 2020</conf-date><fpage>1725</fpage><lpage>1735</lpage></element-citation></ref><ref id="B48-sensors-25-01232"><label>48.</label><element-citation publication-type="journal"><person-group person-group-type="author">
<name><surname>Jiang</surname><given-names>W.</given-names></name>
</person-group><article-title>Graph-based deep learning for communication networks: A survey</article-title><source>Comput. Commun.</source><year>2022</year><volume>185</volume><fpage>40</fpage><lpage>54</lpage><pub-id pub-id-type="doi">10.1016/j.comcom.2021.12.015</pub-id></element-citation></ref><ref id="B49-sensors-25-01232"><label>49.</label><element-citation publication-type="journal"><person-group person-group-type="author">
<name><surname>Wang</surname><given-names>Y.</given-names></name>
<name><surname>Li</surname><given-names>Y.</given-names></name>
<name><surname>Shi</surname><given-names>Q.</given-names></name>
<name><surname>Wu</surname><given-names>Y.C.</given-names></name>
</person-group><article-title>ENGNN: A general edge-update empowered GNN architecture for radio resource management in wireless networks</article-title><source>IEEE Trans. Wirel. Commun.</source><year>2023</year><volume>23</volume><fpage>5330</fpage><lpage>5344</lpage><pub-id pub-id-type="doi">10.1109/TWC.2023.3325735</pub-id></element-citation></ref><ref id="B50-sensors-25-01232"><label>50.</label><element-citation publication-type="journal"><person-group person-group-type="author">
<name><surname>Schulman</surname><given-names>J.</given-names></name>
<name><surname>Wolski</surname><given-names>F.</given-names></name>
<name><surname>Dhariwal</surname><given-names>P.</given-names></name>
<name><surname>Radford</surname><given-names>A.</given-names></name>
<name><surname>Klimov</surname><given-names>O.</given-names></name>
</person-group><article-title>Proximal policy optimization algorithms</article-title><source>arXiv</source><year>2017</year><pub-id pub-id-type="arxiv">1707.06347</pub-id></element-citation></ref><ref id="B51-sensors-25-01232"><label>51.</label><element-citation publication-type="journal"><person-group person-group-type="author">
<name><surname>Chen</surname><given-names>Q.</given-names></name>
<name><surname>Giambene</surname><given-names>G.</given-names></name>
<name><surname>Yang</surname><given-names>L.</given-names></name>
<name><surname>Fan</surname><given-names>C.</given-names></name>
<name><surname>Chen</surname><given-names>X.</given-names></name>
</person-group><article-title>Analysis of inter-satellite link paths for LEO mega-constellation networks</article-title><source>IEEE Trans. Veh. Technol.</source><year>2021</year><volume>70</volume><fpage>2743</fpage><lpage>2755</lpage><pub-id pub-id-type="doi">10.1109/TVT.2021.3058126</pub-id></element-citation></ref><ref id="B52-sensors-25-01232"><label>52.</label><element-citation publication-type="journal"><person-group person-group-type="author">
<name><surname>Cakaj</surname><given-names>S.</given-names></name>
</person-group><article-title>The parameters comparison of the &#x0201c;Starlink&#x0201d; LEO satellites constellation for different orbital shells</article-title><source>Front. Commun. Netw.</source><year>2021</year><volume>2</volume><elocation-id>643095</elocation-id><pub-id pub-id-type="doi">10.3389/frcmn.2021.643095</pub-id></element-citation></ref><ref id="B53-sensors-25-01232"><label>53.</label><element-citation publication-type="book"><person-group person-group-type="author">
<name><surname>Warszawski</surname><given-names>L.</given-names></name>
<name><surname>Frieler</surname><given-names>K.</given-names></name>
<name><surname>Huber</surname><given-names>V.</given-names></name>
<name><surname>Piontek</surname><given-names>F.</given-names></name>
<name><surname>Serdeczny</surname><given-names>O.</given-names></name>
<name><surname>Zhang</surname><given-names>X.</given-names></name>
<name><surname>Tang</surname><given-names>Q.</given-names></name>
<name><surname>Pan</surname><given-names>M.</given-names></name>
<name><surname>Tang</surname><given-names>Y.</given-names></name>
<name><surname>Tang</surname><given-names>Q.</given-names></name>
<etal/>
</person-group><article-title>Center for international earth science information network&#x02014;Ciesin&#x02014;Columbia university. (2016). gridded population of the world, version 4 (gpwv4): Population density. palisades. ny: Nasa socioeconomic data and applications center (sedac)</article-title><source>Atlas of Environmental Risks Facing China Under Climate Change</source><publisher-name>Springer</publisher-name><publisher-loc>Cham, Switzerland</publisher-loc><year>2017</year><fpage>228</fpage><pub-id pub-id-type="doi">10.7927/h4np22dq</pub-id></element-citation></ref><ref id="B54-sensors-25-01232"><label>54.</label><element-citation publication-type="journal"><person-group person-group-type="author">
<name><surname>Huang</surname><given-names>S.</given-names></name>
<name><surname>Chen</surname><given-names>W.</given-names></name>
<name><surname>Sun</surname><given-names>Y.</given-names></name>
<name><surname>Bie</surname><given-names>F.</given-names></name>
<name><surname>Tu</surname><given-names>W.W.</given-names></name>
</person-group><article-title>OpenRL: A Unified Reinforcement Learning Framework</article-title><source>arXiv</source><year>2023</year><pub-id pub-id-type="arxiv">2312.16189</pub-id></element-citation></ref></ref-list></back><floats-group><fig position="float" id="sensors-25-01232-f001"><label>Figure 1</label><caption><p>End-to-end traffic transmission model. Dashed arrows indicate wireless links and realized arrows indicate wired links.</p></caption><graphic xlink:href="sensors-25-01232-g001" position="float"/></fig><fig position="float" id="sensors-25-01232-f002"><label>Figure 2</label><caption><p>Model architecture of the proposed method.</p></caption><graphic xlink:href="sensors-25-01232-g002" position="float"/></fig><fig position="float" id="sensors-25-01232-f003"><label>Figure 3</label><caption><p>Access success rates of different data flows. The red curve is the result based on the reinforcement learning algorithm (DQR), the green curve is the result of the traditional graph theory algorithm (SFC-APS), the magenta curve is the result of the algorithm proposed in this paper (DQN-LBR), and the blue curve is the result of the algorithm proposed in this paper (GDRL-SFCR). FN represents the total number of functional nodes in the end-to-end path SFC constraint.</p></caption><graphic xlink:href="sensors-25-01232-g003" position="float"/></fig><fig position="float" id="sensors-25-01232-f004"><label>Figure 4</label><caption><p>Network average load of different data flows. The red curve is the result based on the reinforcement learning algorithm (DQR), the green curve is the result of the traditional graph theory algorithm (SFC-APS), the magenta curve is the result of the algorithm proposed in this paper (DQN-LBR), and the blue curve is the result of the algorithm proposed in this paper (GDRL-SFCR). FN represents the total number of functional nodes in the end-to-end path SFC constraint.</p></caption><graphic xlink:href="sensors-25-01232-g004" position="float"/></fig><fig position="float" id="sensors-25-01232-f005"><label>Figure 5</label><caption><p>Average path delay of different data flows. The red curve is the result based on the reinforcement learning algorithm (DQR), the green curve is the result of the traditional graph theory algorithm (SFC-APS), the magenta curve is the result of the algorithm proposed in this paper (DQN-LBR), and the blue curve is the result of the algorithm proposed in this paper (GDRL-SFCR). FN represents the total number of functional nodes in the end-to-end path SFC constraint.</p></caption><graphic xlink:href="sensors-25-01232-g005" position="float"/></fig><fig position="float" id="sensors-25-01232-f006"><label>Figure 6</label><caption><p>Network capacity of different data flows. The red curve is the result based on the reinforcement learning algorithm (DQR), the green curve is the result of the traditional graph theory algorithm (SFC-APS), the magenta curve is the result of the algorithm proposed in this paper (DQN-LBR), and the blue curve is the result of the algorithm proposed in this paper (GDRL-SFCR). FN represents the total number of functional nodes in the end-to-end path SFC constraint.</p></caption><graphic xlink:href="sensors-25-01232-g006" position="float"/></fig><fig position="float" id="sensors-25-01232-f007"><label>Figure 7</label><caption><p>Impact of weight <inline-formula><mml:math id="mm173" overflow="scroll"><mml:mrow><mml:msub><mml:mi>&#x003b8;</mml:mi><mml:mn>1</mml:mn></mml:msub></mml:mrow></mml:math></inline-formula> on performance metrics. The green curve is the result of KPI variation with weights. The blue curve is the path delay variance as a function of weight. The blue curve is the result of network load variance variation with weights.</p></caption><graphic xlink:href="sensors-25-01232-g007" position="float"/></fig><fig position="float" id="sensors-25-01232-f008"><label>Figure 8</label><caption><p>Average running time of different data flows for all algorithms. The red curve is the result based on the reinforcement learning algorithm (DQR), the green curve is the result of the traditional graph theory algorithm (SFC-APS), the magenta curve is the result of the algorithm proposed in this paper (DQN-LBR), and the blue curve is the result of the algorithm proposed in this paper (GDRL-SFCR). FN represents the total number of functional nodes in the end-to-end path SFC constraint.</p></caption><graphic xlink:href="sensors-25-01232-g008" position="float"/></fig><table-wrap position="float" id="sensors-25-01232-t001"><object-id pub-id-type="pii">sensors-25-01232-t001_Table 1</object-id><label>Table 1</label><caption><p>Summary of existing methods for satellite routing. &#x02713; means that the corresponding algorithm considered the features of this column, and &#x000d7; means that it did not.</p></caption><table frame="hsides" rules="groups"><thead><tr><th align="left" valign="middle" style="border-bottom:solid thin;border-top:solid thin" rowspan="1" colspan="1">Work</th><th align="left" valign="middle" style="border-bottom:solid thin;border-top:solid thin" rowspan="1" colspan="1">Optimization Objective</th><th align="left" valign="middle" style="border-bottom:solid thin;border-top:solid thin" rowspan="1" colspan="1">SFC Constraints</th><th align="left" valign="middle" style="border-bottom:solid thin;border-top:solid thin" rowspan="1" colspan="1">Load Balance</th><th align="left" valign="middle" style="border-bottom:solid thin;border-top:solid thin" rowspan="1" colspan="1">Applicability Analysis</th></tr></thead><tbody><tr><td align="left" valign="middle" rowspan="1" colspan="1">Wang et al. [<xref rid="B27-sensors-25-01232" ref-type="bibr">27</xref>]</td><td align="left" valign="middle" rowspan="1" colspan="1">Max-flow</td><td align="left" valign="middle" rowspan="1" colspan="1">&#x000d7;</td><td align="left" valign="middle" rowspan="1" colspan="1">&#x000d7;</td><td align="left" valign="middle" rowspan="1" colspan="1">Ignore SFC constraints and load balance</td></tr><tr><td align="left" valign="middle" rowspan="1" colspan="1">Fraire et al. [<xref rid="B28-sensors-25-01232" ref-type="bibr">28</xref>]</td><td align="left" valign="middle" rowspan="1" colspan="1">Path delay</td><td align="left" valign="middle" rowspan="1" colspan="1">&#x000d7;</td><td align="left" valign="middle" rowspan="1" colspan="1">&#x000d7;</td><td align="left" valign="middle" rowspan="1" colspan="1">Ignore SFC constraints and load balance</td></tr><tr><td align="left" valign="middle" rowspan="1" colspan="1">Zhang et al. [<xref rid="B29-sensors-25-01232" ref-type="bibr">29</xref>,<xref rid="B30-sensors-25-01232" ref-type="bibr">30</xref>]</td><td align="left" valign="middle" rowspan="1" colspan="1">Routing QoS</td><td align="left" valign="middle" rowspan="1" colspan="1">&#x000d7;</td><td align="left" valign="middle" rowspan="1" colspan="1">&#x000d7;</td><td align="left" valign="middle" rowspan="1" colspan="1">Ignore SFC constraints and load balance</td></tr><tr><td align="left" valign="middle" rowspan="1" colspan="1">Wu et al. [<xref rid="B31-sensors-25-01232" ref-type="bibr">31</xref>]</td><td align="left" valign="middle" rowspan="1" colspan="1">Path delay</td><td align="left" valign="middle" rowspan="1" colspan="1">&#x000d7;</td><td align="left" valign="middle" rowspan="1" colspan="1">&#x000d7;</td><td align="left" valign="middle" rowspan="1" colspan="1">Ignore SFC constraints and load balance</td></tr><tr><td align="left" valign="middle" rowspan="1" colspan="1">Liu et al. [<xref rid="B32-sensors-25-01232" ref-type="bibr">32</xref>]</td><td align="left" valign="middle" rowspan="1" colspan="1">Load balance</td><td align="left" valign="middle" rowspan="1" colspan="1">&#x000d7;</td><td align="left" valign="middle" rowspan="1" colspan="1">&#x02713;</td><td align="left" valign="middle" rowspan="1" colspan="1">Ignore SFC constraints and path delay</td></tr><tr><td align="left" valign="middle" rowspan="1" colspan="1">Yang et al. [<xref rid="B33-sensors-25-01232" ref-type="bibr">33</xref>]</td><td align="left" valign="middle" rowspan="1" colspan="1">Satellites node load</td><td align="left" valign="middle" rowspan="1" colspan="1">&#x000d7;</td><td align="left" valign="middle" rowspan="1" colspan="1">&#x02713;</td><td align="left" valign="middle" rowspan="1" colspan="1">Ignore SFC constraints and path delay</td></tr><tr><td align="left" valign="middle" rowspan="1" colspan="1">Yang et al. [<xref rid="B26-sensors-25-01232" ref-type="bibr">26</xref>]</td><td align="left" valign="middle" rowspan="1" colspan="1">Path delay and SFC constraints</td><td align="left" valign="middle" rowspan="1" colspan="1">&#x02713;</td><td align="left" valign="middle" rowspan="1" colspan="1">&#x000d7;</td><td align="left" valign="middle" rowspan="1" colspan="1">Ignore load balance</td></tr><tr><td align="left" valign="middle" rowspan="1" colspan="1">Zuo et al. [<xref rid="B39-sensors-25-01232" ref-type="bibr">39</xref>]</td><td align="left" valign="middle" rowspan="1" colspan="1">Path delay and load balance</td><td align="left" valign="middle" rowspan="1" colspan="1">&#x000d7;</td><td align="left" valign="middle" rowspan="1" colspan="1">&#x02713;</td><td align="left" valign="middle" rowspan="1" colspan="1">Ignore SFC constraints</td></tr><tr><td align="left" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">Xu et al. [<xref rid="B34-sensors-25-01232" ref-type="bibr">34</xref>]</td><td align="left" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">Path delay and SFC constraints</td><td align="left" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">&#x02713;</td><td align="left" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">&#x000d7;</td><td align="left" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">Ignore load balance</td></tr></tbody></table></table-wrap><table-wrap position="float" id="sensors-25-01232-t002"><object-id pub-id-type="pii">sensors-25-01232-t002_Table 2</object-id><label>Table 2</label><caption><p>List of terms.</p></caption><table frame="hsides" rules="groups"><thead><tr><th align="left" valign="middle" style="border-bottom:solid thin;border-top:solid thin" rowspan="1" colspan="1">Term</th><th align="left" valign="middle" style="border-bottom:solid thin;border-top:solid thin" rowspan="1" colspan="1">Definition</th></tr></thead><tbody><tr><td align="left" valign="middle" rowspan="1" colspan="1">Non-Terrestrial Networ k(NTN)</td><td align="left" valign="middle" rowspan="1" colspan="1">Communication networks that include satellites or other non-terrestrial nodes.</td></tr><tr><td align="left" valign="middle" rowspan="1" colspan="1">3GPP</td><td align="left" valign="middle" rowspan="1" colspan="1">3rd Generation Partnership Project; develops mobile communication standards.</td></tr><tr><td rowspan="3" align="left" valign="middle" colspan="1">Node Types</td><td align="left" valign="middle" rowspan="1" colspan="1">Satellites: Orbiting communication nodes.</td></tr><tr><td align="left" valign="middle" rowspan="1" colspan="1">Ground Stations: Fixed communication points on Earth.</td></tr><tr><td align="left" valign="middle" rowspan="1" colspan="1">User Terminals: Devices that connect to the network.</td></tr><tr><td rowspan="3" align="left" valign="middle" colspan="1">Links</td><td align="left" valign="middle" rowspan="1" colspan="1">Inter-Satellite Links (ISLs): connections between satellites.</td></tr><tr><td align="left" valign="middle" rowspan="1" colspan="1">Ground-to-satellite links: Connections between ground stations and satellites.</td></tr><tr><td align="left" valign="middle" rowspan="1" colspan="1">User-to-satellite links: Connections between user terminals and satellites.</td></tr><tr><td align="left" valign="middle" rowspan="1" colspan="1">Network topology</td><td align="left" valign="middle" rowspan="1" colspan="1">The arrangement of nodes and links in the network.</td></tr><tr><td rowspan="2" align="left" valign="middle" colspan="1">Key constraints</td><td align="left" valign="middle" rowspan="1" colspan="1">Link capacity: The maximum amount of data that a communication link can transmit per unit of time.</td></tr><tr><td align="left" valign="middle" rowspan="1" colspan="1">Node capacity: Maximum amount of data that can be processed per unit of time by a satellite or ground station.</td></tr><tr><td align="left" valign="middle" rowspan="1" colspan="1">Graph Neural Network (GNN)</td><td align="left" valign="middle" rowspan="1" colspan="1">A type of neural network designed to operate on graph structures.</td></tr><tr><td align="left" valign="middle" rowspan="1" colspan="1">Deep Reinforcement Learning (DRL)</td><td align="left" valign="middle" rowspan="1" colspan="1">A machine learning technique that enables agents to learn optimal actions through trial and error.</td></tr><tr><td align="left" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">Service Function Chaining (SFC)</td><td align="left" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">A networking concept where a set of network functions is applied to a traffic flow in a specific order.</td></tr></tbody></table></table-wrap><table-wrap position="float" id="sensors-25-01232-t003"><object-id pub-id-type="pii">sensors-25-01232-t003_Table 3</object-id><label>Table 3</label><caption><p>Summary of simulation parameters.</p></caption><table frame="hsides" rules="groups"><thead><tr><th align="left" valign="middle" style="border-bottom:solid thin;border-top:solid thin" rowspan="1" colspan="1">Parameters</th><th align="left" valign="middle" style="border-bottom:solid thin;border-top:solid thin" rowspan="1" colspan="1">Values</th></tr></thead><tbody><tr><td align="left" valign="middle" rowspan="1" colspan="1">Number of satellites</td><td align="left" valign="middle" rowspan="1" colspan="1">6048</td></tr><tr><td align="left" valign="middle" rowspan="1" colspan="1">Simulation time</td><td align="left" valign="middle" rowspan="1" colspan="1">5400 s</td></tr><tr><td align="left" valign="middle" rowspan="1" colspan="1">Simulation step</td><td align="left" valign="middle" rowspan="1" colspan="1">60 s</td></tr><tr><td align="left" valign="middle" rowspan="1" colspan="1">Satellite orbit altitude</td><td align="left" valign="middle" rowspan="1" colspan="1">550 km</td></tr><tr><td align="left" valign="middle" rowspan="1" colspan="1">Number of orbit planes</td><td align="left" valign="middle" rowspan="1" colspan="1">84</td></tr><tr><td align="left" valign="middle" rowspan="1" colspan="1">Number of satellites per plane</td><td align="left" valign="middle" rowspan="1" colspan="1">72</td></tr><tr><td align="left" valign="middle" rowspan="1" colspan="1">Inclination of orbit</td><td align="left" valign="middle" rowspan="1" colspan="1">
<inline-formula>
<mml:math id="mm174" overflow="scroll"><mml:mrow><mml:msup><mml:mn>53</mml:mn><mml:mo>&#x02218;</mml:mo></mml:msup></mml:mrow></mml:math>
</inline-formula>
</td></tr><tr><td align="left" valign="middle" rowspan="1" colspan="1">Eccentricity of orbit</td><td align="left" valign="middle" rowspan="1" colspan="1">0</td></tr><tr><td align="left" valign="middle" rowspan="1" colspan="1">Phase factor</td><td align="left" valign="middle" rowspan="1" colspan="1">2</td></tr><tr><td align="left" valign="middle" rowspan="1" colspan="1">Number of ground stations</td><td align="left" valign="middle" rowspan="1" colspan="1">117</td></tr><tr><td align="left" valign="middle" rowspan="1" colspan="1">Number of function nodes</td><td align="left" valign="middle" rowspan="1" colspan="1">[3, 4, 5]</td></tr><tr><td align="left" valign="middle" rowspan="1" colspan="1">Number of user terminals</td><td align="left" valign="middle" rowspan="1" colspan="1">[2000, 4000, 6000, 8000]</td></tr><tr><td align="left" valign="middle" rowspan="1" colspan="1">Minimum elevation angle of ground station</td><td align="left" valign="middle" rowspan="1" colspan="1">
<inline-formula>
<mml:math id="mm175" overflow="scroll"><mml:mrow><mml:msup><mml:mn>40</mml:mn><mml:mo>&#x02218;</mml:mo></mml:msup></mml:mrow></mml:math>
</inline-formula>
</td></tr><tr><td align="left" valign="middle" rowspan="1" colspan="1">Minimum elevation angle of user terminal</td><td align="left" valign="middle" rowspan="1" colspan="1">
<inline-formula>
<mml:math id="mm176" overflow="scroll"><mml:mrow><mml:msup><mml:mn>20</mml:mn><mml:mo>&#x02218;</mml:mo></mml:msup></mml:mrow></mml:math>
</inline-formula>
</td></tr><tr><td align="left" valign="middle" rowspan="1" colspan="1">Central frequency</td><td align="left" valign="middle" rowspan="1" colspan="1">20 GHz(UL), 30 GHz(DL)</td></tr><tr><td align="left" valign="middle" rowspan="1" colspan="1">Satellite Tx gain</td><td align="left" valign="middle" rowspan="1" colspan="1">30 dBi</td></tr><tr><td align="left" valign="middle" rowspan="1" colspan="1">Satellite EIRP density</td><td align="left" valign="middle" rowspan="1" colspan="1">4 dBW/MHz</td></tr><tr><td align="left" valign="middle" rowspan="1" colspan="1">Bandwidth</td><td align="left" valign="middle" rowspan="1" colspan="1">250 MHz(UL), 62.5 (DL)</td></tr><tr><td align="left" valign="middle" rowspan="1" colspan="1">Satellite G/T</td><td align="left" valign="middle" rowspan="1" colspan="1">13 dB K<sup>&#x02212;1</sup></td></tr><tr><td align="left" valign="middle" rowspan="1" colspan="1">Satellite Rx gain</td><td align="left" valign="middle" rowspan="1" colspan="1">38.5 dBi</td></tr><tr><td align="left" valign="middle" rowspan="1" colspan="1">User terminal Rx antenna gain</td><td align="left" valign="middle" rowspan="1" colspan="1">39.7 dBi</td></tr><tr><td align="left" valign="middle" rowspan="1" colspan="1">User terminal noise figure</td><td align="left" valign="middle" rowspan="1" colspan="1">1.2 dB</td></tr><tr><td align="left" valign="middle" rowspan="1" colspan="1">User terminal antenna temperature</td><td align="left" valign="middle" rowspan="1" colspan="1">150 K</td></tr><tr><td align="left" valign="middle" rowspan="1" colspan="1">Ambient temperature</td><td align="left" valign="middle" rowspan="1" colspan="1">290 K</td></tr><tr><td align="left" valign="middle" rowspan="1" colspan="1">User terminal Tx antenna gain</td><td align="left" valign="middle" rowspan="1" colspan="1">43.2 dBi</td></tr><tr><td align="left" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">User terminal Tx transmit power</td><td align="left" valign="middle" style="border-bottom:solid thin" rowspan="1" colspan="1">2W (33 dBm)</td></tr></tbody></table></table-wrap></floats-group></article>